import { useCallback, useMemo, useRef } from 'react';
import { createPortal } from 'react-dom';
import { useControl } from "../../LarkMap/hooks";
import { getStyleText } from "../../../utils";
export var CustomControl = function CustomControl(props) {
  var className = props.className,
    style = props.style,
    children = props.children,
    _props$position = props.position,
    position = _props$position === void 0 ? 'topleft' : _props$position,
    name = props.name;
  var containerRef = useRef(document.createElement('div'));
  var styleText = getStyleText(style);
  var onCreate = useCallback(function () {
    return containerRef.current;
  }, []);
  var controlOptions = useMemo(function () {
    return {
      position: position,
      name: name,
      className: className,
      style: styleText
    };
  }, [position, name, className, styleText]);
  useControl(onCreate, undefined, controlOptions);

  // @ts-ignore
  return /*#__PURE__*/createPortal(children, containerRef.current);
};