"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getElementTypePortal = void 0;
var _reactDom = _interopRequireDefault(require("react-dom"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
/**
 * 将 render 中的 JSX 格式转换成 DOM 和 Portal 的形式
 * @param render
 * @param tag
 */
const getElementTypePortal = (render, tag) => {
  // 若 render 为函数格式，则在其每次调用时重新生成 dom 和 portal
  if (render instanceof Function) {
    const dom = document.createElement(tag);
    return (...args) => {
      const reactNode = render(...args);
      const portal = /*#__PURE__*/_reactDom.default.createPortal(reactNode, dom);
      _reactDom.default.render(portal, dom);
      return dom;
    };
  } else {
    const dom = document.createElement(tag);
    const portal = /*#__PURE__*/_reactDom.default.createPortal(render, dom);
    _reactDom.default.render(portal, dom);
    return dom;
  }
};
exports.getElementTypePortal = getElementTypePortal;