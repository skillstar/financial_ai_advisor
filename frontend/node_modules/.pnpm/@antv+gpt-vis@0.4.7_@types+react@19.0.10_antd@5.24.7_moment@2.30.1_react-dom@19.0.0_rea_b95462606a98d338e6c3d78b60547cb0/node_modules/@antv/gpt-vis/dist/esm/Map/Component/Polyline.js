import _slicedToArray from "@babel/runtime/helpers/esm/slicedToArray";
import { useScene } from '@antv/larkmap';
import { useEffect, useState } from 'react';
import { setPolyline } from "../../utils/map";
// 渲染线图层
export default (function (props) {
  var scene = useScene();
  var _useState = useState([]),
    _useState2 = _slicedToArray(_useState, 2),
    layers = _useState2[0],
    setLayers = _useState2[1];
  var removeLayers = function removeLayers() {
    layers.forEach(function (item) {
      scene.removeLayer(item);
    });
  };
  useEffect(function () {
    if (!props.polyline) return;
    var lineLayers = setPolyline(props.polyline || []);
    removeLayers();
    lineLayers.forEach(function (item) {
      scene.addLayer(item);
    });
    setLayers(lineLayers);
    return function () {
      removeLayers();
    };
  }, [props.polyline]);
  return null;
});