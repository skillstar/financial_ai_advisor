!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("L7"),require("React"),require("ReactDOM"),require("_"),require("@antv/l7-draw")):"function"==typeof define&&define.amd?define(["L7","React","ReactDOM","_"],t):"object"==typeof exports?exports.LarkMap=t(require("L7"),require("React"),require("ReactDOM"),require("_"),require("@antv/l7-draw")):e.LarkMap=t(e.L7,e.React,e.ReactDOM,e._,e.L7.Draw)}(self,(function(e,t,n,r,o){return function(){var i={6847:function(e){var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=t},9622:function(e,t,n){for(var r=n(6854).default,o=n(3723),i={},a=0,u=Object.keys(o);a<u.length;a++){var l=u[a];i[o[l]]=l}var c={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};e.exports=c;for(var s=0,f=Object.keys(c);s<f.length;s++){var d=f[s];if(!("channels"in c[d]))throw new Error("missing channels property: "+d);if(!("labels"in c[d]))throw new Error("missing channel labels property: "+d);if(c[d].labels.length!==c[d].channels)throw new Error("channel and label counts mismatch: "+d);var h=c[d],v=h.channels,p=h.labels;delete c[d].channels,delete c[d].labels,Object.defineProperty(c[d],"channels",{value:v}),Object.defineProperty(c[d],"labels",{value:p})}c.rgb.hsl=function(e){var t,n=e[0]/255,r=e[1]/255,o=e[2]/255,i=Math.min(n,r,o),a=Math.max(n,r,o),u=a-i;a===i?t=0:n===a?t=(r-o)/u:r===a?t=2+(o-n)/u:o===a&&(t=4+(n-r)/u),(t=Math.min(60*t,360))<0&&(t+=360);var l=(i+a)/2;return[t,100*(a===i?0:l<=.5?u/(a+i):u/(2-a-i)),100*l]},c.rgb.hsv=function(e){var t,n,r,o,i,a=e[0]/255,u=e[1]/255,l=e[2]/255,c=Math.max(a,u,l),s=c-Math.min(a,u,l),f=function(e){return(c-e)/6/s+.5};return 0===s?(o=0,i=0):(i=s/c,t=f(a),n=f(u),r=f(l),a===c?o=r-n:u===c?o=1/3+t-r:l===c&&(o=2/3+n-t),o<0?o+=1:o>1&&(o-=1)),[360*o,100*i,100*c]},c.rgb.hwb=function(e){var t=e[0],n=e[1],r=e[2];return[c.rgb.hsl(e)[0],100*(1/255*Math.min(t,Math.min(n,r))),100*(r=1-1/255*Math.max(t,Math.max(n,r)))]},c.rgb.cmyk=function(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255,o=Math.min(1-t,1-n,1-r);return[100*((1-t-o)/(1-o)||0),100*((1-n-o)/(1-o)||0),100*((1-r-o)/(1-o)||0),100*o]},c.rgb.keyword=function(e){var t=i[e];if(t)return t;for(var n,r,a,u=1/0,l=0,c=Object.keys(o);l<c.length;l++){var s=c[l],f=o[s],d=(r=e,a=f,Math.pow(r[0]-a[0],2)+Math.pow(r[1]-a[1],2)+Math.pow(r[2]-a[2],2));d<u&&(u=d,n=s)}return n},c.keyword.rgb=function(e){return o[e]},c.rgb.xyz=function(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255;return[100*(.4124*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)),100*(.2126*t+.7152*n+.0722*r),100*(.0193*t+.1192*n+.9505*r)]},c.rgb.lab=function(e){var t=c.rgb.xyz(e),n=t[0],r=t[1],o=t[2];return r/=100,o/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(n-r),200*(r-(o=o>.008856?Math.pow(o,1/3):7.787*o+16/116))]},c.hsl.rgb=function(e){var t,n,r,o=e[0]/360,i=e[1]/100,a=e[2]/100;if(0===i)return[r=255*a,r,r];for(var u=2*a-(t=a<.5?a*(1+i):a+i-a*i),l=[0,0,0],c=0;c<3;c++)(n=o+1/3*-(c-1))<0&&n++,n>1&&n--,r=6*n<1?u+6*(t-u)*n:2*n<1?t:3*n<2?u+(t-u)*(2/3-n)*6:u,l[c]=255*r;return l},c.hsl.hsv=function(e){var t=e[0],n=e[1]/100,r=e[2]/100,o=n,i=Math.max(r,.01);return n*=(r*=2)<=1?r:2-r,o*=i<=1?i:2-i,[t,100*(0===r?2*o/(i+o):2*n/(r+n)),100*((r+n)/2)]},c.hsv.rgb=function(e){var t=e[0]/60,n=e[1]/100,r=e[2]/100,o=Math.floor(t)%6,i=t-Math.floor(t),a=255*r*(1-n),u=255*r*(1-n*i),l=255*r*(1-n*(1-i));switch(r*=255,o){case 0:return[r,l,a];case 1:return[u,r,a];case 2:return[a,r,l];case 3:return[a,u,r];case 4:return[l,a,r];case 5:return[r,a,u]}},c.hsv.hsl=function(e){var t,n,r=e[0],o=e[1]/100,i=e[2]/100,a=Math.max(i,.01);n=(2-o)*i;var u=(2-o)*a;return t=o*a,[r,100*(t=(t/=u<=1?u:2-u)||0),100*(n/=2)]},c.hwb.rgb=function(e){var t,n=e[0]/360,r=e[1]/100,o=e[2]/100,i=r+o;i>1&&(r/=i,o/=i);var a=Math.floor(6*n),u=1-o;t=6*n-a,0!=(1&a)&&(t=1-t);var l,c,s,f=r+t*(u-r);switch(a){default:case 6:case 0:l=u,c=f,s=r;break;case 1:l=f,c=u,s=r;break;case 2:l=r,c=u,s=f;break;case 3:l=r,c=f,s=u;break;case 4:l=f,c=r,s=u;break;case 5:l=u,c=r,s=f}return[255*l,255*c,255*s]},c.cmyk.rgb=function(e){var t=e[0]/100,n=e[1]/100,r=e[2]/100,o=e[3]/100;return[255*(1-Math.min(1,t*(1-o)+o)),255*(1-Math.min(1,n*(1-o)+o)),255*(1-Math.min(1,r*(1-o)+o))]},c.xyz.rgb=function(e){var t,n,r,o=e[0]/100,i=e[1]/100,a=e[2]/100;return n=-.9689*o+1.8758*i+.0415*a,r=.0557*o+-.204*i+1.057*a,t=(t=3.2406*o+-1.5372*i+-.4986*a)>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,[255*(t=Math.min(Math.max(0,t),1)),255*(n=Math.min(Math.max(0,n),1)),255*(r=Math.min(Math.max(0,r),1))]},c.xyz.lab=function(e){var t=e[0],n=e[1],r=e[2];return n/=100,r/=108.883,t=(t/=95.047)>.008856?Math.pow(t,1/3):7.787*t+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(t-n),200*(n-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]},c.lab.xyz=function(e){var t,n,r,o=e[0];t=e[1]/500+(n=(o+16)/116),r=n-e[2]/200;var i=Math.pow(n,3),a=Math.pow(t,3),u=Math.pow(r,3);return n=i>.008856?i:(n-16/116)/7.787,t=a>.008856?a:(t-16/116)/7.787,r=u>.008856?u:(r-16/116)/7.787,[t*=95.047,n*=100,r*=108.883]},c.lab.lch=function(e){var t,n=e[0],r=e[1],o=e[2];return(t=360*Math.atan2(o,r)/2/Math.PI)<0&&(t+=360),[n,Math.sqrt(r*r+o*o),t]},c.lch.lab=function(e){var t=e[0],n=e[1],r=e[2]/360*2*Math.PI;return[t,n*Math.cos(r),n*Math.sin(r)]},c.rgb.ansi16=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=r(e,3),o=n[0],i=n[1],a=n[2],u=null===t?c.rgb.hsv(e)[2]:t;if(0===(u=Math.round(u/50)))return 30;var l=30+(Math.round(a/255)<<2|Math.round(i/255)<<1|Math.round(o/255));return 2===u&&(l+=60),l},c.hsv.ansi16=function(e){return c.rgb.ansi16(c.hsv.rgb(e),e[2])},c.rgb.ansi256=function(e){var t=e[0],n=e[1],r=e[2];return t===n&&n===r?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)},c.ansi16.rgb=function(e){var t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),[t=t/10.5*255,t,t];var n=.5*(1+~~(e>50));return[(1&t)*n*255,(t>>1&1)*n*255,(t>>2&1)*n*255]},c.ansi256.rgb=function(e){if(e>=232){var t=10*(e-232)+8;return[t,t,t]}var n;return e-=16,[Math.floor(e/36)/5*255,Math.floor((n=e%36)/6)/5*255,n%6/5*255]},c.rgb.hex=function(e){var t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},c.hex.rgb=function(e){var t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var n=t[0];3===t[0].length&&(n=n.split("").map((function(e){return e+e})).join(""));var r=parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},c.rgb.hcg=function(e){var t,n=e[0]/255,r=e[1]/255,o=e[2]/255,i=Math.max(Math.max(n,r),o),a=Math.min(Math.min(n,r),o),u=i-a;return t=u<=0?0:i===n?(r-o)/u%6:i===r?2+(o-n)/u:4+(n-r)/u,t/=6,[360*(t%=1),100*u,100*(u<1?a/(1-u):0)]},c.hsl.hcg=function(e){var t=e[1]/100,n=e[2]/100,r=n<.5?2*t*n:2*t*(1-n),o=0;return r<1&&(o=(n-.5*r)/(1-r)),[e[0],100*r,100*o]},c.hsv.hcg=function(e){var t=e[1]/100,n=e[2]/100,r=t*n,o=0;return r<1&&(o=(n-r)/(1-r)),[e[0],100*r,100*o]},c.hcg.rgb=function(e){var t=e[0]/360,n=e[1]/100,r=e[2]/100;if(0===n)return[255*r,255*r,255*r];var o,i=[0,0,0],a=t%1*6,u=a%1,l=1-u;switch(Math.floor(a)){case 0:i[0]=1,i[1]=u,i[2]=0;break;case 1:i[0]=l,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=u;break;case 3:i[0]=0,i[1]=l,i[2]=1;break;case 4:i[0]=u,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=l}return o=(1-n)*r,[255*(n*i[0]+o),255*(n*i[1]+o),255*(n*i[2]+o)]},c.hcg.hsv=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t),r=0;return n>0&&(r=t/n),[e[0],100*r,100*n]},c.hcg.hsl=function(e){var t=e[1]/100,n=e[2]/100*(1-t)+.5*t,r=0;return n>0&&n<.5?r=t/(2*n):n>=.5&&n<1&&(r=t/(2*(1-n))),[e[0],100*r,100*n]},c.hcg.hwb=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t);return[e[0],100*(n-t),100*(1-n)]},c.hwb.hcg=function(e){var t=e[1]/100,n=1-e[2]/100,r=n-t,o=0;return r<1&&(o=(n-r)/(1-r)),[e[0],100*r,100*o]},c.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},c.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},c.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},c.gray.hsl=function(e){return[0,0,e[0]]},c.gray.hsv=c.gray.hsl,c.gray.hwb=function(e){return[0,100,e[0]]},c.gray.cmyk=function(e){return[0,0,0,e[0]]},c.gray.lab=function(e){return[e[0],0,0]},c.gray.hex=function(e){var t=255&Math.round(e[0]/100*255),n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n},c.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}},4030:function(e,t,n){var r=n(3191).default,o=n(9622),i=n(6249),a={};Object.keys(o).forEach((function(e){a[e]={},Object.defineProperty(a[e],"channels",{value:o[e].channels}),Object.defineProperty(a[e],"labels",{value:o[e].labels});var t=i(e);Object.keys(t).forEach((function(n){var o=t[n];a[e][n]=function(e){var t=function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];var i=n[0];if(null==i)return i;i.length>1&&(n=i);var a=e(n);if("object"===r(a))for(var u=a.length,l=0;l<u;l++)a[l]=Math.round(a[l]);return a};return"conversion"in e&&(t.conversion=e.conversion),t}(o),a[e][n].raw=function(e){var t=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=n[0];return null==o?o:(o.length>1&&(n=o),e(n))};return"conversion"in e&&(t.conversion=e.conversion),t}(o)}))})),e.exports=a},6249:function(e,t,n){var r=n(9622);function o(e){var t=function(){for(var e={},t=Object.keys(r),n=t.length,o=0;o<n;o++)e[t[o]]={distance:-1,parent:null};return e}(),n=[e];for(t[e].distance=0;n.length;)for(var o=n.pop(),i=Object.keys(r[o]),a=i.length,u=0;u<a;u++){var l=i[u],c=t[l];-1===c.distance&&(c.distance=t[o].distance+1,c.parent=o,n.unshift(l))}return t}function i(e,t){return function(n){return t(e(n))}}function a(e,t){for(var n=[t[e].parent,e],o=r[t[e].parent][e],a=t[e].parent;t[a].parent;)n.unshift(t[a].parent),o=i(r[t[a].parent][a],o),a=t[a].parent;return o.conversion=n,o}e.exports=function(e){for(var t=o(e),n={},r=Object.keys(t),i=r.length,u=0;u<i;u++){var l=r[u];null!==t[l].parent&&(n[l]=a(l,t))}return n}},3723:function(e){"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},5668:function(e,t,n){var r=n(3723),o=n(5175),i=Object.hasOwnProperty,a=Object.create(null);for(var u in r)i.call(r,u)&&(a[r[u]]=u);var l=e.exports={to:{},get:{}};function c(e,t,n){return Math.min(Math.max(t,e),n)}function s(e){var t=Math.round(e).toString(16).toUpperCase();return t.length<2?"0"+t:t}l.get=function(e){var t,n;switch(e.substring(0,3).toLowerCase()){case"hsl":t=l.get.hsl(e),n="hsl";break;case"hwb":t=l.get.hwb(e),n="hwb";break;default:t=l.get.rgb(e),n="rgb"}return t?{model:n,value:t}:null},l.get.rgb=function(e){if(!e)return null;var t,n,o,a=[0,0,0,1];if(t=e.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(o=t[2],t=t[1],n=0;n<3;n++){var u=2*n;a[n]=parseInt(t.slice(u,u+2),16)}o&&(a[3]=parseInt(o,16)/255)}else if(t=e.match(/^#([a-f0-9]{3,4})$/i)){for(o=(t=t[1])[3],n=0;n<3;n++)a[n]=parseInt(t[n]+t[n],16);o&&(a[3]=parseInt(o+o,16)/255)}else if(t=e.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)){for(n=0;n<3;n++)a[n]=parseInt(t[n+1],0);t[4]&&(t[5]?a[3]=.01*parseFloat(t[4]):a[3]=parseFloat(t[4]))}else{if(!(t=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return(t=e.match(/^(\w+)$/))?"transparent"===t[1]?[0,0,0,0]:i.call(r,t[1])?((a=r[t[1]])[3]=1,a):null:null;for(n=0;n<3;n++)a[n]=Math.round(2.55*parseFloat(t[n+1]));t[4]&&(t[5]?a[3]=.01*parseFloat(t[4]):a[3]=parseFloat(t[4]))}for(n=0;n<3;n++)a[n]=c(a[n],0,255);return a[3]=c(a[3],0,1),a},l.get.hsl=function(e){if(!e)return null;var t=e.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,c(parseFloat(t[2]),0,100),c(parseFloat(t[3]),0,100),c(isNaN(n)?1:n,0,1)]}return null},l.get.hwb=function(e){if(!e)return null;var t=e.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,c(parseFloat(t[2]),0,100),c(parseFloat(t[3]),0,100),c(isNaN(n)?1:n,0,1)]}return null},l.to.hex=function(){var e=o(arguments);return"#"+s(e[0])+s(e[1])+s(e[2])+(e[3]<1?s(Math.round(255*e[3])):"")},l.to.rgb=function(){var e=o(arguments);return e.length<4||1===e[3]?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"},l.to.rgb.percent=function(){var e=o(arguments),t=Math.round(e[0]/255*100),n=Math.round(e[1]/255*100),r=Math.round(e[2]/255*100);return e.length<4||1===e[3]?"rgb("+t+"%, "+n+"%, "+r+"%)":"rgba("+t+"%, "+n+"%, "+r+"%, "+e[3]+")"},l.to.hsl=function(){var e=o(arguments);return e.length<4||1===e[3]?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"},l.to.hwb=function(){var e=o(arguments),t="";return e.length>=4&&1!==e[3]&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"},l.to.keyword=function(e){return a[e.slice(0,3)]}},3059:function(e,t,n){for(var r=n(3191).default,o=n(6854).default,i=n(9094).default,a=n(3216).default,u=n(5668),l=n(4030),c=["keyword","gray","hex"],s={},f=0,d=Object.keys(l);f<d.length;f++){var h=d[f];s[a(l[h].labels).sort().join("")]=h}var v={};function p(e,t){if(!(this instanceof p))return new p(e,t);if(t&&t in c&&(t=null),t&&!(t in l))throw new Error("Unknown model: "+t);var n,r;if(null==e)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof p)this.model=e.model,this.color=a(e.color),this.valpha=e.valpha;else if("string"==typeof e){var o=u.get(e);if(null===o)throw new Error("Unable to parse color from string: "+e);this.model=o.model,r=l[this.model].channels,this.color=o.value.slice(0,r),this.valpha="number"==typeof o.value[r]?o.value[r]:1}else if(e.length>0){this.model=t||"rgb",r=l[this.model].channels;var i=Array.prototype.slice.call(e,0,r);this.color=x(i,r),this.valpha="number"==typeof e[r]?e[r]:1}else if("number"==typeof e)this.model="rgb",this.color=[e>>16&255,e>>8&255,255&e],this.valpha=1;else{this.valpha=1;var f=Object.keys(e);"alpha"in e&&(f.splice(f.indexOf("alpha"),1),this.valpha="number"==typeof e.alpha?e.alpha:0);var d=f.sort().join("");if(!(d in s))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=s[d];var h=l[this.model].labels,y=[];for(n=0;n<h.length;n++)y.push(e[h[n]]);this.color=x(y)}if(v[this.model])for(r=l[this.model].channels,n=0;n<r;n++){var m=v[this.model][n];m&&(this.color[n]=m(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}p.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(e){var t=this.model in u.to?this:this.rgb(),n=1===(t=t.round("number"==typeof e?e:1)).valpha?t.color:[].concat(a(t.color),[this.valpha]);return u.to[t.model](n)},percentString:function(e){var t=this.rgb().round("number"==typeof e?e:1),n=1===t.valpha?t.color:[].concat(a(t.color),[this.valpha]);return u.to.rgb.percent(n)},array:function(){return 1===this.valpha?a(this.color):[].concat(a(this.color),[this.valpha])},object:function(){for(var e={},t=l[this.model].channels,n=l[this.model].labels,r=0;r<t;r++)e[n[r]]=this.color[r];return 1!==this.valpha&&(e.alpha=this.valpha),e},unitArray:function(){var e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,1!==this.valpha&&e.push(this.valpha),e},unitObject:function(){var e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,1!==this.valpha&&(e.alpha=this.valpha),e},round:function(e){return e=Math.max(e||0,0),new p([].concat(a(this.color.map(function(e){return function(t){return function(e,t){return Number(e.toFixed(t))}(t,e)}}(e))),[this.valpha]),this.model)},alpha:function(e){return void 0!==e?new p([].concat(a(this.color),[Math.max(0,Math.min(1,e))]),this.model):this.valpha},red:b("rgb",0,w(255)),green:b("rgb",1,w(255)),blue:b("rgb",2,w(255)),hue:b(["hsl","hsv","hsl","hwb","hcg"],0,(function(e){return(e%360+360)%360})),saturationl:b("hsl",1,w(100)),lightness:b("hsl",2,w(100)),saturationv:b("hsv",1,w(100)),value:b("hsv",2,w(100)),chroma:b("hcg",1,w(100)),gray:b("hcg",2,w(100)),white:b("hwb",1,w(100)),wblack:b("hwb",2,w(100)),cyan:b("cmyk",0,w(100)),magenta:b("cmyk",1,w(100)),yellow:b("cmyk",2,w(100)),black:b("cmyk",3,w(100)),x:b("xyz",0,w(95.047)),y:b("xyz",1,w(100)),z:b("xyz",2,w(108.833)),l:b("lab",0,w(100)),a:b("lab",1),b:b("lab",2),keyword:function(e){return void 0!==e?new p(e):l[this.model].keyword(this.color)},hex:function(e){return void 0!==e?new p(e):u.to.hex(this.rgb().round().color)},hexa:function(e){if(void 0!==e)return new p(e);var t=this.rgb().round().color,n=Math.round(255*this.valpha).toString(16).toUpperCase();return 1===n.length&&(n="0"+n),u.to.hex(t)+n},rgbNumber:function(){var e=this.rgb().color;return(255&e[0])<<16|(255&e[1])<<8|255&e[2]},luminosity:function(){var e,t=this.rgb().color,n=[],r=i(t.entries());try{for(r.s();!(e=r.n()).done;){var a=o(e.value,2),u=a[0],l=a[1]/255;n[u]=l<=.04045?l/12.92:Math.pow((l+.055)/1.055,2.4)}}catch(e){r.e(e)}finally{r.f()}return.2126*n[0]+.7152*n[1]+.0722*n[2]},contrast:function(e){var t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7?"AAA":t>=4.5?"AA":""},isDark:function(){var e=this.rgb().color;return(2126*e[0]+7152*e[1]+722*e[2])/1e4<128},isLight:function(){return!this.isDark()},negate:function(){for(var e=this.rgb(),t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten:function(e){var t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken:function(e){var t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate:function(e){var t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate:function(e){var t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten:function(e){var t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken:function(e){var t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale:function(){var e=this.rgb().color,t=.3*e[0]+.59*e[1]+.11*e[2];return p.rgb(t,t,t)},fade:function(e){return this.alpha(this.valpha-this.valpha*e)},opaquer:function(e){return this.alpha(this.valpha+this.valpha*e)},rotate:function(e){var t=this.hsl(),n=t.color[0];return n=(n=(n+e)%360)<0?360+n:n,t.color[0]=n,t},mix:function(e,t){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+r(e));var n=e.rgb(),o=this.rgb(),i=void 0===t?.5:t,a=2*i-1,u=n.alpha()-o.alpha(),l=((a*u==-1?a:(a+u)/(1+a*u))+1)/2,c=1-l;return p.rgb(l*n.red()+c*o.red(),l*n.green()+c*o.green(),l*n.blue()+c*o.blue(),n.alpha()*i+o.alpha()*(1-i))}};for(var y=function(){var e=g[m];if(c.includes(e))return 1;var t=l[e].channels;p.prototype[e]=function(){if(this.model===e)return new p(this);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.length>0?new p(n,e):new p([].concat(a(L(l[this.model][e].raw(this.color))),[this.valpha]),e)},p[e]=function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=r[0];return"number"==typeof i&&(i=x(r,t)),new p(i,e)}},m=0,g=Object.keys(l);m<g.length;m++)y();function b(e,t,n){e=Array.isArray(e)?e:[e];var r,o=i(e);try{for(o.s();!(r=o.n()).done;){var a=r.value;(v[a]||(v[a]=[]))[t]=n}}catch(e){o.e(e)}finally{o.f()}return e=e[0],function(r){var o;return void 0!==r?(n&&(r=n(r)),(o=this[e]()).color[t]=r,o):(o=this[e]().color[t],n&&(o=n(o)),o)}}function w(e){return function(t){return Math.max(0,Math.min(e,t))}}function L(e){return Array.isArray(e)?e:[e]}function x(e,t){for(var n=0;n<t;n++)"number"!=typeof e[n]&&(e[n]=0);return e}e.exports=p},5021:function(e){var t,n;t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var n=[],r=0;r<e.length;r+=3)for(var o=e[r]<<16|e[r+1]<<8|e[r+2],i=0;i<4;i++)8*r+6*i<=8*e.length?n.push(t.charAt(o>>>6*(3-i)&63)):n.push("=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,o=0;r<e.length;o=++r%4)0!=o&&n.push((t.indexOf(e.charAt(r-1))&Math.pow(2,-2*o+8)-1)<<2*o|t.indexOf(e.charAt(r))>>>6-2*o);return n}},e.exports=n},8987:function(e,t,n){var r=n(6351).Symbol;e.exports=r},2090:function(e,t,n){var r=n(8987),o=n(6280),i=n(9901),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},7415:function(e,t,n){var r=n(5598),o=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(o,""):e}},7784:function(e,t,n){var r=n(3191).default,o="object"==(void 0===n.g?"undefined":r(n.g))&&n.g&&n.g.Object===Object&&n.g;e.exports=o},6280:function(e,t,n){var r=n(8987),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,u=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,u),n=e[u];try{e[u]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(t?e[u]=n:delete e[u]),o}},9901:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},6351:function(e,t,n){var r=n(3191).default,o=n(7784),i="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,a=o||i||Function("return this")();e.exports=a},5598:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},901:function(e,t,n){var r=n(3169),o=n(872),i=n(8918),a=Math.max,u=Math.min;e.exports=function(e,t,n){var l,c,s,f,d,h,v=0,p=!1,y=!1,m=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function g(t){var n=l,r=c;return l=c=void 0,v=t,f=e.apply(r,n)}function b(e){return v=e,d=setTimeout(L,t),p?g(e):f}function w(e){var n=e-h;return void 0===h||n>=t||n<0||y&&e-v>=s}function L(){var e=o();if(w(e))return x(e);d=setTimeout(L,function(e){var n=t-(e-h);return y?u(n,s-(e-v)):n}(e))}function x(e){return d=void 0,m&&l?g(e):(l=c=void 0,f)}function k(){var e=o(),n=w(e);if(l=arguments,c=this,h=e,n){if(void 0===d)return b(h);if(y)return clearTimeout(d),d=setTimeout(L,t),g(h)}return void 0===d&&(d=setTimeout(L,t)),f}return t=i(t)||0,r(n)&&(p=!!n.leading,s=(y="maxWait"in n)?a(i(n.maxWait)||0,t):s,m="trailing"in n?!!n.trailing:m),k.cancel=function(){void 0!==d&&clearTimeout(d),v=0,l=h=c=d=void 0},k.flush=function(){return void 0===d?f:x(o())},k}},3169:function(e,t,n){var r=n(3191).default;e.exports=function(e){var t=r(e);return null!=e&&("object"==t||"function"==t)}},1368:function(e,t,n){var r=n(3191).default;e.exports=function(e){return null!=e&&"object"==r(e)}},6948:function(e,t,n){var r=n(3191).default,o=n(2090),i=n(1368);e.exports=function(e){return"symbol"==r(e)||i(e)&&"[object Symbol]"==o(e)}},872:function(e,t,n){var r=n(6351);e.exports=function(){return r.Date.now()}},8918:function(e,t,n){var r=n(7415),o=n(3169),i=n(6948),a=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=u.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):a.test(e)?NaN:+e}},3906:function(e,t,n){var r,o,i,a,u;r=n(5021),o=n(6847).utf8,i=n(1392),a=n(6847).bin,(u=function e(t,n){t.constructor==String?t=n&&"binary"===n.encoding?a.stringToBytes(t):o.stringToBytes(t):i(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||t.constructor===Uint8Array||(t=t.toString());for(var u=r.bytesToWords(t),l=8*t.length,c=1732584193,s=-271733879,f=-1732584194,d=271733878,h=0;h<u.length;h++)u[h]=16711935&(u[h]<<8|u[h]>>>24)|4278255360&(u[h]<<24|u[h]>>>8);u[l>>>5]|=128<<l%32,u[14+(l+64>>>9<<4)]=l;var v=e._ff,p=e._gg,y=e._hh,m=e._ii;for(h=0;h<u.length;h+=16){var g=c,b=s,w=f,L=d;c=v(c,s,f,d,u[h+0],7,-680876936),d=v(d,c,s,f,u[h+1],12,-389564586),f=v(f,d,c,s,u[h+2],17,606105819),s=v(s,f,d,c,u[h+3],22,-1044525330),c=v(c,s,f,d,u[h+4],7,-176418897),d=v(d,c,s,f,u[h+5],12,1200080426),f=v(f,d,c,s,u[h+6],17,-1473231341),s=v(s,f,d,c,u[h+7],22,-45705983),c=v(c,s,f,d,u[h+8],7,1770035416),d=v(d,c,s,f,u[h+9],12,-1958414417),f=v(f,d,c,s,u[h+10],17,-42063),s=v(s,f,d,c,u[h+11],22,-1990404162),c=v(c,s,f,d,u[h+12],7,1804603682),d=v(d,c,s,f,u[h+13],12,-40341101),f=v(f,d,c,s,u[h+14],17,-1502002290),c=p(c,s=v(s,f,d,c,u[h+15],22,1236535329),f,d,u[h+1],5,-165796510),d=p(d,c,s,f,u[h+6],9,-1069501632),f=p(f,d,c,s,u[h+11],14,643717713),s=p(s,f,d,c,u[h+0],20,-373897302),c=p(c,s,f,d,u[h+5],5,-701558691),d=p(d,c,s,f,u[h+10],9,38016083),f=p(f,d,c,s,u[h+15],14,-660478335),s=p(s,f,d,c,u[h+4],20,-405537848),c=p(c,s,f,d,u[h+9],5,568446438),d=p(d,c,s,f,u[h+14],9,-1019803690),f=p(f,d,c,s,u[h+3],14,-187363961),s=p(s,f,d,c,u[h+8],20,1163531501),c=p(c,s,f,d,u[h+13],5,-1444681467),d=p(d,c,s,f,u[h+2],9,-51403784),f=p(f,d,c,s,u[h+7],14,1735328473),c=y(c,s=p(s,f,d,c,u[h+12],20,-1926607734),f,d,u[h+5],4,-378558),d=y(d,c,s,f,u[h+8],11,-2022574463),f=y(f,d,c,s,u[h+11],16,1839030562),s=y(s,f,d,c,u[h+14],23,-35309556),c=y(c,s,f,d,u[h+1],4,-1530992060),d=y(d,c,s,f,u[h+4],11,1272893353),f=y(f,d,c,s,u[h+7],16,-155497632),s=y(s,f,d,c,u[h+10],23,-1094730640),c=y(c,s,f,d,u[h+13],4,681279174),d=y(d,c,s,f,u[h+0],11,-358537222),f=y(f,d,c,s,u[h+3],16,-722521979),s=y(s,f,d,c,u[h+6],23,76029189),c=y(c,s,f,d,u[h+9],4,-640364487),d=y(d,c,s,f,u[h+12],11,-421815835),f=y(f,d,c,s,u[h+15],16,530742520),c=m(c,s=y(s,f,d,c,u[h+2],23,-995338651),f,d,u[h+0],6,-198630844),d=m(d,c,s,f,u[h+7],10,1126891415),f=m(f,d,c,s,u[h+14],15,-1416354905),s=m(s,f,d,c,u[h+5],21,-57434055),c=m(c,s,f,d,u[h+12],6,1700485571),d=m(d,c,s,f,u[h+3],10,-1894986606),f=m(f,d,c,s,u[h+10],15,-1051523),s=m(s,f,d,c,u[h+1],21,-2054922799),c=m(c,s,f,d,u[h+8],6,1873313359),d=m(d,c,s,f,u[h+15],10,-30611744),f=m(f,d,c,s,u[h+6],15,-1560198380),s=m(s,f,d,c,u[h+13],21,1309151649),c=m(c,s,f,d,u[h+4],6,-145523070),d=m(d,c,s,f,u[h+11],10,-1120210379),f=m(f,d,c,s,u[h+2],15,718787259),s=m(s,f,d,c,u[h+9],21,-343485551),c=c+g>>>0,s=s+b>>>0,f=f+w>>>0,d=d+L>>>0}return r.endian([c,s,f,d])})._ff=function(e,t,n,r,o,i,a){var u=e+(t&n|~t&r)+(o>>>0)+a;return(u<<i|u>>>32-i)+t},u._gg=function(e,t,n,r,o,i,a){var u=e+(t&r|n&~r)+(o>>>0)+a;return(u<<i|u>>>32-i)+t},u._hh=function(e,t,n,r,o,i,a){var u=e+(t^n^r)+(o>>>0)+a;return(u<<i|u>>>32-i)+t},u._ii=function(e,t,n,r,o,i,a){var u=e+(n^(t|~r))+(o>>>0)+a;return(u<<i|u>>>32-i)+t},u._blocksize=16,u._digestsize=16,e.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e);var n=r.wordsToBytes(u(e,t));return t&&t.asBytes?n:t&&t.asString?a.bytesToString(n):r.bytesToHex(n)}},1392:function(e){function t(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(t(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&t(e.slice(0,0))}(e)||!!e._isBuffer)}},9667:function(e,t,n){"use strict";var r,o=n(3191).default,i=Symbol.for("react.element"),a=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),f=Symbol.for("react.context"),d=Symbol.for("react.server_context"),h=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function b(e){if("object"===o(e)&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case u:case c:case l:case v:case p:return e;default:switch(e=e&&e.$$typeof){case d:case f:case h:case m:case y:case s:return e;default:return t}}case a:return t}}}r=Symbol.for("react.module.reference"),t.ForwardRef=h,t.isFragment=function(e){return b(e)===u},t.isMemo=function(e){return b(e)===y}},8851:function(e,t,n){"use strict";e.exports=n(9667)},8522:function(e,t,n){var r=n(3191).default,o="undefined"!=typeof Element,i="function"==typeof Map,a="function"==typeof Set,u="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function l(e,t){if(e===t)return!0;if(e&&t&&"object"==r(e)&&"object"==r(t)){if(e.constructor!==t.constructor)return!1;var n,c,s,f;if(Array.isArray(e)){if((n=e.length)!=t.length)return!1;for(c=n;0!=c--;)if(!l(e[c],t[c]))return!1;return!0}if(i&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(f=e.entries();!(c=f.next()).done;)if(!t.has(c.value[0]))return!1;for(f=e.entries();!(c=f.next()).done;)if(!l(c.value[1],t.get(c.value[0])))return!1;return!0}if(a&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(f=e.entries();!(c=f.next()).done;)if(!t.has(c.value[0]))return!1;return!0}if(u&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if((n=e.length)!=t.length)return!1;for(c=n;0!=c--;)if(e[c]!==t[c])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&"function"==typeof e.valueOf&&"function"==typeof t.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&"function"==typeof e.toString&&"function"==typeof t.toString)return e.toString()===t.toString();if((n=(s=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(c=n;0!=c--;)if(!Object.prototype.hasOwnProperty.call(t,s[c]))return!1;if(o&&e instanceof Element)return!1;for(c=n;0!=c--;)if(("_owner"!==s[c]&&"__v"!==s[c]&&"__o"!==s[c]||!e.$$typeof)&&!l(e[s[c]],t[s[c]]))return!1;return!0}return e!=e&&t!=t}e.exports=function(e,t){try{return l(e,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}},5175:function(e,t,n){"use strict";var r=n(9244),o=Array.prototype.concat,i=Array.prototype.slice,a=e.exports=function(e){for(var t=[],n=0,a=e.length;n<a;n++){var u=e[n];r(u)?t=o.call(t,i.call(u)):t.push(u)}return t};a.wrap=function(e){return function(){return e(a(arguments))}}},9244:function(e){e.exports=function(e){return!(!e||"string"==typeof e)&&(e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&"String"!==e.constructor.name))}},3389:function(t){"use strict";t.exports=e},1024:function(e){"use strict";e.exports=t},314:function(e){"use strict";e.exports=n},9479:function(e){"use strict";e.exports=r},3082:function(e){"use strict";e.exports=o},6667:function(e,t,n){var r,o=n(3191).default;!function(){"use strict";var i={}.hasOwnProperty;function a(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=l(e,u(n)))}return e}function u(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!==o(e))return"";if(Array.isArray(e))return a.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)i.call(e,n)&&e[n]&&(t=l(t,n));return t}function l(e,t){return t?e?e+" "+t:e+t:e}e.exports?(a.default=a,e.exports=a):"object"===o(n.amdO)&&n.amdO?void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r):window.classNames=a}()},7663:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},2167:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},6607:function(e,t,n){var r=n(7663);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},467:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},3054:function(e){function t(e,t,n,r,o,i,a){try{var u=e[i](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,o)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise((function(o,i){var a=e.apply(n,r);function u(e){t(a,o,i,u,l,"next",e)}function l(e){t(a,o,i,u,l,"throw",e)}u(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},3823:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},6875:function(e,t,n){var r=n(7004);function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,r(o.key),o)}}e.exports=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},9094:function(e,t,n){var r=n(874);e.exports=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){l=!0,a=e},f:function(){try{u||null==n.return||n.return()}finally{if(l)throw a}}}},e.exports.__esModule=!0,e.exports.default=e.exports},7009:function(e,t,n){var r=n(4204),o=n(1685),i=n(9970);e.exports=function(e){var t=o();return function(){var n,o=r(e);if(t){var a=r(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return i(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},9610:function(e,t,n){var r=n(7004);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},9164:function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},5167:function(e,t,n){var r=n(8863);function o(){return"undefined"!=typeof Reflect&&Reflect.get?(e.exports=o=Reflect.get.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=o=function(e,t,n){var o=r(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},e.exports.__esModule=!0,e.exports.default=e.exports),o.apply(this,arguments)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},4204:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},2400:function(e,t,n){var r=n(9861);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},4552:function(e,t,n){var r=n(3191).default;function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}e.exports=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var l=a?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(i,u,l):i[u]=e[u]}return i.default=e,n&&n.set(e,i),i},e.exports.__esModule=!0,e.exports.default=e.exports},1685:function(e){e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},5949:function(e){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},9232:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}},e.exports.__esModule=!0,e.exports.default=e.exports},1203:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},5051:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},3767:function(e,t,n){var r=n(9610);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},8823:function(e,t,n){var r=n(1262);e.exports=function(e,t){if(null==e)return{};var n,o,i=r(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i},e.exports.__esModule=!0,e.exports.default=e.exports},1262:function(e){e.exports=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o},e.exports.__esModule=!0,e.exports.default=e.exports},9970:function(e,t,n){var r=n(3191).default,o=n(467);e.exports=function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return o(e)},e.exports.__esModule=!0,e.exports.default=e.exports},1856:function(e,t,n){var r=n(3191).default;function o(){"use strict";e.exports=o=function(){return n},e.exports.__esModule=!0,e.exports.default=e.exports;var t,n={},i=Object.prototype,a=i.hasOwnProperty,u=Object.defineProperty||function(e,t,n){e[t]=n.value},l="function"==typeof Symbol?Symbol:{},c=l.iterator||"@@iterator",s=l.asyncIterator||"@@asyncIterator",f=l.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(t){d=function(e,t,n){return e[t]=n}}function h(e,t,n,r){var o=t&&t.prototype instanceof b?t:b,i=Object.create(o.prototype),a=new N(r||[]);return u(i,"_invoke",{value:C(e,n,a)}),i}function v(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}n.wrap=h;var p="suspendedStart",y="executing",m="completed",g={};function b(){}function w(){}function L(){}var x={};d(x,c,(function(){return this}));var k=Object.getPrototypeOf,S=k&&k(k(P([])));S&&S!==i&&a.call(S,c)&&(x=S);var M=L.prototype=b.prototype=Object.create(x);function E(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(o,i,u,l){var c=v(e[o],e,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==r(f)&&a.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,u,l)}),(function(e){n("throw",e,u,l)})):t.resolve(f).then((function(e){s.value=e,u(s)}),(function(e){return n("throw",e,u,l)}))}l(c.arg)}var o;u(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}})}function C(e,n,r){var o=p;return function(i,a){if(o===y)throw new Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var l=I(u,r);if(l){if(l===g)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=y;var c=v(e,n,r);if("normal"===c.type){if(o=r.done?m:"suspendedYield",c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function I(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=v(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[c];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(a.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(r(e)+" is not iterable")}return w.prototype=L,u(M,"constructor",{value:L,configurable:!0}),u(L,"constructor",{value:w,configurable:!0}),w.displayName=d(L,f,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,L):(e.__proto__=L,d(e,f,"GeneratorFunction")),e.prototype=Object.create(M),e},n.awrap=function(e){return{__await:e}},E(O.prototype),d(O.prototype,s,(function(){return this})),n.AsyncIterator=O,n.async=function(e,t,r,o,i){void 0===i&&(i=Promise);var a=new O(h(e,t,r,o),i);return n.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(M),d(M,f,"Generator"),d(M,c,(function(){return this})),d(M,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=P,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,o){return u.type="throw",u.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],u=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var l=a.call(i,"catchLoc"),c=a.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},n}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},9861:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},6854:function(e,t,n){var r=n(2167),o=n(9232),i=n(874),a=n(1203);e.exports=function(e,t){return r(e)||o(e,t)||i(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},8863:function(e,t,n){var r=n(4204);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports},6594:function(e,t,n){var r=n(2167),o=n(5949),i=n(874),a=n(1203);e.exports=function(e){return r(e)||o(e)||i(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},3216:function(e,t,n){var r=n(6607),o=n(5949),i=n(874),a=n(5051);e.exports=function(e){return r(e)||o(e)||i(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},4753:function(e,t,n){var r=n(3191).default;e.exports=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},7004:function(e,t,n){var r=n(3191).default,o=n(4753);e.exports=function(e){var t=o(e,"string");return"symbol"==r(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},3191:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},874:function(e,t,n){var r=n(7663);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports}},a={};function u(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={exports:{}};return i[e](n,n.exports,u),n.exports}u.amdO={},u.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return u.d(t,{a:t}),t},u.d=function(e,t){for(var n in t)u.o(t,n)&&!u.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},u.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var l={};return function(){"use strict";u.r(l),u.d(l,{BubbleLayer:function(){return Nt},ChoroplethLayer:function(){return Wt},ContextMenu:function(){return ko},CustomControl:function(){return no},ExportImageControl:function(){return ao},FlowLayer:function(){return Zr},FullscreenControl:function(){return uo},GeoLocateControl:function(){return lo},HeatmapLayer:function(){return at},IconFontLayer:function(){return Xr},IconImageLayer:function(){return Jr},ImageLayer:function(){return lt},LarkMap:function(){return te},LayerPopup:function(){return wo},LayerSwitchControl:function(){return co},LegendCategories:function(){return gs},LegendIcon:function(){return ds},LegendProportion:function(){return vs},LegendRamp:function(){return As},LineLayer:function(){return st},LocationSearch:function(){return cs},LogoControl:function(){return po},MapThemeControl:function(){return so},Marker:function(){return mo},MouseLocationControl:function(){return fo},PointLayer:function(){return dt},PolygonLayer:function(){return vt},Popup:function(){return go},RasterLayer:function(){return yt},RegionLocation:function(){return ss},ScaleControl:function(){return ho},SyncScene:function(){return Fs},Template:function(){return yo},TextLayer:function(){return gt},ZoomControl:function(){return vo},syncScene:function(){return Ts},useControl:function(){return ie},useDraw:function(){return js},useDrawGroup:function(){return Rs},useLayer:function(){return ue},useLayerList:function(){return le},useLayerManager:function(){return ae},useScene:function(){return oe},version:function(){return Ds}});var e,t=u(3767),n=u.n(t),r=u(6854),o=u.n(r),i=u(8823),a=u.n(i),c=u(3389),s=u(1024),f=u.n(s),d=u(8522),h=u.n(d),v=(e=s.useEffect,function(t,n){var r,o,i=(0,s.useRef)(),a=(0,s.useRef)(0);void 0!==n&&(r=n,o=i.current,void 0===r&&(r=[]),void 0===o&&(o=[]),h()(r,o))||(a.current+=1),i.current=n,e(t,[a.current])}),p=u(6667),y=u.n(p),m=u(9479),g=u(9094),b=u.n(g),w=u(3823),L=u.n(w),x=u(6875),k=u.n(x),S=u(467),M=u.n(S),E=u(2400),O=u.n(E),C=u(7009),I=u.n(C),_=u(9610),A=u.n(_),N=function(){function e(){this._events={}}return e.prototype.on=function(e,t,n){return this._events[e]||(this._events[e]=[]),this._events[e].push({callback:t,once:!!n}),this},e.prototype.once=function(e,t){return this.on(e,t,!0)},e.prototype.emit=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=this._events[e]||[],i=this._events["*"]||[],a=function(r){for(var o=r.length,i=0;i<o;i++)if(r[i]){var a=r[i],u=a.callback;a.once&&(r.splice(i,1),0===r.length&&delete t._events[e],o--,i--),u.apply(t,n)}};a(o),a(i)},e.prototype.off=function(e,t){if(e)if(t){for(var n=this._events[e]||[],r=n.length,o=0;o<r;o++)n[o].callback===t&&(n.splice(o,1),r--,o--);0===n.length&&delete this._events[e]}else delete this._events[e];else this._events={};return this},e.prototype.getEvents=function(){return this._events},e}(),P=N,j=0,R=function(e){O()(n,e);var t=I()(n);function n(e){var r;return L()(this,n),r=t.call(this),A()(M()(r),"scene",void 0),A()(M()(r),"options",void 0),A()(M()(r),"layerMap",new Map),r.scene=e.scene,r.options=e,r}return k()(n,[{key:"hasLayer",value:function(e){return this.layerMap.has(e)}},{key:"addLayer",value:function(e){var t=this.getLayerId(e);this.layerMap.set(t,e),e.addTo(this.scene),this.emit("add",e)}},{key:"addLayers",value:function(e){var t=this;e.forEach((function(e){t.addLayer(e)}))}},{key:"removeLayer",value:function(e){var t="string"==typeof e?e:this.getLayerId(e),n=this.layerMap.get(t);return!!n&&(this.layerMap.delete(t),n.remove(),this.emit("remove",t),!0)}},{key:"getLayers",value:function(){return Array.from(this.layerMap.values())}},{key:"getLayerById",value:function(e){return this.layerMap.get(e)}},{key:"getLayer",value:function(e){return this.getLayerById(e)}},{key:"removeAllLayer",value:function(){var e,t=b()(this.layerMap.values());try{for(t.s();!(e=t.n()).done;){e.value.remove()}}catch(e){t.e(e)}finally{t.f()}this.layerMap.clear()}},{key:"isEmpty",value:function(){return 0===this.layerMap.size}},{key:"getLayerId",value:function(e){return"id"in e?e.id:"".concat(j++)}},{key:"destroy",value:function(){this.removeAllLayer()}}]),n}(P),D=u(1856),T=u.n(D),F=u(4552),z=u.n(F),H=u(3054),W=u.n(H),B=function(){var e=W()(T()().mark((function e(t,n){return T()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Map"!==t){e.next=2;break}return e.abrupt("return",new c.Map(n));case 2:if("Gaode"!==t){e.next=6;break}return e.abrupt("return",new c.GaodeMap(n));case 6:if("GaodeV1"!==t){e.next=10;break}return e.abrupt("return",new c.GaodeMapV1(n));case 10:if("GaodeV2"!==t){e.next=12;break}return e.abrupt("return",new c.GaodeMapV2(n));case 12:if("Tencent"!==t){e.next=14;break}return e.abrupt("return",new c.TencentMap(n));case 14:if("Baidu"!==t){e.next=16;break}return e.abrupt("return",new c.BaiduMap(n));case 16:return e.abrupt("return",Promise.resolve(Promise.resolve().then((function(){return z()(u(3389))}))).then((function(e){return new(0,e.Mapbox)(n)})));case 17:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),U=u(3216),Z=u.n(U),V=function(e,t){var n=(0,s.useRef)();(0,s.useEffect)((function(){var r,o,i=(r=n.current,o=t,r?r.map((function(e,t){return Object.is(r[t],null==o?void 0:o[t])?-1:t})).filter((function(e){return e>=0})):o?o.map((function(e,t){return t})):[]),a=n.current;return n.current=t,e(i,a,t)}),t)},K=u(3191),G=u.n(K);var q=function(e){var t=(0,s.useRef)(e);return t.current=e,t},Y=function(e){return"function"==typeof e},X=function(e){var t=q(e);(0,s.useEffect)((function(){return function(){t.current()}}),[])},$={onLoaded:"loaded",onDestroy:"destroy",onResize:"resize",onMapMove:"mapmove",onMoveStart:"movestart",onMoveEnd:"moveend",onZoomChange:"zoomchange",onZoomStart:"zoomstart",onZoomEnd:"zoomend",onClick:"click",onDblclick:"dblclick",onContextMenu:"contextmenu",onMouseMove:"mousemove",onMouseWheel:"mousewheel",onMouseDown:"mousedown",onMouseOver:"mouseover",onMouseOut:"mouseout",onMouseUp:"mouseup",onDragStart:"dragstart",onDragging:"dragging",onDragEnd:"dragend"},J=Object.keys($),Q=["id","style","className","map","mapType","mapOptions","onLayerManagerCreated","onSceneLoaded","children"],ee=f().createContext(null),te=(0,s.memo)((0,s.forwardRef)((function(e,t){var r=e.id,i=e.style,u=e.className,l=e.map,d=e.mapType,h=void 0===d?"Gaode":d,p=e.mapOptions,g=void 0===p?{}:p,b=e.onLayerManagerCreated,w=e.onSceneLoaded,L=e.children,x=a()(e,Q),k=(0,s.useRef)(),S=(0,s.useState)(null),M=o()(S,2),E=M[0],O=M[1],C=(0,s.useRef)({scene:null,layerManager:null}).current;(0,s.useEffect)((function(){var e,t=!0,r=(0,m.isUndefined)(l)?B(h,g):"function"==typeof l?l():l;return Promise.resolve(r).then((function(r){if(t){e=new c.Scene(n()(n()({},x),{},{id:k.current,map:r}));var o=new R({scene:e});C.scene=e,C.layerManager=o,e.once("loaded",(function(){w&&w(e),b&&b(o),O(e)}))}})).catch((function(e){console.error(e)})),function(){t=!1,e&&(C.scene=null,C.layerManager=null,e.destroy())}}),[]),function(e,t){V((function(t,n,r){if(e){var o=t.filter((function(e){return!!e})).map((function(e){return e-1}));t.includes(0)&&(o=J.map((function(e,t){return t}))),o.forEach((function(t){var o=$[J[t]],i=n[t+1],a=r[t+1];i&&e.off(o,i),a&&e.on(o,a)}))}}),[e].concat(Z()(J.map((function(e){return t[e]}))))),X((function(){e&&J.forEach((function(n){var r=$[n],o=t[n];r&&o&&e.off(r,o)}))}))}(E,e),(0,s.useImperativeHandle)(t,(function(){return{getScene:function(){return E},getMap:function(){return E.map}}}),[E]),(0,s.useEffect)((function(){E&&g.style&&E.setMapStyle(g.style)}),[g.style]),v((function(){(0,m.isNull)(E)||(g.center&&(0,m.isNumber)(g.zoom)?E.setZoomAndCenter(g.zoom,g.center):(0,m.isNumber)(g.zoom)?E.setZoom(g.zoom):g.center&&E.setCenter(g.center))}),[g.zoom,g.center]),(0,s.useEffect)((function(){E&&(0,m.isNumber)(g.pitch)&&E.setPitch(g.pitch)}),[g.pitch]),(0,s.useEffect)((function(){E&&(0,m.isNumber)(g.rotation)&&E.setRotation(g.rotation)}),[g.rotation]);var I=(0,s.useMemo)((function(){return n()({position:"relative"},i)}),[i]);return f().createElement("div",{id:r,ref:k,style:I,className:y()("larkmap",u)},E&&f().createElement(ee.Provider,{value:C},L))}))),ne=function(e){return function(t,n){var r=(0,s.useRef)(!1);e((function(){return function(){r.current=!1}}),[]),e((function(){if(r.current)return t();r.current=!0}),n)}},re=ne(s.useEffect),oe=function(){var e=(0,s.useContext)(ee);if(!e)throw new Error("The useScene must be used in the LarkMap container");return e.scene},ie=function(e,t,n){var r=oe(),o=(0,s.useRef)();(0,s.useEffect)((function(){var i=new c.Control(n);return i.onAdd=function(){return e(r)},i.onRemove=function(){},o.current=i,r.addControl(i),function(){"function"==typeof t&&t(r),o.current=null,r.removeControl(i)}}),[]),re((function(){var e;null===(e=o.current)||void 0===e||e.setOptions(n)}),[n])},ae=function(){var e=(0,s.useContext)(ee);if(!e)throw new Error("The useLayerManager must be used in the LarkMap container");return e.layerManager},ue=function(e){var t=ae(),n=(0,s.useState)(t.getLayer(e)),r=o()(n,2),i=r[0],a=r[1];return(0,s.useEffect)((function(){var n=function(t){e===t.id&&a(t)},r=function(t){e===t&&a(void 0)},o=t.getLayer(e);return o?a(o):(t.on("add",n),t.on("remove",r)),function(){void 0===o&&(t.off("add",n),t.off("remove",r))}}),[e]),i},le=function(){var e=ae(),t=(0,s.useState)((null==e?void 0:e.getLayers())||[]),n=o()(t,2),r=n[0],i=n[1];return(0,s.useEffect)((function(){if(e){var t=function(){i(e.getLayers())};return e.on("add",t),e.on("remove",t),function(){e.off("add",t),e.off("remove",t)}}}),[e]),r},ce=u(5167),se=u.n(ce),fe=u(4204),de=u.n(fe);function he(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function ve(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))}Object.create;function pe(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function ye(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r}function me(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"==typeof SuppressedError&&SuppressedError;var ge={}.toString,be=function(e,t){return ge.call(e)==="[object "+t+"]"},we=function(e){return be(e,"Function")},Le=function(e){return Array.isArray?Array.isArray(e):be(e,"Array")},xe=function(e){var t=G()(e);return null!==e&&"object"===t||"function"===t};var ke=function(e,t){if(e)if(Le(e))for(var n=0,r=e.length;n<r&&!1!==t(e[n],n);n++);else if(xe(e))for(var o in e)if(e.hasOwnProperty(o)&&!1===t(e[o],o))break};Object.keys;var Se=function(e){return"object"===G()(e)&&null!==e},Me=function(e){if(!Se(e)||!be(e,"Object"))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t};var Ee=Array.prototype,Oe=(Ee.splice,Ee.indexOf,Array.prototype.splice,function(e,t,n){if(!Le(e)&&!Me(e))return e;var r=n;return ke(e,(function(e,n){r=t(r,e,n)})),r}),Ce=function(e){return be(e,"String")};Object.prototype.hasOwnProperty;var Ie=function(e){return be(e,"Number")},_e=(Number.isInteger&&Number.isInteger,Math.PI,Math.PI,Object.values?function(e){return Object.values(e)}:function(e){var t=[];return ke(e,(function(n,r){we(e)&&"prototype"===r||t.push(n)})),t}),Ae=function(e){return be(e,"Boolean")};Object.prototype;var Ne=function(e){return void 0===e},Pe=function e(t){if("object"!==G()(t)||null===t)return t;var n;if(Le(t)){n=[];for(var r=0,o=t.length;r<o;r++)"object"===G()(t[r])&&null!=t[r]?n[r]=e(t[r]):n[r]=t[r]}else for(var i in n={},t)"object"===G()(t[i])&&null!=t[i]?n[i]=e(t[i]):n[i]=t[i];return n};Object.prototype.hasOwnProperty;var je,Re=function(e){return null!==e&&"function"!=typeof e&&isFinite(e.length)},De=function e(t,n){if(t===n)return!0;if(!t||!n)return!1;if(Ce(t)||Ce(n))return!1;if(Re(t)||Re(n)){if(t.length!==n.length)return!1;for(var r=!0,o=0;o<t.length&&(r=e(t[o],n[o]));o++);return r}if(Se(t)||Se(n)){var i=Object.keys(t),a=Object.keys(n);if(i.length!==a.length)return!1;for(r=!0,o=0;o<i.length&&(r=e(t[i[o]],n[i[o]]));o++);return r}return!1},Te=function(e,t,n){for(var r=0,o=Ce(t)?t.split("."):t;e&&r<o.length;)e=e[o[r++]];return void 0===e||r<o.length?n:e},Fe=(Object.prototype.hasOwnProperty,function(e,t){return Oe(e,(function(e,n,r){return t.includes(r)||(e[r]=n),e}),{})}),ze={},He=function(e){return ze[e=e||"g"]?ze[e]+=1:ze[e]=1,e+ze[e]};(function(e,t){if(!we(e))throw new TypeError("Expected a function");var n=function n(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var u=e.apply(this,r);return a.set(i,u),u};n.cache=new Map})((function(e,t){void 0===t&&(t={});var n=t.fontSize,r=t.fontFamily,o=t.fontWeight,i=t.fontStyle,a=t.fontVariant;return je||(je=document.createElement("canvas").getContext("2d")),je.font=[i,a,o,n+"px",r].join(" "),je.measureText(Ce(e)?e:"").width}),(function(e,t){return void 0===t&&(t={}),ye([e],_e(t)).join("")})),function(){function e(){this.map={}}e.prototype.has=function(e){return void 0!==this.map[e]},e.prototype.get=function(e,t){var n=this.map[e];return void 0===n?t:n},e.prototype.set=function(e,t){this.map[e]=t},e.prototype.clear=function(){this.map={}},e.prototype.delete=function(e){delete this.map[e]},e.prototype.size=function(){return Object.keys(this.map).length}}();function We(e,t){return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var i={};return e.forEach((function(e,t){i[e]=r[t]})),delete i[void 0],t(i)}}var Be=function(){function e(){L()(this,e)}return k()(e,null,[{key:"shape",value:function(t,n){if(Ce(n))t.shape(n);else if(we(n)){var r=[];t.shape(r.join("*"),We(r,n))}else if(xe(n)){var o=n.field?n.field:"";if(we(n.value)){var i=Le(o)?o:o.split("*");t.shape(o,We(i,n.value))}else t.shape(o,n.value);Ce(o)&&n.scale&&e.scale(t,o,n.scale)}}},{key:"size",value:function(t,n){if(Ie(n))t.size(n);else if(Le(n))t.size(n);else if(we(n)){var r=[];t.size(r.join("*"),We(r,n))}else if(xe(n)){var o=n.field?n.field:"";if(we(n.value)){var i=Le(o)?o:o.split("*");t.size(o,We(i,n.value))}else t.size(o,n.value);Ce(o)&&n.scale&&e.scale(t,o,n.scale)}}},{key:"color",value:function(t,n){if(Ce(n))t.color(n);else if(we(n)){var r=[];t.color(r.join("*"),We(r,n))}else if(xe(n)){var o=n.field?n.field:"";if(we(n.value)){var i=Le(o)?o:o.split("*");t.color(o,We(i,n.value))}else t.color(o,n.value);Ce(o)&&n.scale&&e.scale(t,o,n.scale)}}},{key:"scale",value:function(e,t,n){e.scale(t,n)}},{key:"rotate",value:function(e,t){Ce(t)||we(t)||xe(t)}},{key:"texture",value:function(e,t){Ce(t)&&e.texture(t)}},{key:"animate",value:function(e,t){(Ae(t)||xe(t))&&e.animate(t)}},{key:"filter",value:function(e,t){var n=t.field?t.field:"",r=Le(n)?n:n.split("*");e.filter(r.join("*"),We(r,t.value))}},{key:"style",value:function(e,t){t&&e.style(t)}},{key:"state",value:function(e,t){var n=t.active,r=t.select;n&&e.active(n),r&&e.select(r)}}]),e}();function Ue(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var i=t[o];null!==i&&Me(i)?(Me(e[o])||(e[o]={}),n<r?Ue(e[o],i,n+1,r):e[o]=t[o]):Array.isArray(i)?(e[o]=[],e[o]=e[o].concat(i)):void 0!==i&&(e[o]=i)}}var Ze,Ve,Ke,Ge=function(e,t){var n=e.source,r=he(e,["source"]),o=t.source,i=function(e){for(var t=0;t<(arguments.length<=1?0:arguments.length-1);t+=1)Ue(e,t+1<1||arguments.length<=t+1?void 0:arguments[t+1],0,1);return e}({},r,he(t,["source"]));return o instanceof c.Source?i.source=o:n instanceof c.Source?i.source=n:i.source=Object.assign(Object.assign({},n),o),i},qe=function(e,t){if(e instanceof c.Source&&t instanceof c.Source)return e!==t;var n=e.data,r=he(e,["data"]),o=t.data,i=he(t,["data"]);return n!==o||!De(r,i)},Ye=["click","dblclick","unclick","undblclick","contextmenu","uncontextmenu","mouseenter","unmouseenter","mousemove","unmousemove","mouseout","mouseup","unmouseup","mousedown","unpick"],Xe=["show","hide","dataUpdate","destroy","legend","legend:color","legend:size"].concat(Ye);!function(e){e.CREATED="created",e.INITED="inited",e.ADD="add",e.REMOVE="remove"}(Ze||(Ze={})),function(e){e.CREATED="created",e.INITED="inited",e.ADD="add",e.REMOVE="remove"}(Ve||(Ve={})),function(e){e.INITED_LAYER="inited-layer",e.INITED_LAYERS="inited-layers"}(Ke||(Ke={}));var $e=function(e){O()(n,e);var t=I()(n);function n(e){var r;L()(this,n),(r=t.call(this)).isComposite=!1;var o=e.id,i=e.name,a=e.source,u=e.interaction,l=void 0!==u&&u;return r.id=o||He("core-layer"),r.name=i||r.id,r.interaction=l,r.options=Ge(r.getDefaultOptions(),e),r.lastOptions=r.options,r.layer=r.createLayer(),r.adaptorLayerAttr(!1),r.setSource(a),r.emit(Ze.CREATED,M()(r)),r}return k()(n,[{key:"inited",get:function(){return this.layer.inited}},{key:"source",get:function(){return this.layer.getSource()}},{key:"getDefaultOptions",value:function(){return n.DefaultOptions}},{key:"getLayerConfig",value:function(){return Fe(this.options,["source","shape","color","size","scale","texture","style","animate","state"])}},{key:"adaptorAttrOptions",value:function(e){return e}},{key:"adaptorLayerAttr",value:function(){for(var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=["shape","color","size","scale","texture","filter","style","animate","state"],n=this.adaptorAttrOptions(this.options),r=this.adaptorAttrOptions(this.lastOptions),o=0;o<t.length;o++){var i=t[o],a=n[i],u=r[i];Ne(a)||e&&De(a,u)||Be[i](this.layer,a)}}},{key:"setSource",value:function(e){if(e instanceof c.Source)this.layer.setSource(e);else{var t=e.data,n=he(e,["data"]);this.layer.getSource()?this.layer.setData(t,n):this.layer.source(t,n)}}},{key:"getSource",value:function(){return this.source}},{key:"addTo",value:function(e){var t=this;this.scene=e,this.layer.once(Ze.INITED,(function(){t.emit(Ze.INITED,t)})),this.layer.once(Ze.ADD,(function(){t.emit(Ze.ADD,t)})),e.addLayer(this.layer)}},{key:"remove",value:function(){this.scene&&(this.scene.removeLayer(this.layer),this.emit(Ze.REMOVE))}},{key:"update",value:function(e){var t,n,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateOption(e),this.updateConfig(e),r&&(null===(t=this.scene)||void 0===t||t.setEnableRender(!1)),(Ne(this.options.visible)||this.options.visible)&&this.adaptorLayerAttr(),e.source&&qe(e.source,this.lastOptions.source)&&this.changeData(e.source),r&&(null===(n=this.scene)||void 0===n||n.setEnableRender(!0),this.render())}},{key:"updateOption",value:function(e){this.lastOptions=this.options,this.options=Ge(this.options,e)}},{key:"updateConfig",value:function(e){Ne(e.zIndex)||De(this.lastOptions.zIndex,this.options.zIndex)||this.setIndex(e.zIndex),Ne(e.blend)||De(this.lastOptions.blend,this.options.blend)||this.setBlend(e.blend),Ne(e.minZoom)||De(this.lastOptions.minZoom,this.options.minZoom)||this.setMinZoom(e.minZoom),Ne(e.maxZoom)||De(this.lastOptions.maxZoom,this.options.maxZoom)||this.setMaxZoom(e.maxZoom),Ne(e.visible)||De(this.lastOptions.visible,this.options.visible)||(e.visible?this.show():this.hide())}},{key:"render",value:function(){this.scene&&this.scene.render()}},{key:"changeData",value:function(e){this.setSource(e)}},{key:"setIndex",value:function(e){this.layer.setIndex(e)}},{key:"setBlend",value:function(e){this.layer.setBlend(e)}},{key:"setMinZoom",value:function(e){this.layer.setMinZoom(e)}},{key:"setMaxZoom",value:function(e){this.layer.setMaxZoom(e)}},{key:"show",value:function(){this.layer.inited&&this.layer.show()}},{key:"hide",value:function(){this.layer.inited&&this.layer.hide()}},{key:"toggleVisible",value:function(){this.isVisible()?this.hide():this.show()}},{key:"isVisible",value:function(){return this.layer.inited?this.layer.isVisible():!!Ne(this.options.visible)||this.options.visible}},{key:"boxSelect",value:function(e,t){this.layer.boxSelect(e,t)}},{key:"fitBounds",value:function(e){this.layer.fitBounds(e)}},{key:"getLegend",value:function(e){return this.layer.getLegend(e)}},{key:"getLegendItems",value:function(e){return this.layer.getLegendItems(e)}},{key:"on",value:function(e,t,r){return-1!==Xe.indexOf(e)?this.layer.on(e,t):se()(de()(n.prototype),"on",this).call(this,e,t,r),this}},{key:"once",value:function(e,t){return-1!==Xe.indexOf(e)?this.layer.once(e,t):se()(de()(n.prototype),"once",this).call(this,e,t),this}},{key:"off",value:function(e,t){return-1!==Xe.indexOf(e)?this.layer.off(e,t):se()(de()(n.prototype),"off",this).call(this,e,t),this}},{key:"destroy",value:function(){this.layer.destroy()}}]),n}(P);$e.DefaultOptions={};var Je,Qe=function(e){O()(n,e);var t=I()(n);function n(){var e;return L()(this,n),(e=t.apply(this,arguments)).type="heatmapLayer",e}return k()(n,[{key:"createLayer",value:function(){var e=this.getLayerConfig();return new c.HeatmapLayer(e)}}]),n}($e),et=["onCreated","source"],tt=["data"],nt=["data"],rt=function(e,t){var r=t.onCreated,o=t.source,i=a()(t,et),u=ae(),l=(0,s.useRef)(),c=(0,s.useRef)(i),f=(0,s.useRef)(o);return l.current||(l.current=new e(t),r&&l.current.once("inited",(function(){return r(l.current)})),u.addLayer(l.current)),re((function(){l.current&&(!(0,m.isEqual)(c.current,i)&&(l.current.update(i),c.current=(0,m.cloneDeep)(i)))}),[i]),re((function(){if(l.current){var e=o.data,t=a()(o,tt),r=f.current,i=r.data,u=a()(r,nt);(e!==i||!(0,m.isEqual)(t,u))&&(l.current.changeData(o),f.current=n()({},o))}}),[o]),(0,s.useEffect)((function(){return function(){l.current&&(u.removeLayer(l.current),l.current=null)}}),[]),l},ot={onRemove:"remove",onShow:"show",onHide:"hide",onDataUpdate:"dataUpdate",onLegend:"legend",onLegendColor:"legend:color",onLegendSize:"legend:size",onClick:"click",onUnClick:"unclick",onDblClick:"dblclick",onUndblclick:"undblclick",onContextMenu:"contextmenu",onUnContextMenu:"uncontextmenu",onMouseEnter:"mouseenter",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseUp:"mouseup",onMouseDown:"mousedown",onUnMousemove:"unmousemove",onUnMouseup:"unmouseup",onUnMousedown:"unmousedown",onUnPick:"unpick"},it=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ot,r=(0,s.useMemo)((function(){return Object.keys(n)}),[n]),o=function(o){r.forEach((function(r){var i=n[r],a=t[r];r&&a&&e[o](i,a)}))},i=function(){return o("on")},a=function(){return o("off")},u=(0,s.useRef)(!0);u.current&&i(),(0,s.useEffect)((function(){return u.current?u.current=!1:i(),function(){a()}}),r.map((function(e){return t[e]}))),X((function(){a()}))},at=(0,s.memo)((0,s.forwardRef)((function(e,t){var n=rt(Qe,e);return it(n.current,e),(0,s.useImperativeHandle)(t,(function(){return n.current})),null}))),ut=function(e){O()(n,e);var t=I()(n);function n(){var e;return L()(this,n),(e=t.apply(this,arguments)).type="imageLayer",e}return k()(n,[{key:"createLayer",value:function(){var e=this.getLayerConfig();return new c.ImageLayer(e)}}]),n}($e),lt=(0,s.memo)((0,s.forwardRef)((function(e,t){var n=rt(ut,e);return it(n.current,e),(0,s.useImperativeHandle)(t,(function(){return n.current})),null}))),ct=function(e){O()(n,e);var t=I()(n);function n(){var e;return L()(this,n),(e=t.apply(this,arguments)).type="lineLayer",e}return k()(n,[{key:"createLayer",value:function(){var e=this.getLayerConfig();return new c.LineLayer(e)}}]),n}($e),st=(0,s.memo)((0,s.forwardRef)((function(e,t){var n=rt(ct,e);return it(n.current,e),(0,s.useImperativeHandle)(t,(function(){return n.current})),null}))),ft=function(e){O()(n,e);var t=I()(n);function n(){var e;return L()(this,n),(e=t.apply(this,arguments)).type="pointLayer",e}return k()(n,[{key:"createLayer",value:function(){var e=this.getLayerConfig();return new c.PointLayer(e)}}]),n}($e),dt=(0,s.memo)((0,s.forwardRef)((function(e,t){var n=rt(ft,e);return it(n.current,e),(0,s.useImperativeHandle)(t,(function(){return n.current})),null}))),ht=function(e){O()(n,e);var t=I()(n);function n(){var e;return L()(this,n),(e=t.apply(this,arguments)).type="polygonLayer",e}return k()(n,[{key:"createLayer",value:function(){var e=this.getLayerConfig();return new c.PolygonLayer(e)}}]),n}($e),vt=(0,s.memo)((0,s.forwardRef)((function(e,t){var n=rt(ht,e);return it(n.current,e),(0,s.useImperativeHandle)(t,(function(){return n.current})),null}))),pt=function(e){O()(n,e);var t=I()(n);function n(){var e;return L()(this,n),(e=t.apply(this,arguments)).type="rasterLayer",e}return k()(n,[{key:"createLayer",value:function(){var e=this.getLayerConfig();return new c.RasterLayer(e)}}]),n}($e),yt=(0,s.memo)((0,s.forwardRef)((function(e,t){var n=rt(pt,e);return it(n.current,e),(0,s.useImperativeHandle)(t,(function(){return n.current})),null}))),mt=function(e){O()(n,e);var t=I()(n);function n(){var e;return L()(this,n),(e=t.apply(this,arguments)).type="textLayer",e}return k()(n,[{key:"createLayer",value:function(){var e=this.getLayerConfig();return new c.PointLayer(e)}},{key:"adaptorAttrOptions",value:function(e){var t=e.field,n=e.style,r=(void 0===n?{}:n)||{},o=r.fill,i=r.fontSize,a={field:t,value:"text"};return Object.assign({shape:a,color:o,size:i},e)}}]),n}($e),gt=(0,s.memo)((0,s.forwardRef)((function(e,t){var n=rt(mt,e);return it(n.current,e),(0,s.useImperativeHandle)(t,(function(){return n.current})),null})));!function(e){e.BubbleLayer="bubbleLayer",e.ChoroplethLayer="choroplethLayer",e.IconImageLayer="iconImageLayer",e.IconFontLayer="iconFontLayer",e.FlowLayer="flowLayer"}(Je||(Je={}));var bt=function(e){O()(n,e);var t=I()(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};L()(this,n),(e=t.call(this)).layerMap=new Map,e.name=o.name?o.name:He("layerGroup");for(var i=0;i<r.length;i++){var a=r[i];e.addLayer(a)}return e}return k()(n,[{key:"addTo",value:function(e){var t=this;this.scene=e;var n,r=0,o=this.layerMap.size,i=b()(this.layerMap.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;a.once("inited",(function(e){r++,t.emit(Ke.INITED_LAYER,e),r===o&&t.emit(Ke.INITED_LAYERS)})),a.addTo(e)}}catch(e){i.e(e)}finally{i.f()}}},{key:"remove",value:function(){this.scene&&this.getLayers().forEach((function(e){return e.remove()}))}},{key:"hasLayer",value:function(e){var t="string"==typeof e?e:this.getLayerId(e);return this.layerMap.has(t)}},{key:"addLayer",value:function(e){var t=this,n=this.getLayerId(e);this.layerMap.set(n,e),this.scene&&(e.once("inited",(function(e){return t.emit(Ke.INITED_LAYER,e)})),e.addTo(this.scene))}},{key:"addLayers",value:function(e){var t=this;e.forEach((function(e){t.addLayer(e)}))}},{key:"removeLayer",value:function(e){var t="string"==typeof e?e:this.getLayerId(e),n=this.layerMap.get(t);return!!n&&(this.layerMap.delete(t),this.scene&&n.remove(),!0)}},{key:"getLayers",value:function(){return Array.from(this.layerMap.values())}},{key:"getLayer",value:function(e){return this.layerMap.get(e)}},{key:"getLayerByName",value:function(e){return this.getLayers().find((function(t){return t.name===e}))}},{key:"removeAllLayer",value:function(){var e,t=b()(this.layerMap.values());try{for(t.s();!(e=t.n()).done;){var n=e.value;this.scene&&n.remove()}}catch(e){t.e(e)}finally{t.f()}this.layerMap.clear()}},{key:"isEmpty",value:function(){return 0===this.layerMap.size}},{key:"setZIndex",value:function(e){var t,n=b()(this.layerMap.values());try{for(n.s();!(t=n.n()).done;){t.value.setIndex(e)}}catch(e){n.e(e)}finally{n.f()}}},{key:"getLayerId",value:function(e){return e.id}},{key:"destroy",value:function(){this.remove(),this.off("*")}}]),n}(P),wt=function(e){O()(n,e);var t=I()(n);function n(e){var r;L()(this,n),(r=t.call(this)).isComposite=!0;var o=e.id,i=e.name;r.id=o||He("composite-layer"),r.name=i||r.id,r.options=Ge(r.getDefaultOptions(),e),r.lastOptions=r.options,r.source=r.createSource();var a=r.createSubLayers();return r.subLayers=new bt(a),r.emit(Ve.CREATED,M()(r)),r}return k()(n,[{key:"getDefaultOptions",value:function(){return n.DefaultOptions}},{key:"createSource",value:function(){var e=this.options.source,t=e.data,n=he(e,["data"]);return this.isSourceInstance(e)?e:new c.Source(t,n)}},{key:"isSourceInstance",value:function(e){return e instanceof c.Source}},{key:"setSubLayersSource",value:function(e){this.layer.changeData(e)}},{key:"initSubLayersEvent",value:function(){}},{key:"addTo",value:function(e){var t=this;this.scene=e,this.subLayers.once(Ke.INITED_LAYERS,(function(){t.emit(Ve.INITED,t),t.emit(Ve.ADD,t)})),this.subLayers.addTo(e)}},{key:"remove",value:function(){this.scene&&(this.subLayers.remove(),this.emit(Ve.REMOVE))}},{key:"update",value:function(e){var t,n,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateOption(e),r&&(null===(t=this.scene)||void 0===t||t.setEnableRender(!1)),e.source&&qe(e.source,this.lastOptions.source)&&this.changeData(e.source),this.updateSubLayers(e),r&&(null===(n=this.scene)||void 0===n||n.setEnableRender(!0),this.render())}},{key:"updateOption",value:function(e){this.lastOptions=this.options,this.options=Ge(this.options,e)}},{key:"render",value:function(){this.scene&&this.scene.render()}},{key:"changeData",value:function(e){this.setSubLayersSource(e)}},{key:"setIndex",value:function(e){this.subLayers.setZIndex(e)}},{key:"setBlend",value:function(e){this.layer.setBlend(e)}},{key:"setMinZoom",value:function(e){this.subLayers.getLayers().forEach((function(t){t.setMinZoom(e)}))}},{key:"setMaxZoom",value:function(e){this.subLayers.getLayers().forEach((function(t){t.setMaxZoom(e)}))}},{key:"show",value:function(){this.layer.inited&&this.update({visible:!0})}},{key:"hide",value:function(){this.layer.inited&&this.update({visible:!1})}},{key:"toggleVisible",value:function(){this.isVisible()?this.hide():this.show()}},{key:"isVisible",value:function(){return this.layer.inited?this.layer.isVisible():!!Ne(this.options.visible)||this.options.visible}},{key:"boxSelect",value:function(e,t){this.layer.boxSelect(e,t)}},{key:"fitBounds",value:function(e){this.layer.fitBounds(e)}},{key:"getLegend",value:function(e){return this.layer.getLegend(e)}},{key:"getLegendItems",value:function(e){return this.layer.getLegendItems(e)}},{key:"getColorLegendItems",value:function(){var e=this.layer.getLegendItems("color");return Array.isArray(e)&&0!==e.length?e:[]}},{key:"getInteractionSubLayers",value:function(){return this.subLayers.getLayers().filter((function(e){return!0===e.interaction}))}},{key:"destroy",value:function(){this.subLayers.destroy()}},{key:"on",value:function(e,t,r){return-1!==Xe.indexOf(e)?this.layer.on(e,t):se()(de()(n.prototype),"on",this).call(this,e,t,r),this}},{key:"once",value:function(e,t){return-1!==Xe.indexOf(e)?this.layer.once(e,t):se()(de()(n.prototype),"once",this).call(this,e,t),this}},{key:"off",value:function(e,t){return-1!==Xe.indexOf(e)?this.layer.off(e,t):se()(de()(n.prototype),"off",this).call(this,e,t),this}}]),n}(P);wt.LayerType=Je,wt.DefaultOptions={};var Lt={data:[],parser:{type:"json",x:"x",y:"y"}},xt={data:{type:"FeatureCollection",features:[]},parser:{type:"geojson"}},kt="#2f54eb",St={active:{fillColor:!1,strokeColor:kt,lineWidth:1.5,lineOpacity:1},select:{fillColor:!1,strokeColor:kt,lineWidth:1.5,lineOpacity:1}},Mt={visible:!0,source:Lt,radius:12,fillColor:"#5FD3A6",lineWidth:1,state:{active:!1,select:!1},enabledMultiSelect:!1,triggerMultiSelectKey:"Shift"},Et=function(e){return Ne(e)||(!1===e.active?St.active=Object.assign(St.active,{fillColor:!1,strokeColor:!1}):"object"===G()(e.active)&&(!1===e.active.fillColor?St.active.fillColor=!1:"string"==typeof e.active.fillColor&&(St.active.fillColor=e.active.fillColor),!1===e.active.strokeColor?St.active.strokeColor=!1:"string"==typeof e.active.strokeColor&&(St.active.strokeColor=e.active.strokeColor),"number"==typeof e.active.lineWidth&&(St.active.lineWidth=e.active.lineWidth),"number"==typeof e.active.lineOpacity&&(St.active.lineOpacity=e.active.lineOpacity)),!1===e.select?St.select=Object.assign(St.select,{fillColor:!1,strokeColor:!1}):"object"===G()(e.select)&&(!1===e.select.fillColor?St.select.fillColor=!1:"string"==typeof e.select.fillColor&&(St.select.fillColor=e.select.fillColor),!1===e.select.strokeColor?St.select.strokeColor=!1:"string"==typeof e.select.strokeColor&&(St.select.strokeColor=e.select.strokeColor),"number"==typeof e.select.lineWidth&&(St.select.lineWidth=e.select.lineWidth),"number"==typeof e.select.lineOpacity&&(St.select.lineOpacity=e.select.lineOpacity))),St},Ot=function(e){var t=e.visible,n=e.minZoom,r=e.maxZoom,o=e.zIndex,i=void 0===o?0:o,a=e.label,u=e.filter,l=t&&Boolean(a)&&(Ne(null==a?void 0:a.visible)||(null==a?void 0:a.visible));return Object.assign(Object.assign({zIndex:i+.1,minZoom:n,maxZoom:r,filter:u},a),{visible:l})},Ct={};window.addEventListener("keydown",(function(e){e.isComposing||229===e.keyCode||(Ct[e.key]=!0)})),window.addEventListener("keyup",(function(e){Ct[e.key]=!1}));var It=function(e,t){return e&&(!t||!!Ct[t])},_t=function(e){O()(n,e);var t=I()(n);function n(e){var r;return L()(this,n),(r=t.call(this,e)).type=wt.LayerType.BubbleLayer,r.selectData=[],r.layerState=St,r.onHighlighHandle=function(e){var t=e.feature,n=e.featureId;r.setHighlightLayerSource(t,n)},r.onUnhighlighHandle=function(){r.setHighlightLayerSource()},r.onSelectHandle=function(e){var t=e.feature,n=e.featureId;r.handleSelectData(n,t)},r.initSubLayersEvent(),r}return k()(n,[{key:"layer",get:function(){return this.fillLayer}},{key:"fillLayer",get:function(){return this.subLayers.getLayer("fillLayer")}},{key:"highlightStrokeLayer",get:function(){return this.subLayers.getLayer("highlightStrokeLayer")}},{key:"selectFillLayer",get:function(){return this.subLayers.getLayer("selectFillLayer")}},{key:"selectStrokeLayer",get:function(){return this.subLayers.getLayer("selectStrokeLayer")}},{key:"labelLayer",get:function(){return this.subLayers.getLayer("labelLayer")}},{key:"getDefaultOptions",value:function(){return n.DefaultOptions}},{key:"createSubLayers",value:function(){var e=this.source;return this.layerState=Et(this.options.state),[new ft(Object.assign(Object.assign({},this.getFillLayerOptions()),{id:"fillLayer",shape:"circle",source:e,interaction:!0})),new ft(Object.assign(Object.assign({},this.getHighlightStrokeLayerOptions()),{id:"highlightStrokeLayer",shape:"circle"})),new ft(Object.assign(Object.assign({},this.getSelectFillLayerOptions()),{id:"selectFillLayer",shape:"circle"})),new ft(Object.assign(Object.assign({},this.getSelectStrokeLayerOptions()),{id:"selectStrokeLayer",shape:"circle"})),new mt(Object.assign(Object.assign({},Ot(this.options)),{id:"labelLayer",source:e}))]}},{key:"getFillLayerOptions",value:function(){var e=Fe(this.options,["source"]),t=e.visible,n=e.minZoom,r=e.maxZoom,o=e.zIndex,i=void 0===o?0:o,a=e.fillColor,u=e.radius,l=e.opacity,c=e.strokeColor,s=e.lineOpacity,f=e.lineWidth,d=he(e,["visible","minZoom","maxZoom","zIndex","fillColor","radius","opacity","strokeColor","lineOpacity","lineWidth"]),h=this.layerState,v={active:!1!==h.active.fillColor&&{color:h.active.fillColor},select:!1},p={opacity:l,stroke:c,strokeOpacity:Ne(s)?l:s,strokeWidth:f};return Object.assign(Object.assign({},d),{visible:t,minZoom:n,maxZoom:r,zIndex:i,color:a,size:u,state:v,style:p})}},{key:"getHighlightStrokeLayerOptions",value:function(){var e,t=this.options,n=t.visible,r=t.minZoom,o=t.maxZoom,i=t.zIndex,a=void 0===i?0:i,u=t.radius,l=this.layerState,c={opacity:0,stroke:l.active.strokeColor||void 0,strokeOpacity:l.active.lineOpacity,strokeWidth:null===(e=l.active)||void 0===e?void 0:e.lineWidth};return{visible:n&&Boolean(l.active.strokeColor),zIndex:a+.1,minZoom:r,maxZoom:o,source:Lt,size:u,style:c}}},{key:"getSelectFillLayerOptions",value:function(){var e=this.options,t=e.visible,n=e.minZoom,r=e.maxZoom,o=e.zIndex,i=void 0===o?0:o,a=e.radius,u=e.opacity,l=this.layerState.select.fillColor||void 0,c={opacity:u};return{visible:t&&Boolean(l),zIndex:i+.1,minZoom:n,maxZoom:r,source:Lt,color:l,size:a,style:c,state:{select:!1,active:!1}}}},{key:"getSelectStrokeLayerOptions",value:function(){var e=this.options,t=e.visible,n=e.minZoom,r=e.maxZoom,o=e.zIndex,i=void 0===o?0:o,a=e.radius,u=this.layerState,l={opacity:0,stroke:u.select.strokeColor||void 0,strokeOpacity:u.select.lineOpacity,strokeWidth:u.select.lineWidth};return{visible:t&&Boolean(l.stroke),zIndex:i+.1,minZoom:n,maxZoom:r,source:Lt,size:a,style:l}}},{key:"setSubLayersSource",value:function(e){if(this.isSourceInstance(e))this.source=e,this.fillLayer.setSource(e),this.labelLayer.setSource(e);else{var t=e.data,n=he(e,["data"]);this.source.setData(t,n)}this.highlightStrokeLayer.changeData(Lt),this.selectFillLayer.changeData(Lt),this.selectStrokeLayer.changeData(Lt)}},{key:"setHighlightLayerSource",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-999;if(this.highlightData!==t){var n=e?[e]:[],r=this.source.parser,o="geojson"===r.type?{type:"FeatureCollection",features:n}:n;if(n.length){var i=this.fillLayer.layer.getEncodedData(),a=i.find((function(e){return e.id===t})),u=null==a?void 0:a.size;this.highlightStrokeLayer.update({size:u,source:{data:o,parser:r}})}else this.highlightStrokeLayer.changeData({data:o,parser:r});this.highlightData=t}}},{key:"setSelectLayerSource",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(this.selectData.length!==e.length||!De(this.selectData.map((function(e){return e.featureId})),e.map((function(e){return e.featureId})))){var t=this.source.parser;if(e.length){var n,r="_Feature_Size_",o=this.fillLayer.layer.getEncodedData();n="geojson"===t.type?{type:"FeatureCollection",features:e.map((function(e){var t,n=e.feature,i=e.featureId;return Object.assign(Object.assign({},n),{properties:Object.assign(Object.assign({},n.properties),A()({},r,null===(t=o.find((function(e){return e.id===i})))||void 0===t?void 0:t.size))})}))}:e.map((function(e){var t,n=e.feature,i=e.featureId;return Object.assign(Object.assign({},n),A()({},r,null===(t=o.find((function(e){return e.id===i})))||void 0===t?void 0:t.size))}));var i={field:r,value:function(e){return e[r]}};this.selectFillLayer.update({size:i,source:{data:n,parser:t}}),this.selectStrokeLayer.update({size:i,source:{data:n,parser:t}})}else{var a="geojson"===t.type?{type:"FeatureCollection",features:[]}:[];this.selectFillLayer.changeData({data:a,parser:t}),this.selectStrokeLayer.changeData({data:a,parser:t})}this.selectData=e}}},{key:"initSubLayersEvent",value:function(){this.fillLayer.off("mousemove",this.onHighlighHandle),this.fillLayer.off("mouseout",this.onHighlighHandle),this.fillLayer.off("click",this.onSelectHandle),this.selectData=[],this.highlightData=null,this.options.state&&(this.options.state.active&&(this.fillLayer.on("mousemove",this.onHighlighHandle),this.fillLayer.on("mouseout",this.onUnhighlighHandle)),this.options.state.select&&this.fillLayer.on("click",this.onSelectHandle))}},{key:"handleSelectData",value:function(e,t,n){var r=this.options,o=r.enabledMultiSelect,i=r.triggerMultiSelectKey,a=It(o,i)||n,u=Pe(this.selectData),l=u.findIndex((function(t){return t.featureId===e}));if(-1===l)a?u.push({feature:t,featureId:e}):u=[{feature:t,featureId:e}],this.emit("select",t,Pe(u));else{var c=u[l];a?u.splice(l,1):u=[],this.emit("unselect",c,Pe(u))}this.setSelectLayerSource(u)}},{key:"update",value:function(e){se()(de()(n.prototype),"update",this).call(this,e),this.initSubLayersEvent()}},{key:"updateOption",value:function(e){se()(de()(n.prototype),"updateOption",this).call(this,e),this.layerState=Et(this.options.state)}},{key:"updateSubLayers",value:function(e){this.fillLayer.update(this.getFillLayerOptions(),!1),this.highlightStrokeLayer.update(this.getHighlightStrokeLayerOptions(),!1),this.selectFillLayer.update(this.getSelectFillLayerOptions(),!1),this.selectStrokeLayer.update(this.getSelectStrokeLayerOptions(),!1),this.labelLayer.update(Ot(this.options),!1),this.options.visible&&(Ne(e.state)||De(this.lastOptions.state,this.options.state)||this.updateHighlightSubLayers(),this.layerState.active.strokeColor&&this.setHighlightLayerSource(),(this.layerState.select.fillColor||this.layerState.select.strokeColor)&&this.setSelectLayerSource())}},{key:"updateHighlightSubLayers",value:function(){var e=this.layerState,t=Et(this.lastOptions.state);t.active.strokeColor!==e.active.strokeColor&&(e.active.strokeColor?this.highlightStrokeLayer.show():this.highlightStrokeLayer.hide()),t.select.fillColor!==e.select.fillColor&&(e.select.fillColor?this.selectFillLayer.show():this.selectFillLayer.hide()),t.select.strokeColor!==e.select.strokeColor&&(e.select.strokeColor?this.selectStrokeLayer.show():this.selectStrokeLayer.hide())}},{key:"setIndex",value:function(e){this.fillLayer.setIndex(e),this.highlightStrokeLayer.setIndex(e+.1),this.selectFillLayer.setIndex(e+.1),this.selectStrokeLayer.setIndex(e+.1),this.labelLayer.setIndex(e+.1)}},{key:"setActive",value:function(e,t){var n=this.fillLayer.source,r=n.getFeatureId(e,t);if(Ne(r))console.warn("Feature non-existent by field: ".concat(e,",value: ").concat(t));else if(this.layerState.active.fillColor&&this.fillLayer.layer.setActive(r),this.layerState.active.strokeColor){var o=n.getFeatureById(r);this.setHighlightLayerSource(o,r)}}},{key:"setSelect",value:function(e,t){var n=this.fillLayer.source,r=n.getFeatureId(e,t);if(Ne(r))console.warn("Feature non-existent by field: ".concat(e,",value: ").concat(t));else if(!1!==this.layerState.select.strokeColor||!1!==this.layerState.select.fillColor){var o=n.getFeatureById(r),i=this.options.enabledMultiSelect;this.handleSelectData(r,o,i)}}},{key:"boxSelect",value:function(e,t){this.fillLayer.boxSelect(e,t)}}]),n}(wt);_t.DefaultOptions=Mt;var At=Object.assign(ot,{onSelect:"select",onUnselect:"unselect"}),Nt=(0,s.memo)((0,s.forwardRef)((function(e,t){var n=rt(_t,e);return it(n.current,e,At),(0,s.useImperativeHandle)(t,(function(){return n.current})),null}))),Pt={active:{fillColor:!1,strokeColor:kt,lineWidth:1,lineOpacity:1},select:{fillColor:!1,strokeColor:kt,lineWidth:1,lineOpacity:1}},jt={visible:!0,source:xt,lineWidth:1,state:{active:!1,select:!1},enabledMultiSelect:!1,triggerMultiSelectKey:"Shift"},Rt=function(e){return Ne(e)||(!1===e.active?Pt.active=Object.assign(Pt.active,{fill:!1,stroke:!1}):"object"===G()(e.active)&&(!1===e.active.fillColor?Pt.active.fillColor=!1:"string"==typeof e.active.fillColor&&(Pt.active.fillColor=e.active.fillColor),!1===e.active.strokeColor?Pt.active.strokeColor=!1:"string"==typeof e.active.strokeColor&&(Pt.active.strokeColor=e.active.strokeColor),"number"==typeof e.active.lineWidth&&(Pt.active.lineWidth=e.active.lineWidth),"number"==typeof e.active.lineOpacity&&(Pt.active.lineOpacity=e.active.lineOpacity)),!1===e.select?Pt.select=Object.assign(Pt.select,{fill:!1,stroke:!1}):"object"===G()(e.select)&&(!1===e.select.fillColor?Pt.select.fillColor=!1:"string"==typeof e.select.fillColor&&(Pt.select.fillColor=e.select.fillColor),!1===e.select.strokeColor?Pt.select.strokeColor=!1:"string"==typeof e.select.strokeColor&&(Pt.select.strokeColor=e.select.strokeColor),"number"==typeof e.select.lineWidth&&(Pt.select.lineWidth=e.select.lineWidth),"number"==typeof e.select.lineOpacity&&(Pt.select.lineOpacity=e.select.lineOpacity))),Pt},Dt=function(e){return!Ne(e)&&!Ae(e)&&(!Ne(e.coordinates)||!Ne(e.x)&&!Ne(e.y)||!Ne(e.geometry))},Tt=function(e,t){var n=null==t?void 0:t.position;if(!Dt(n))return e;var r=e.parser.type,o=e.transforms,i={data:e.originData,transforms:o};if(n.coordinates){var a=n.coordinates;i.parser={type:r,coordinates:a}}else if(n.x&&n.y){var u=n.x,l=n.y;i.parser={type:r,x:u,y:l}}else if(n.geometry){var c=n.geometry;i.parser={type:r,geometry:c}}return i},Ft=function(e,t){return Object.assign(Object.assign({},Ot(e)),{source:Tt(t,e.label)})},zt=function(e){O()(n,e);var t=I()(n);function n(e){var r;return L()(this,n),(r=t.call(this,e)).type=wt.LayerType.ChoroplethLayer,r.selectData=[],r.layerState=Pt,r.onHighlighHandle=function(e){var t=e.feature,n=e.featureId;r.setHighlightLayerSource(t,n)},r.onUnhighlighHandle=function(){r.setHighlightLayerSource()},r.onSelectHandle=function(e){var t=e.feature,n=e.featureId;r.handleSelectData(n,t)},r.initSubLayersEvent(),r}return k()(n,[{key:"layer",get:function(){return this.fillLayer}},{key:"fillLayer",get:function(){return this.subLayers.getLayer("fillLayer")}},{key:"strokeLayer",get:function(){return this.subLayers.getLayer("strokeLayer")}},{key:"highlightStrokeLayer",get:function(){return this.subLayers.getLayer("highlightStrokeLayer")}},{key:"selectFillLayer",get:function(){return this.subLayers.getLayer("selectFillLayer")}},{key:"selectStrokeLayer",get:function(){return this.subLayers.getLayer("selectStrokeLayer")}},{key:"labelLayer",get:function(){return this.subLayers.getLayer("labelLayer")}},{key:"getDefaultOptions",value:function(){return n.DefaultOptions}},{key:"createSubLayers",value:function(){var e=this.source;return this.layerState=Rt(this.options.state),[new ht(Object.assign(Object.assign({},this.getFillLayerOptions()),{id:"fillLayer",shape:"fill",source:e,interaction:!0})),new ct(Object.assign(Object.assign({},this.getStrokeLayerOptions()),{id:"strokeLayer",shape:"line",source:e})),new ct(Object.assign(Object.assign({},this.getHighlightStrokeLayerOptions()),{id:"highlightStrokeLayer"})),new ht(Object.assign(Object.assign({},this.getSelectFillLayerOptions()),{id:"selectFillLayer"})),new ct(Object.assign(Object.assign({},this.getSelectStrokeLayerOptions()),{id:"selectStrokeLayer"})),new mt(Object.assign(Object.assign({},Ft(this.options,e)),{id:"labelLayer"}))]}},{key:"getFillLayerOptions",value:function(){var e=Fe(this.options,["source"]),t=e.visible,n=e.minZoom,r=e.maxZoom,o=e.zIndex,i=void 0===o?0:o,a=e.fillColor,u=e.opacity,l=he(e,["visible","minZoom","maxZoom","zIndex","fillColor","opacity"]),c=this.layerState,s={active:!1!==c.active.fillColor&&{color:c.active.fillColor},select:!1},f={opacity:u};return Object.assign(Object.assign({},l),{visible:t,minZoom:n,maxZoom:r,zIndex:i,color:a,state:s,style:f})}},{key:"getStrokeLayerOptions",value:function(){var e=this.options,t=e.visible,n=e.minZoom,r=e.maxZoom,o=e.zIndex,i=void 0===o?0:o,a=e.opacity,u=e.strokeColor,l=e.lineWidth,c=e.lineOpacity,s=e.lineDash,f=e.lineType,d=e.filter,h={opacity:Ne(c)?a:c,dashArray:s,lineType:f};return{visible:t&&Boolean(l)&&Boolean(u),zIndex:i,minZoom:n,maxZoom:r,size:l,color:u,style:h,filter:d}}},{key:"getHighlightStrokeLayerOptions",value:function(){var e=this.options,t=e.visible,n=e.minZoom,r=e.maxZoom,o=e.zIndex,i=void 0===o?0:o,a=e.lineWidth,u=this.layerState,l=u.active.strokeColor||void 0,c=u.active.lineWidth||a;return{visible:t&&Boolean(l),zIndex:i+.1,minZoom:n,maxZoom:r,source:xt,size:c,color:l,style:{opacity:u.active.lineOpacity}}}},{key:"getSelectFillLayerOptions",value:function(){var e=this.options,t=e.visible,n=e.minZoom,r=e.maxZoom,o=e.zIndex,i=void 0===o?0:o,a=e.opacity,u=this.layerState.select.fillColor||void 0,l={opacity:a};return{visible:t&&Boolean(u),zIndex:i+.1,minZoom:n,maxZoom:r,source:xt,color:u,style:l,state:{select:!1,active:!1}}}},{key:"getSelectStrokeLayerOptions",value:function(){var e=this.options,t=e.visible,n=e.minZoom,r=e.maxZoom,o=e.zIndex,i=void 0===o?0:o,a=e.lineWidth,u=this.layerState,l=u.select.strokeColor||void 0,c=u.select.lineWidth||a;return{visible:t&&Boolean(l),zIndex:i+.1,minZoom:n,maxZoom:r,source:xt,size:c,color:l,style:{opacity:u.select.lineOpacity}}}},{key:"setSubLayersSource",value:function(e){var t;if(this.isSourceInstance(e))this.source=e,this.fillLayer.setSource(e),this.strokeLayer.setSource(e),this.labelLayer.setSource(e);else{var n=e.data,r=he(e,["data"]);if(this.source.setData(n,r),Dt(null===(t=this.options.label)||void 0===t?void 0:t.position)){var o=Tt(this.source,this.options.label);this.labelLayer.changeData(o)}}this.highlightStrokeLayer.changeData(xt),this.selectFillLayer.changeData(xt),this.selectStrokeLayer.changeData(xt)}},{key:"setHighlightLayerSource",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-999;if(this.highlightData!==t){var n=e?[e]:[],r=this.source.parser,o="geojson"===r.type?{type:"FeatureCollection",features:n}:n;this.highlightStrokeLayer.changeData({data:o,parser:r}),this.highlightData=t}}},{key:"setSelectLayerSource",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(this.selectData.length!==e.length||!De(this.selectData.map((function(e){return e.featureId})),e.map((function(e){return e.featureId})))){var t=e.map((function(e){return e.feature})),n=this.source.parser,r="geojson"===n.type?{type:"FeatureCollection",features:t}:t;this.selectFillLayer.changeData({data:r,parser:n}),this.selectStrokeLayer.changeData({data:r,parser:n}),this.selectData=e}}},{key:"initSubLayersEvent",value:function(){this.fillLayer.off("mousemove",this.onHighlighHandle),this.fillLayer.off("mouseout",this.onHighlighHandle),this.fillLayer.off("click",this.onSelectHandle),this.selectData=[],this.highlightData=null,this.options.state&&(this.options.state.active&&(this.fillLayer.on("mousemove",this.onHighlighHandle),this.fillLayer.on("mouseout",this.onUnhighlighHandle)),this.options.state.select&&this.fillLayer.on("click",this.onSelectHandle))}},{key:"handleSelectData",value:function(e,t,n){var r=this.options,o=r.enabledMultiSelect,i=r.triggerMultiSelectKey,a=It(o,i)||n,u=Pe(this.selectData),l=u.findIndex((function(t){return t.featureId===e}));if(-1===l)a?u.push({feature:t,featureId:e}):u=[{feature:t,featureId:e}],this.emit("select",t,Pe(u));else{var c=u[l];a?u.splice(l,1):u=[],this.emit("unselect",c,Pe(u))}this.setSelectLayerSource(u)}},{key:"update",value:function(e){se()(de()(n.prototype),"update",this).call(this,e),this.initSubLayersEvent()}},{key:"updateOption",value:function(e){se()(de()(n.prototype),"updateOption",this).call(this,e),this.layerState=Rt(this.options.state)}},{key:"updateSubLayers",value:function(e){this.fillLayer.update(this.getFillLayerOptions(),!1),this.strokeLayer.update(this.getStrokeLayerOptions(),!1),this.highlightStrokeLayer.update(this.getHighlightStrokeLayerOptions(),!1),this.selectFillLayer.update(this.getSelectFillLayerOptions(),!1),this.selectStrokeLayer.update(this.getSelectStrokeLayerOptions(),!1),this.labelLayer.update(Ft(this.options,this.source),!1),this.options.visible&&(Ne(e.state)||De(this.lastOptions.state,this.options.state)||this.updateHighlightSubLayers(),this.layerState.active.strokeColor&&this.setHighlightLayerSource(),(this.layerState.select.fillColor||this.layerState.select.strokeColor)&&this.setSelectLayerSource())}},{key:"updateHighlightSubLayers",value:function(){var e=this.layerState,t=Rt(this.lastOptions.state);t.active.strokeColor!==e.active.strokeColor&&(e.active.strokeColor?this.highlightStrokeLayer.show():this.highlightStrokeLayer.hide()),t.select.fillColor!==e.select.fillColor&&(e.select.fillColor?this.selectFillLayer.show():this.selectFillLayer.hide()),t.select.strokeColor!==e.select.strokeColor&&(e.select.strokeColor?this.selectStrokeLayer.show():this.selectStrokeLayer.hide())}},{key:"setIndex",value:function(e){this.fillLayer.setIndex(e),this.strokeLayer.setIndex(e),this.highlightStrokeLayer.setIndex(e+.1),this.selectFillLayer.setIndex(e+.1),this.selectStrokeLayer.setIndex(e+.1),this.labelLayer.setIndex(e+.1)}},{key:"setActive",value:function(e,t){var n=this.fillLayer.source,r=n.getFeatureId(e,t);if(Ne(r))console.warn("Feature non-existent by field: ".concat(e,",value: ").concat(t));else if(this.layerState.active.fillColor&&this.fillLayer.layer.setActive(r),this.layerState.active.strokeColor){var o=n.getFeatureById(r);this.setHighlightLayerSource(o,r)}}},{key:"setSelect",value:function(e,t){var n=this.fillLayer.source,r=n.getFeatureId(e,t);if(Ne(r))console.warn("Feature non-existent by field: ".concat(e,",value: ").concat(t));else if(!1!==this.layerState.select.strokeColor||!1!==this.layerState.select.fillColor){var o=n.getFeatureById(r),i=this.options.enabledMultiSelect;this.handleSelectData(r,o,i)}}},{key:"boxSelect",value:function(e,t){this.fillLayer.boxSelect(e,t)}}]),n}(wt);zt.DefaultOptions=jt;var Ht=Object.assign(ot,{onSelect:"select",onUnselect:"unselect"}),Wt=(0,s.memo)((0,s.forwardRef)((function(e,t){var n=rt(zt,e);return it(n.current,e,Ht),(0,s.useImperativeHandle)(t,(function(){return n.current})),null}))),Bt=6371008.8,Ut={centimeters:637100880,centimetres:637100880,degrees:57.22891354143274,feet:20902260.511392,inches:39.37*Bt,kilometers:6371.0088,kilometres:6371.0088,meters:Bt,metres:Bt,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:Bt/1852,radians:1,yards:6967335.223679999};function Zt(e,t,n){void 0===n&&(n={});var r={type:"Feature"};return(0===n.id||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=t||{},r.geometry=e,r}function Vt(e,t,n){if(void 0===n&&(n={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!$t(e[0])||!$t(e[1]))throw new Error("coordinates must contain numbers");return Zt({type:"Point",coordinates:e},t,n)}function Kt(e,t,n){void 0===n&&(n={});for(var r=0,o=e;r<o.length;r++){var i=o[r];if(i.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<i[i.length-1].length;a++)if(i[i.length-1][a]!==i[0][a])throw new Error("First and last Position are not equivalent.")}return Zt({type:"Polygon",coordinates:e},t,n)}function Gt(e,t){void 0===t&&(t="kilometers");var n=Ut[t];if(!n)throw new Error(t+" units is invalid");return e/n}function qt(e){return 180*(e%(2*Math.PI))/Math.PI}function Yt(e){return e%360*Math.PI/180}function Xt(e,t,n){if(void 0===t&&(t="kilometers"),void 0===n&&(n="kilometers"),!(e>=0))throw new Error("length must be a positive number");return function(e,t){void 0===t&&(t="kilometers");var n=Ut[t];if(!n)throw new Error(t+" units is invalid");return e*n}(Gt(e,t),n)}function $t(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function Jt(e,t,n){if(null!==e)for(var r,o,i,a,u,l,c,s,f=0,d=0,h=e.type,v="FeatureCollection"===h,p="Feature"===h,y=v?e.features.length:1,m=0;m<y;m++){u=(s=!!(c=v?e.features[m].geometry:p?e.geometry:e)&&"GeometryCollection"===c.type)?c.geometries.length:1;for(var g=0;g<u;g++){var b=0,w=0;if(null!==(a=s?c.geometries[g]:c)){l=a.coordinates;var L=a.type;switch(f=!n||"Polygon"!==L&&"MultiPolygon"!==L?0:1,L){case null:break;case"Point":if(!1===t(l,d,m,b,w))return!1;d++,b++;break;case"LineString":case"MultiPoint":for(r=0;r<l.length;r++){if(!1===t(l[r],d,m,b,w))return!1;d++,"MultiPoint"===L&&b++}"LineString"===L&&b++;break;case"Polygon":case"MultiLineString":for(r=0;r<l.length;r++){for(o=0;o<l[r].length-f;o++){if(!1===t(l[r][o],d,m,b,w))return!1;d++}"MultiLineString"===L&&b++,"Polygon"===L&&w++}"Polygon"===L&&b++;break;case"MultiPolygon":for(r=0;r<l.length;r++){for(w=0,o=0;o<l[r].length;o++){for(i=0;i<l[r][o].length-f;i++){if(!1===t(l[r][o][i],d,m,b,w))return!1;d++}w++}b++}break;case"GeometryCollection":for(r=0;r<a.geometries.length;r++)if(!1===Jt(a.geometries[r],t,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Qt(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var n=0;n<e.features.length&&!1!==t(e.features[n],n);n++);}function en(e){var t=[1/0,1/0,-1/0,-1/0];return Jt(e,(function(e){t[0]>e[0]&&(t[0]=e[0]),t[1]>e[1]&&(t[1]=e[1]),t[2]<e[0]&&(t[2]=e[0]),t[3]<e[1]&&(t[3]=e[1])})),t}en.default=en;var tn=en;function nn(e){var t={type:"Feature"};return Object.keys(e).forEach((function(n){switch(n){case"type":case"properties":case"geometry":return;default:t[n]=e[n]}})),t.properties=rn(e.properties),t.geometry=on(e.geometry),t}function rn(e){var t={};return e?(Object.keys(e).forEach((function(n){var r=e[n];"object"===K(r)?null===r?t[n]=null:Array.isArray(r)?t[n]=r.map((function(e){return e})):t[n]=rn(r):t[n]=r})),t):t}function on(e){var t={type:e.type};return e.bbox&&(t.bbox=e.bbox),"GeometryCollection"===e.type?(t.geometries=e.geometries.map((function(e){return on(e)})),t):(t.coordinates=an(e.coordinates),t)}function an(e){var t=e;return"object"!==K(t[0])?t.slice():t.map((function(e){return an(e)}))}var un=function(e){if(!e)throw new Error("geojson is required");switch(e.type){case"Feature":return nn(e);case"FeatureCollection":return function(e){var t={type:"FeatureCollection"};return Object.keys(e).forEach((function(n){switch(n){case"type":case"features":return;default:t[n]=e[n]}})),t.features=e.features.map((function(e){return nn(e)})),t}(e);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return on(e);default:throw new Error("unknown GeoJSON type")}};var ln=function(e,t){void 0===t&&(t={});var n=tn(e);return Vt([(n[0]+n[2])/2,(n[1]+n[3])/2],t.properties,t)};var cn=function(e,t){void 0===t&&(t={});var n=0,r=0,o=0;return Jt(e,(function(e){n+=e[0],r+=e[1],o++}),!0),Vt([n/o,r/o],t.properties)};function sn(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return e.geometry.coordinates;if("Point"===e.type)return e.coordinates}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function fn(e,t){var n=Yt(e[1]),r=Yt(t[1]),o=Yt(t[0]-e[0]);o>Math.PI&&(o-=2*Math.PI),o<-Math.PI&&(o+=2*Math.PI);var i=Math.log(Math.tan(r/2+Math.PI/4)/Math.tan(n/2+Math.PI/4));return(qt(Math.atan2(o,i))+360)%360}var dn=function(e,t,n){var r;return void 0===n&&(n={}),(r=n.final?fn(sn(t),sn(e)):fn(sn(e),sn(t)))>180?-(360-r):r};var hn=function(e,t,n){void 0===n&&(n={});var r=sn(e),o=sn(t);return o[0]+=o[0]-r[0]>180?-360:r[0]-o[0]>180?360:0,Xt(function(e,t,n){var r=n=void 0===n?Bt:Number(n),o=e[1]*Math.PI/180,i=t[1]*Math.PI/180,a=i-o,u=Math.abs(t[0]-e[0])*Math.PI/180;u>Math.PI&&(u-=2*Math.PI);var l=Math.log(Math.tan(i/2+Math.PI/4)/Math.tan(o/2+Math.PI/4)),c=Math.abs(l)>1e-11?a/l:Math.cos(o);return Math.sqrt(a*a+c*c*u*u)*r}(r,o),"meters",n.units)};var vn=function(e,t,n,r){void 0===r&&(r={});var o=t<0,i=Xt(Math.abs(t),r.units,"meters");o&&(i=-Math.abs(i));var a=sn(e),u=function(e,t,n,r){r=void 0===r?Bt:Number(r);var o=t/r,i=e[0]*Math.PI/180,a=Yt(e[1]),u=Yt(n),l=o*Math.cos(u),c=a+l;Math.abs(c)>Math.PI/2&&(c=c>0?Math.PI-c:-Math.PI-c);var s=Math.log(Math.tan(c/2+Math.PI/4)/Math.tan(a/2+Math.PI/4)),f=Math.abs(s)>1e-11?l/s:Math.cos(a),d=o*Math.sin(u)/f;return[(180*(i+d)/Math.PI+540)%360-180,180*c/Math.PI]}(a,i,n);return u[0]+=u[0]-a[0]>180?-360:a[0]-u[0]>180?360:0,Vt(u,r.properties)};function pn(e,t,n){var r,o="Point"===("FeatureCollection"===(r=e).type?"FeatureCollection":"GeometryCollection"===r.type?"GeometryCollection":"Feature"===r.type&&null!==r.geometry?r.geometry.type:r.type);return n=function(e,t){null==t&&(t="centroid");if(Array.isArray(t)||"object"===K(t))return sn(t);var n=e.bbox?e.bbox:tn(e),r=n[0],o=n[1],i=n[2],a=n[3];switch(t){case"sw":case"southwest":case"westsouth":case"bottomleft":return Vt([r,o]);case"se":case"southeast":case"eastsouth":case"bottomright":return Vt([i,o]);case"nw":case"northwest":case"westnorth":case"topleft":return Vt([r,a]);case"ne":case"northeast":case"eastnorth":case"topright":return Vt([i,a]);case"center":return ln(e);case void 0:case null:case"centroid":return cn(e);default:throw new Error("invalid origin")}}(e,n),1===t||o||Jt(e,(function(e){var r=hn(n,e),o=dn(n,e),i=function(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}(vn(n,r*t,o));e[0]=i[0],e[1]=i[1],3===e.length&&(e[2]*=t)})),e}var yn=function(e,t,n){if(!(r=n=n||{})||r.constructor!==Object)throw new Error("options is invalid");var r,o=n.origin,i=n.mutate;if(!e)throw new Error("geojson required");if("number"!=typeof t||0===t)throw new Error("invalid factor");var a=Array.isArray(o)||"object"===K(o);return!0!==i&&(e=un(e)),"FeatureCollection"!==e.type||a?pn(e,t,o):(Qt(e,(function(n,r){e.features[r]=pn(n,t,o)})),e)},mn={data:[],parser:{type:"json",x:"lng",y:"lat"}},gn={data:[],parser:{type:"json",x:"fromLng",y:"fromLat",x1:"toLng",y1:"toLat"}},bn={enableCircleSpread:!1,enableLineSpread:!1,circleStrokeColor:"#ccc",lineStroke:"#ccc"},wn=Object.assign(Object.assign({},bn),{enableCircleSpread:!0,enableLineSpread:!0}),Ln={source:{data:[],parser:{type:"json",x:"f_lon",y:"f_lat",x1:"t_lon",y1:"t_lat",weight:"weight"}},enableCluster:!0,clusterType:"HCA",clusterZoomStep:1,clusterNodeSize:64,clusterRadius:40,clusterExtent:512,maxTopFlowNum:5e3,circleColor:"#fff",circleRadius:{field:"weight",value:[1,16]},circleStrokeColor:"#000",circleStrokeWidth:1,lineColor:{field:"weight",value:["#2a5674","#d1eeea"]},lineWidth:{field:"weight",value:[1,16]},lineStroke:"#000",lineStrokeWidth:1,fadeOpacityEnabled:!0,fadeOpacityAmount:0,showLocationName:!1,locationNameSize:12,locationNameColor:"#fff",locationNameStroke:"#000",locationNameStrokeWidth:1,state:{active:bn,select:wn}},xn="NOT_FOUND";var kn=function(e,t){return e===t};function Sn(e,t){var n,r,o="object"===G()(t)?t:{equalityCheck:t},i=o.equalityCheck,a=void 0===i?kn:i,u=o.maxSize,l=void 0===u?1:u,c=o.resultEqualityCheck,s=function(e){return function(t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,o=0;o<r;o++)if(!e(t[o],n[o]))return!1;return!0}}(a),f=1===l?(n=s,{get:function(e){return r&&n(r.key,e)?r.value:xn},put:function(e,t){r={key:e,value:t}},getEntries:function(){return r?[r]:[]},clear:function(){r=void 0}}):function(e,t){var n=[];function r(e){var r=n.findIndex((function(n){return t(e,n.key)}));if(r>-1){var o=n[r];return r>0&&(n.splice(r,1),n.unshift(o)),o.value}return xn}return{get:r,put:function(t,o){r(t)===xn&&(n.unshift({key:t,value:o}),n.length>e&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}(l,s);function d(){var t=f.get(arguments);if(t===xn){if(t=e.apply(null,arguments),c){var n=f.getEntries(),r=n.find((function(e){return c(e.value,t)}));r&&(t=r.value)}f.put(arguments,t)}return t}return d.clearCache=function(){return f.clear()},d}function Mn(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return"function"==typeof e?"function "+(e.name||"unnamed")+"()":G()(e)})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}function En(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];var i,a=0,u={memoizeOptions:void 0},l=r.pop();if("object"===G()(l)&&(u=l,l=r.pop()),"function"!=typeof l)throw new Error("createSelector expects an output function after the inputs, but received: ["+G()(l)+"]");var c=u,s=c.memoizeOptions,f=void 0===s?n:s,d=Array.isArray(f)?f:[f],h=Mn(r),v=e.apply(void 0,[function(){return a++,l.apply(null,arguments)}].concat(d)),p=e((function(){for(var e=[],t=h.length,n=0;n<t;n++)e.push(h[n].apply(null,arguments));return i=v.apply(null,e)}));return Object.assign(p,{resultFunc:l,memoizedResultFunc:v,dependencies:h,lastResult:function(){return i},recomputations:function(){return a},resetRecomputations:function(){return a=0}}),p};return o}var On=En(Sn);var Cn=0,In=function(){return String(++Cn)},_n=0;function An(e){return 360*(e-.5)}function Nn(e){var t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function Pn(e){return e/360+.5}function jn(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function Rn(e){var t=new Map,n=new Map,r=e.data,o=e.parser,i=o.type,a=o.x,u=o.y,l=o.x1,c=o.y1,s=o.weight,f=o.name,d=o.name1,h=function(e){var n=e.lng,r=e.lat,o=e.weight,i=e.name,a="".concat(n,"-").concat(r),u=t.get(a);return u||(u={id:In(),lng:n,lat:r,weight:o,name:i},t.set(a,u)),u};return"json"===i&&a&&u&&l&&c?r.forEach((function(e){var t=+Te(e,a,0),r=+Te(e,u,0),o=+Te(e,l,0),i=+Te(e,c,0),v=s?+Te(e,s,0):1,p="".concat(t,"-").concat(r,"-").concat(o,"-").concat(i),y=n.get(p);if(y)y.weight+=v;else{var m=f&&Te(e,f,void 0),g=d&&Te(e,d,void 0),b=h({lng:t,lat:r,weight:v,name:m}),w=h({lng:o,lat:i,weight:v,name:g});n.set(p,{id:String(++_n),fromId:b.id,toId:w.id,weight:v})}})):console.error("FlowLayer  source  source "),{locations:Array.from(t.values()),flows:Array.from(n.values())}}function Dn(e){var t=e.map((function(e){return e.zoom})).reverse(),n=new Map,r=new Map;function i(n){var r=function(e,t){if(!e.length)throw new Error("No available zoom levels");var n=e.map((function(e){return Math.abs(e+1-t)}));return e[n.indexOf(Math.min.apply(Math,Z()(n)))]}(t,n);return e.find((function(e){return e.zoom===r}))}return e.forEach((function(e){e.locations.forEach((function(e){n.set(e.id,e)}))})),{zoomList:t,clusterIdMap:n,getAppropriateLevel:i,getMapLocations:function(e,t){var n=o()(t,4),r=n[0],a=n[1],u=n[2],l=n[3],c=i(e),s=c.locations,f=c.locationTree,d=Math.min(Pn(r),Pn(u)),h=Math.max(Pn(r),Pn(u)),v=Math.min(jn(a),jn(l)),p=Math.max(jn(a),jn(l));return f.range(d,v,h,p).map((function(e){return s[e]}))},getLocationIdsFromCluster:function(e){for(var t,r=new Set,o=[e];o.length;){var i=o.pop();if(i){var a=n.get(i);a&&((null===(t=a.childIds)||void 0===t?void 0:t.length)?o.push.apply(o,Z()(a.childIds)):r.add(a.id))}}return Array.from(r.values())},findClusterForZoom:function(e,t){var o="".concat(e,"-").concat(t),i=r.get("".concat(e,"-").concat(t));if(i)return i;var a=n.get(e);if(a&&a.zoom<=t)return a;for(var u=(null==a?void 0:a.parentId)&&n.get(a.parentId)||void 0;a&&u&&!(a.zoom>=t&&t>=u.zoom);)u=(null==(a=u)?void 0:a.parentId)&&n.get(a.parentId)||void 0;return(i=a&&a.zoom<=t?a:u)&&r.set(o,i),i}}}function Tn(e,t,n,r,o,i){if(!(o-r<=n)){var a=r+o>>1;Fn(e,t,a,r,o,i%2),Tn(e,t,n,r,a-1,i+1),Tn(e,t,n,a+1,o,i+1)}}function Fn(e,t,n,r,o,i){for(;o>r;){if(o-r>600){var a=o-r+1,u=n-r+1,l=Math.log(a),c=.5*Math.exp(2*l/3),s=.5*Math.sqrt(l*c*(a-c)/a)*(u-a/2<0?-1:1);Fn(e,t,n,Math.max(r,Math.floor(n-u*c/a+s)),Math.min(o,Math.floor(n+(a-u)*c/a+s)),i)}var f=t[2*n+i],d=r,h=o;for(zn(e,t,r,n),t[2*o+i]>f&&zn(e,t,r,o);d<h;){for(zn(e,t,d,h),d++,h--;t[2*d+i]<f;)d++;for(;t[2*h+i]>f;)h--}t[2*r+i]===f?zn(e,t,r,h):zn(e,t,++h,o),h<=n&&(r=h+1),n<=h&&(o=h-1)}}function zn(e,t,n,r){Hn(e,n,r),Hn(t,2*n,2*r),Hn(t,2*n+1,2*r+1)}function Hn(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function Wn(e,t,n,r){var o=e-n,i=t-r;return o*o+i*i}var Bn=function(e){return e[0]},Un=function(e){return e[1]},Zn=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bn,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Un,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:64,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Float64Array;L()(this,e),this.nodeSize=o,this.points=t;for(var a=t.length<65536?Uint16Array:Uint32Array,u=this.ids=new a(t.length),l=this.coords=new i(2*t.length),c=0;c<t.length;c++)u[c]=c,l[2*c]=n(t[c]),l[2*c+1]=r(t[c]);Tn(u,l,o,0,u.length-1,0)}return k()(e,[{key:"range",value:function(e,t,n,r){return function(e,t,n,r,o,i,a){for(var u,l,c=[0,e.length-1,0],s=[];c.length;){var f=c.pop(),d=c.pop(),h=c.pop();if(d-h<=a)for(var v=h;v<=d;v++)u=t[2*v],l=t[2*v+1],u>=n&&u<=o&&l>=r&&l<=i&&s.push(e[v]);else{var p=Math.floor((h+d)/2);u=t[2*p],l=t[2*p+1],u>=n&&u<=o&&l>=r&&l<=i&&s.push(e[p]);var y=(f+1)%2;(0===f?n<=u:r<=l)&&(c.push(h),c.push(p-1),c.push(y)),(0===f?o>=u:i>=l)&&(c.push(p+1),c.push(d),c.push(y))}}return s}(this.ids,this.coords,e,t,n,r,this.nodeSize)}},{key:"within",value:function(e,t,n){return function(e,t,n,r,o,i){for(var a=[0,e.length-1,0],u=[],l=o*o;a.length;){var c=a.pop(),s=a.pop(),f=a.pop();if(s-f<=i)for(var d=f;d<=s;d++)Wn(t[2*d],t[2*d+1],n,r)<=l&&u.push(e[d]);else{var h=Math.floor((f+s)/2),v=t[2*h],p=t[2*h+1];Wn(v,p,n,r)<=l&&u.push(e[h]);var y=(c+1)%2;(0===c?n-o<=v:r-o<=p)&&(a.push(f),a.push(h-1),a.push(y)),(0===c?n+o>=v:r+o>=p)&&(a.push(h+1),a.push(s),a.push(y))}}return u}(this.ids,this.coords,e,t,n,this.nodeSize)}}]),e}(),Vn=function(e){return e.x},Kn=function(e){return e.y};function Gn(e,t){return new Zn(e,Vn,Kn,t,window.Float32Array)}function qn(e,t,n,r,o){return{id:o,lng:An(e),lat:Nn(t),x:e,y:t,zoom:1/0,weight:r,childIds:n}}function Yn(e,t,n,r){for(var o=[],i=r.clusterRadius/(r.clusterExtent*Math.pow(2,t)),a=0;a<e.length;a++){var u=e[a];if(!(u.zoom<=t)){u.zoom=t;var l,c=n.within(u.x,u.y,i),s=u.weight||1,f=[u.id],d=u.x*s,h=u.y*s,v=In(),p=b()(c);try{for(p.s();!(l=p.n()).done;){var y=l.value,m=n.points[y];if(!(m.zoom<=t)){m.zoom=t;var g=m.weight||1;d+=m.x*g,h+=m.y*g,s+=g,f.push(m.id),m.parentId=v}}}catch(e){p.e(e)}finally{p.f()}f.length<=1?o.push(u):(u.parentId=v,o.push(qn(d/s,h/s,f,s,v)))}}return o}function Xn(e,t){return"HCA"===t.clusterType?function(e,t){var n,r,o=t.minZoom,i=t.maxZoom,a=t.clusterZoomStep,u=t.clusterNodeSize,l=t.enableCluster,c=[],s=e.map((function(e){return Object.assign(Object.assign({},e),{x:Pn(e.lng),y:jn(e.lat),weight:e.weight,zoom:1/0,childIds:[]})})).sort((function(e,t){return e.weight-t.weight}));if(c[i+1]=Gn(s,u),l){for(var f=i+1,d=i;d>=o;d-=a){var h=Yn(s,d,c[f],t);h.length===s.length?(c[d]=c[f],c[f]=void 0,f=d):(f=d,s=h.sort((function(e,t){return e.weight-t.weight})),c[d]=Gn(s,u))}if(0===c.length)return[]}for(var v=[],p=function(e){var t=c[e];(null!==(n=null==t?void 0:t.points)&&void 0!==n?n:[]).length&&t&&v.push({locations:Array.from(null!==(r=null==t?void 0:t.points)&&void 0!==r?r:[]).map((function(t){return t.zoom=e,t})),locationTree:t,zoom:e})},y=c.length-1;y>=0;y--)p(y);return v}(e,t):[]}function $n(e,t,n){var r=new Map,o=t.getAppropriateLevel(n).zoom;return e.forEach((function(e){var n=e.fromId,i=e.toId,a=e.weight,u=t.findClusterForZoom(n,o),l=t.findClusterForZoom(i,o);if(u&&l&&u.id!==l.id){var c="".concat(u.id,"-").concat(l.id),s=r.get(c);s||(s={id:c,fromId:u.id,fromLng:u.lng,fromLat:u.lat,toId:l.id,toLng:l.lng,toLat:l.lat,weight:0},r.set(c,s)),s.weight+=a}})),Array.from(r.values()).sort((function(e,t){return e.weight-t.weight}))}var Jn=function(e){O()(n,e);var t=I()(n);function n(){var e;return L()(this,n),(e=t.apply(this,arguments)).getSourceData=function(e,t){return e.data},e.getSourceParser=function(e,t){return e.parser},e.getMapZoom=function(e,t){return t.mapStatus.zoom},e.getMapBounds=function(e,t){return t.mapStatus.bounds},e.getEnableCluster=function(e,t){return t.enableCluster},e.getClusterType=function(e,t){return t.clusterType},e.getExtent=function(e,t){return t.clusterExtent},e.getNodeSize=function(e,t){return t.clusterNodeSize},e.getRadius=function(e,t){return t.clusterRadius},e.getMinZoom=function(e,t){return t.minZoom},e.getMaxZoom=function(e,t){return t.maxZoom},e.getZoomStep=function(e,t){return t.clusterZoomStep},e.getMaxTopFlowNum=function(e,t){return t.maxTopFlowNum},e.getOriginData=On(e.getSourceData,e.getSourceParser,(function(e,t){return Rn({data:e,parser:t})})),e.getClusterOptions=On(e.getClusterType,e.getEnableCluster,e.getExtent,e.getNodeSize,e.getRadius,e.getMinZoom,e.getMaxZoom,e.getZoomStep,(function(e,t,n,r,o,i,a,u){return{clusterType:e,enableCluster:t,clusterExtent:n,clusterNodeSize:r,clusterRadius:o,minZoom:i,maxZoom:a,clusterZoomStep:u}})),e.getClusterLevels=On(e.getOriginData,e.getClusterOptions,(function(e,t){return Xn(e.locations,t)})),e.getClusterIndex=On(e.getClusterLevels,(function(e){return Dn(e)})),e.getViewLocations=On(e.getClusterIndex,e.getMapZoom,e.getMapBounds,(function(e,t,n){return e.getMapLocations(t,n)})),e.getLocationWeightRange=On(e.getClusterIndex,e.getMapZoom,(function(e,t){var n=e.getAppropriateLevel(t).locations;return n.length?[n[0].weight,n[n.length-1].weight]:[0,0]})),e.getAggregatedFlows=On(e.getClusterIndex,e.getOriginData,e.getMapZoom,(function(e,t,n){return $n(t.flows,e,n)})),e.getFilterFlows=On(e.getViewLocations,e.getAggregatedFlows,e.getMaxTopFlowNum,(function(e,t,n){if(t.length<=n)return t;var r=Z()(t),o=new Set(e.map((function(e){return e.id})));return(r=r.filter((function(e){return o.has(e.fromId)||o.has(e.toId)}))).length>n&&(r=r.slice(r.length-n,r.length)),r})),e.getFilterLocations=On(e.getViewLocations,e.getFilterFlows,(function(e,t){var n=new Set(t.map((function(e){return[e.fromId,e.toId]})).flat());return e.filter((function(e){return n.has(e.id)}))})),e.getFlowWeightRange=On(e.getAggregatedFlows,(function(e){return e.length?[e[0].weight,e[e.length-1].weight]:[0,0]})),e.getFilterFlowWeightRange=On(e.getFilterFlows,(function(e){return e.length?[e[0].weight,e[e.length-1].weight]:[0,0]})),e}return k()(n)}(P),Qn=u(6594),er=u.n(Qn),tr=function(e){return e},nr={}.toString,rr=function(e,t){return nr.call(e)==="[object "+t+"]"},or=function(e){return Array.isArray?Array.isArray(e):rr(e,"Array")},ir=function(e){return"object"===G()(e)&&null!==e},ar=function(e){if(!ir(e)||!rr(e,"Object"))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t};function ur(e,t){if(Object.hasOwn)return Object.hasOwn(e,t);if(null==e)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(e),t)}function lr(e,t,n,r){for(var o in n=n||0,r=r||5,t)if(ur(t,o)){var i=t[o];null!==i&&ar(i)?(ar(e[o])||(e[o]={}),n<r?lr(e[o],i,n+1,r):e[o]=t[o]):or(i)?(e[o]=[],e[o]=e[o].concat(i)):void 0!==i&&(e[o]=i)}}var cr=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r+=1)lr(e,t[r]);return e},sr=function(){function e(t){L()(this,e),this.options=cr({},this.getDefaultOptions()),this.update(t)}return k()(e,[{key:"getOptions",value:function(){return this.options}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=cr({},this.options,e),this.rescale(e)}},{key:"rescale",value:function(e){}}]),e}();function fr(e,t){return t-e?function(n){return(n-e)/(t-e)}:function(e){return.5}}function dr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((function(e,t){return function(n){return e(t(n))}}),e)}var hr=u(5668),vr=u.n(hr);function pr(e,t,n){var r=n;return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function yr(e){var t=vr().get(e);if(!t)return null;var n=t.model,r=t.value;return"rgb"===n?r:"hsl"===n?function(e){var t=e[0]/360,n=e[1]/100,r=e[2]/100,o=e[3];if(0===n)return[255*r,255*r,255*r,o];var i=r<.5?r*(1+n):r+n-r*n,a=2*r-i;return[255*pr(a,i,t+1/3),255*pr(a,i,t),255*pr(a,i,t-1/3),o]}(r):null}var mr=function(e,t){return function(n){return e*(1-n)+t*n}},gr=function(e,t){return"number"==typeof e&&"number"==typeof t?mr(e,t):"string"==typeof e&&"string"==typeof t?function(e,t){var n=yr(e),r=yr(t);return null===n||null===r?n?function(){return e}:function(){return t}:function(e){for(var t=new Array(4),o=0;o<4;o+=1){var i=n[o],a=r[o];t[o]=i*(1-e)+a*e}var u=t[0],l=t[1],c=t[2],s=t[3];return"rgba(".concat(Math.round(u),", ").concat(Math.round(l),", ").concat(Math.round(c),", ").concat(s,")")}}(e,t):function(){return e}},br=function(e,t){var n=mr(e,t);return function(e){return Math.round(n(e))}},wr=function(e){return void 0===e},Lr=function(e){return null===e};function xr(e){return!wr(e)&&!Lr(e)&&!Number.isNaN(e)}var kr=Math.sqrt(50),Sr=Math.sqrt(10),Mr=Math.sqrt(2);function Er(e,t,n){var r=(t-e)/Math.max(0,n),o=Math.floor(Math.log(r)/Math.LN10),i=r/Math.pow(10,o);return o>=0?(i>=kr?10:i>=Sr?5:i>=Mr?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(i>=kr?10:i>=Sr?5:i>=Mr?2:1)}var Or=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,o=[e,t],i=0,a=o.length-1,u=o[i],l=o[a];if(l<u){var c=[l,u];u=c[0],l=c[1];var s=[a,i];i=s[0],a=s[1]}return(n=Er(u,l,r))>0?n=Er(u=Math.floor(u/n)*n,l=Math.ceil(l/n)*n,r):n<0&&(n=Er(u=Math.ceil(u*n)/n,l=Math.floor(l*n)/n,r)),n>0?(o[i]=Math.floor(u/n)*n,o[a]=Math.ceil(l/n)*n):n<0&&(o[i]=Math.ceil(u*n)/n,o[a]=Math.floor(l*n)/n),o};var Cr=function(e,t,n){var r,i,a=o()(e,2),u=a[0],l=a[1],c=o()(t,2),s=c[0],f=c[1];return u<l?(r=fr(u,l),i=n(s,f)):(r=fr(l,u),i=n(f,s)),dr(i,r)},Ir=function(e,t,n){for(var r=Math.min(e.length,t.length)-1,o=new Array(r),i=new Array(r),a=e[0]>e[r],u=a?Z()(e).reverse():e,l=a?Z()(t).reverse():t,c=0;c<r;c+=1)o[c]=fr(u[c],u[c+1]),i[c]=n(l[c],l[c+1]);return function(t){var n=function(e,t,n,r,o){for(var i=n||0,a=r||e.length,u=o||function(e){return e};i<a;){var l=Math.floor((i+a)/2);u(e[l])>t?a=l:i=l+1}return i}(e,t,1,r)-1,a=o[n];return dr(i[n],a)(t)}},_r=function(e,t,n,r){return(Math.min(e.length,t.length)>2?Ir:Cr)(e,t,r?br:n)},Ar=function(e){O()(n,e);var t=I()(n);function n(){return L()(this,n),t.apply(this,arguments)}return k()(n,[{key:"getDefaultOptions",value:function(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:mr,tickCount:5}}},{key:"map",value:function(e){return xr(e)?this.output(e):this.options.unknown}},{key:"invert",value:function(e){return xr(e)?this.input(e):this.options.unknown}},{key:"nice",value:function(){if(this.options.nice){var e=this.getTickMethodOptions(),t=er()(e),n=t[0],r=t[1],o=t[2],i=t.slice(3);this.options.domain=this.chooseNice().apply(void 0,[n,r,o].concat(Z()(i)))}}},{key:"getTicks",value:function(){var e=this.options.tickMethod,t=this.getTickMethodOptions(),n=er()(t),r=n[0],o=n[1],i=n[2],a=n.slice(3);return e.apply(void 0,[r,o,i].concat(Z()(a)))}},{key:"getTickMethodOptions",value:function(){var e=this.options,t=e.domain,n=e.tickCount;return[t[0],t[t.length-1],n]}},{key:"chooseNice",value:function(){return Or}},{key:"rescale",value:function(){this.nice();var e=this.chooseTransforms(),t=o()(e,2),n=t[0],r=t[1];this.composeOutput(n,this.chooseClamp(n)),this.composeInput(n,r,this.chooseClamp(r))}},{key:"chooseClamp",value:function(e){var t,n,r,o,i=this.options,a=i.clamp,u=i.range,l=this.options.domain.map(e),c=Math.min(l.length,u.length);return a?(t=l[0],n=l[c-1],r=n<t?n:t,o=t>n?t:n,function(e){return Math.min(Math.max(r,e),o)}):tr}},{key:"composeOutput",value:function(e,t){var n=this.options,r=n.domain,o=n.range,i=n.round,a=n.interpolate,u=_r(r.map(e),o,a,i);this.output=dr(u,t,e)}},{key:"composeInput",value:function(e,t,n){var r=this.options,o=r.domain,i=r.range,a=_r(i,o.map(e),mr);this.input=dr(t,n,a)}}]),n}(sr),Nr=function(e){return function(t){return-e(-t)}},Pr=function(e,t){var n=Math.log(e),r=e===Math.E?Math.log:10===e?Math.log10:2===e?Math.log2:function(e){return Math.log(e)/n};return t?Nr(r):r},jr=function(e,t){var n=e===Math.E?Math.exp:function(t){return Math.pow(e,t)};return t?Nr(n):n},Rr=function(e,t,n){var r,o,i=e,a=t;if(i===a&&n>0)return[i];var u=Er(i,a,n);if(0===u||!Number.isFinite(u))return[];if(u>0){i=Math.ceil(i/u),a=Math.floor(a/u),o=new Array(r=Math.ceil(a-i+1));for(var l=0;l<r;l+=1)o[l]=(i+l)*u}else{u=-u,i=Math.ceil(i*u),a=Math.floor(a*u),o=new Array(r=Math.ceil(a-i+1));for(var c=0;c<r;c+=1)o[c]=(i+c)/u}return o},Dr=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,o=e<0,i=jr(r,o),a=Pr(r,o),u=t<e,l=u?t:e,c=u?e:t,s=a(l),f=a(c),d=[];if(!(r%1)&&f-s<n){if(s=Math.floor(s),f=Math.ceil(f),o)for(;s<=f;s+=1)for(var h=i(s),v=r-1;v>=1;v-=1){var p=h*v;if(p>c)break;p>=l&&d.push(p)}else for(;s<=f;s+=1)for(var y=i(s),m=1;m<r;m+=1){var g=y*m;if(g>c)break;g>=l&&d.push(g)}2*d.length<n&&(d=Rr(l,c,n))}else{var b=-1===n?f-s:Math.min(f-s,n);d=Rr(s,f,b).map(i)}return u?d.reverse():d},Tr=function(e,t,n,r){var o=e<0,i=Pr(r,o),a=jr(r,o),u=e>t,l=u?t:e,c=u?e:t,s=[a(Math.floor(i(l))),a(Math.ceil(i(c)))];return u?s.reverse():s},Fr=function(e){O()(n,e);var t=I()(n);function n(){return L()(this,n),t.apply(this,arguments)}return k()(n,[{key:"getDefaultOptions",value:function(){return{domain:[1,10],range:[0,1],base:10,interpolate:gr,tickMethod:Dr,tickCount:5}}},{key:"chooseNice",value:function(){return Tr}},{key:"getTickMethodOptions",value:function(){var e=this.options,t=e.domain,n=e.tickCount,r=e.base;return[t[0],t[t.length-1],n,r]}},{key:"chooseTransforms",value:function(){var e=this.options,t=e.base,n=e.domain[0]<0;return[Pr(t,n),jr(t,n)]}},{key:"clone",value:function(){return new n(this.options)}}]),n}(Ar),zr=c.ScaleTypes.LINEAR;function Hr(e,t){var n;if(e instanceof Object&&!(e instanceof Function)&&!Array.isArray(e)){var r=e.field,o=e.value;if("weight"===r&&Array.isArray(o)&&o.length){var i=(null===(n=e.scale)||void 0===n?void 0:n.type)||zr;return Object.assign(Object.assign({},e),{scale:{field:"size",type:i,domain:t}})}}return e}function Wr(e,t){var n;if(e instanceof Object&&!(e instanceof Function)&&!Array.isArray(e)){var r=e.field,o=e.value;if("weight"===r&&Array.isArray(o)&&o.length){var i=(null===(n=e.scale)||void 0===n?void 0:n.type)||zr;return Object.assign(Object.assign({},e),{scale:{field:"color",type:i,domain:t}})}}return e}var Br=function(e){O()(n,e);var t=I()(n);function n(e){var r;return L()(this,n),(r=t.call(this,e)).type=wt.LayerType.FlowLayer,r.dataProvider=new Jn,r.matchZoom=0,r.onMapChange=(0,m.debounce)((function(){r.updateSubLayers()}),400,{maxWait:400}),r.onCircleMouseMove=function(e){r.renderHighlightLayers(r._getCircleLayerActiveData(e,r._getFullActiveOptions()))},r.onCircleMouseOut=function(){r.clearHighlightLayers()},r.onLineMouseMove=function(e){r.renderHighlightLayers(r._getLineLayerActiveData(e,r._getFullActiveOptions()))},r.onLineMouseOut=function(){r.clearHighlightLayers()},r.onCircleClick=function(e){var t,n,o;e.feature.id!==(null===(o=null===(n=null===(t=r.circleSelectLayer)||void 0===t?void 0:t.options.source.data)||void 0===n?void 0:n[0])||void 0===o?void 0:o.id)?r.renderSelectLayers(r._getCircleLayerActiveData(e,r._getFullSelectOptions())):r.clearSelectLayers()},r.onLineClick=function(e){var t,n,o;e.feature.id!==(null===(o=null===(n=null===(t=r.lineSelectLayer)||void 0===t?void 0:t.options.source.data)||void 0===n?void 0:n[0])||void 0===o?void 0:o.id)?r.renderSelectLayers(r._getLineLayerActiveData(e,r._getFullSelectOptions())):r.clearSelectLayers()},r.initSubLayersEvent(),r}return k()(n,[{key:"layer",get:function(){return this.lineLayer}},{key:"circleLayer",get:function(){var e;return null===(e=this.subLayers)||void 0===e?void 0:e.getLayer("circleLayer")}},{key:"lineLayer",get:function(){var e;return null===(e=this.subLayers)||void 0===e?void 0:e.getLayer("lineLayer")}},{key:"locationNameLayer",get:function(){var e;return null===(e=this.subLayers)||void 0===e?void 0:e.getLayer("locationNameLayer")}},{key:"circleHighlightLayer",get:function(){var e;return null===(e=this.subLayers)||void 0===e?void 0:e.getLayer("circleHighlightLayer")}},{key:"circleSelectLayer",get:function(){var e;return null===(e=this.subLayers)||void 0===e?void 0:e.getLayer("circleSelectLayer")}},{key:"lineHighlightLayer",get:function(){var e;return null===(e=this.subLayers)||void 0===e?void 0:e.getLayer("lineHighlightLayer")}},{key:"lineSelectLayer",get:function(){var e;return null===(e=this.subLayers)||void 0===e?void 0:e.getLayer("lineSelectLayer")}},{key:"getDefaultOptions",value:function(){return n.DefaultOptions}},{key:"createSubLayers",value:function(){var e=this,t=new ft({id:"circleLayer",name:"circleLayer",source:mn}),n=new ct({id:"lineLayer",name:"lineLayer",source:gn}),r=new mt({id:"locationNameLayer",name:"locationNameLayer",source:mn}),o=new ft({id:"circleHighlightLayer",name:"circleHighlightLayer",source:mn}),i=new ft({id:"circleSelectLayer",name:"circleSelectLayer",source:mn}),a=new ct({id:"lineHighlightLayer",name:"lineHighlightLayer",source:gn}),u=new ct({id:"lineSelectLayer",name:"lineSelectLayer",source:gn});return Ye.forEach((function(r){t.on(r,(function(t){return e.emit("circleLayer:".concat(r),t)})),n.on(r,(function(t){return e.emit("lineLayer:".concat(r),t)}))})),[n,t,r,o,i,a,u]}},{key:"update",value:function(e){se()(de()(n.prototype),"update",this).call(this,e),this.initSubLayersEvent(),e.source!==this.options.source&&this.clearActiveLayers()}},{key:"addTo",value:function(e){var t,r;this.scene=e,this.updateSubLayers(),se()(de()(n.prototype),"addTo",this).call(this,e),null===(t=this.scene)||void 0===t||t.on("zoomchange",this.onMapChange),null===(r=this.scene)||void 0===r||r.on("mapmove",this.onMapChange)}},{key:"remove",value:function(){var e,t;se()(de()(n.prototype),"remove",this).call(this),null===(e=this.scene)||void 0===e||e.off("zoomchange",this.onMapChange),null===(t=this.scene)||void 0===t||t.off("mapmove",this.onMapChange)}},{key:"updateSubLayers",value:function(){var e,t=this;this.updateClusterState(),null===(e=this.circleLayer)||void 0===e||e.update(this.getCircleLayerOptions()),this.getLocationNameLayerOptions().then((function(e){var n;null===(n=t.locationNameLayer)||void 0===n||n.update(e)})),requestAnimationFrame((function(){var e,n,r,o,i,a,u;null===(e=t.lineLayer)||void 0===e||e.update(t.getLineLayerOptions()),null===(n=t.circleHighlightLayer)||void 0===n||n.update(t.getCircleHighlightLayerOptions()),null===(r=t.circleSelectLayer)||void 0===r||r.update(t.getCircleSelectLayerOptions()),null===(o=t.lineHighlightLayer)||void 0===o||o.update(t.getLineHighlightLayerOptions()),null===(i=t.lineSelectLayer)||void 0===i||i.update(t.getLineSelectLayerOptions());var l=null!==(u=null===(a=(0,t.dataProvider.getClusterIndex(t.options.source,t.dataProviderState).getAppropriateLevel)(t.dataProviderState.mapStatus.zoom))||void 0===a?void 0:a.zoom)&&void 0!==u?u:0;l!==t.matchZoom&&(t.clearActiveLayers(),t.matchZoom=l)}))}},{key:"initSubLayersEvent",value:function(){var e,t,n,r,o,i,a,u,l,c,s,f,d,h;null===(e=this.circleLayer)||void 0===e||e.off("mousemove",this.onCircleMouseMove),null===(t=this.circleLayer)||void 0===t||t.off("mouseout",this.onCircleMouseOut),null===(n=this.circleLayer)||void 0===n||n.off("click",this.onCircleClick),null===(r=this.lineLayer)||void 0===r||r.off("mousemove",this.onLineMouseMove),null===(o=this.lineLayer)||void 0===o||o.off("mouseout",this.onLineMouseOut),null===(i=this.lineLayer)||void 0===i||i.off("click",this.onLineClick),(null===(a=this.options.state)||void 0===a?void 0:a.active)&&(null===(u=this.circleLayer)||void 0===u||u.on("mousemove",this.onCircleMouseMove),null===(l=this.circleLayer)||void 0===l||l.on("mouseout",this.onCircleMouseOut),null===(c=this.lineLayer)||void 0===c||c.on("mousemove",this.onLineMouseMove),null===(s=this.lineLayer)||void 0===s||s.on("mouseout",this.onLineMouseOut)),(null===(f=this.options.state)||void 0===f?void 0:f.select)&&(null===(d=this.circleLayer)||void 0===d||d.on("click",this.onCircleClick),null===(h=this.lineLayer)||void 0===h||h.on("click",this.onLineClick))}},{key:"updateClusterState",value:function(){var e=this.scene;if(e){var t=e.getMaxZoom(),n=e.getMinZoom(),r=function(e,t){void 0===t&&(t={});var n=Number(e[0]),r=Number(e[1]),o=Number(e[2]),i=Number(e[3]);if(6===e.length)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var a=[n,r];return Kt([[a,[o,r],[o,i],[n,i],a]],t.properties,{bbox:e,id:t.id})}(e.getBounds().flat()),o=yn(r,1.1);this.dataProviderState=Object.assign(Object.assign({},this.options),{mapStatus:{zoom:e.getZoom(),bounds:tn(o)},maxZoom:t,minZoom:n})}}},{key:"getCircleLayerOptions",value:function(){var e=this.options,t={source:{data:[],parser:{type:"json",x:"lng",y:"lat"}},shape:"circle",minZoom:e.minZoom,maxZoom:e.maxZoom,zIndex:e.zIndex,visible:e.visible,blend:e.blend,pickingBuffer:e.pickingBuffer,style:{stroke:e.circleStrokeColor,strokeWidth:e.circleStrokeWidth,opacity:e.circleOpacity}};if(this.dataProvider&&this.scene){var n=this.dataProvider.getLocationWeightRange(this.options.source,this.dataProviderState);t.source.data=this.dataProvider.getFilterLocations(this.options.source,this.dataProviderState),t.size=Hr(this.options.circleRadius,n),t.color=Wr(this.options.circleColor,n)}return t}},{key:"getLineLayerOptions",value:function(){var e,t,n,r,o=this.options,i=o.minZoom,a=o.maxZoom,u=o.zIndex,l=o.visible,c=o.blend,s=o.pickingBuffer,f=o.lineOpacity,d=o.lineWidth,h=o.lineColor,v=o.lineStroke,p=o.lineStrokeOpacity,y=o.lineStrokeWidth,m={source:{data:[],parser:{type:"json",x:"fromLng",y:"fromLat",x1:"toLng",y1:"toLat"}},shape:"flowline",minZoom:i,maxZoom:a,zIndex:u,visible:l,blend:c,pickingBuffer:s,style:{gapWidth:y,stroke:v,strokeWidth:y,strokeOpacity:p,opacity:f}};if(this.dataProvider&&this.scene){var g=this.dataProvider.getFlowWeightRange(this.options.source,this.dataProviderState),b=this.dataProvider.getFilterFlowWeightRange(this.options.source,this.dataProviderState);if(m.source.data=this.dataProvider.getFilterFlows(this.options.source,this.dataProviderState),m.size=Hr(d,g),m.color=Wr(h,g),this.options.fadeOpacityEnabled&&m.style&&(m.style.opacity=(e=b,t=this.options.fadeOpacityAmount,n=new Fr({domain:e,range:[0,1]}),r=1.5*(1-t/100),{field:"weight",value:function(e){return n.map(e)*r}})),this.circleLayer&&m.style){var w=this.dataProvider.getClusterIndex(this.options.source,this.dataProviderState);m.style.offsets=function(e,t){var n,r=t.options.size;if("number"==typeof r)return[r,r];var o=null===(n=null==t?void 0:t.layer)||void 0===n?void 0:n.getScale("size");return{field:"fromId*toId",value:function(t,n){var r,i,a=e.clusterIdMap.get(t),u=e.clusterIdMap.get(n);return[null!==(r=a?null==o?void 0:o(a.weight):0)&&void 0!==r?r:0,null!==(i=u?null==o?void 0:o(u.weight):0)&&void 0!==i?i:0]}}}(w,this.circleLayer)}}return m}},{key:"getLocationNameLayerOptions",value:function(){return ve(this,void 0,void 0,T()().mark((function e(){var t,n,r,o,i,a,u,l,c,s,f,d,h,v,p,y,m,g,b,w=this;return T()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.options,o=r.minZoom,i=r.maxZoom,a=r.zIndex,u=r.visible,l=r.blend,c=r.pickingBuffer,s=r.showLocationName,f=r.getClusterLocationName,d=r.locationNameColor,h=r.locationNameSize,v=r.locationNameStroke,p=r.locationNameStrokeWidth,y=r.locationNameStrokeOpacity,m=r.locationNameOffset,g=Object.assign({},s&&null!==(n=null===(t=this.circleLayer)||void 0===t?void 0:t.options.source)&&void 0!==n?n:mn),!f){e.next=6;break}return e.next=5,Promise.all(g.data.map((function(e,t){return ve(w,void 0,void 0,T()().mark((function n(){return T()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.name){n.next=10;break}return n.prev=1,n.next=4,f(e,t);case 4:e.name=n.sent,n.next=10;break;case 7:n.prev=7,n.t0=n.catch(1),e.name="";case 10:return n.abrupt("return",e);case 11:case"end":return n.stop()}}),n,null,[[1,7]])})))})));case 5:g.data=e.sent;case 6:return b={source:g,field:"name",minZoom:o,maxZoom:i,zIndex:a,visible:u,blend:l,pickingBuffer:c,style:{fill:d,fontSize:h,stroke:v,strokeOpacity:y,strokeWidth:p,textOffset:m}},e.abrupt("return",b);case 8:case"end":return e.stop()}}),e,this)})))}},{key:"getCircleHighlightLayerOptions",value:function(){return this._getCircleActiveLayerOptions(this._getFullActiveOptions())}},{key:"getCircleSelectLayerOptions",value:function(){return this._getCircleActiveLayerOptions(this._getFullSelectOptions())}},{key:"getLineHighlightLayerOptions",value:function(){return this._getLineActiveLayerOptions(this._getFullActiveOptions())}},{key:"getLineSelectLayerOptions",value:function(){return this._getLineActiveLayerOptions(this._getFullSelectOptions())}},{key:"renderHighlightLayers",value:function(e){var t,n,r=e.locations,o=e.flows;null===(t=this.circleHighlightLayer)||void 0===t||t.update({source:{data:r,parser:{type:"json",x:"lng",y:"lat"}}}),null===(n=this.lineHighlightLayer)||void 0===n||n.update({source:{data:o,parser:{type:"json",x:"fromLng",y:"fromLat",x1:"toLng",y1:"toLat"}}})}},{key:"renderSelectLayers",value:function(e){var t,n,r=e.locations,o=e.flows;null===(t=this.circleSelectLayer)||void 0===t||t.update({source:{data:r,parser:{type:"json",x:"lng",y:"lat"}}}),null===(n=this.lineSelectLayer)||void 0===n||n.update({source:{data:o,parser:{type:"json",x:"fromLng",y:"fromLat",x1:"toLng",y1:"toLat"}}})}},{key:"clearActiveLayers",value:function(){this.clearHighlightLayers(),this.clearSelectLayers()}},{key:"clearHighlightLayers",value:function(){this.renderHighlightLayers({locations:[],flows:[]})}},{key:"clearSelectLayers",value:function(){this.renderSelectLayers({locations:[],flows:[]})}},{key:"_getCircleLayerActiveData",value:function(e,t){var n=t.enableCircleSpread,r=e.feature,o=r.id,i=[];n&&(i=this.dataProvider.getFilterFlows(this.options.source,this.dataProviderState).filter((function(e){return e.fromId===o||e.toId===o})));return{locations:[r],flows:i}}},{key:"_getLineLayerActiveData",value:function(e,t){var n=t.enableLineSpread,r=e.feature,o=[],i=r.fromId,a=r.toId;if(n){var u=this.dataProvider.getClusterIndex(this.options.source,this.dataProviderState).clusterIdMap,l=u.get(i),c=u.get(a);l&&o.push(l),c&&o.push(c)}return{locations:o,flows:[r]}}},{key:"_getFullActiveOptions",value:function(){var e,t;return Object.assign(Object.assign({},bn),(null===(e=this.options.state)||void 0===e?void 0:e.active)instanceof Object?null===(t=this.options.state)||void 0===t?void 0:t.active:{})}},{key:"_getFullSelectOptions",value:function(){var e,t;return Object.assign(Object.assign({},wn),(null===(e=this.options.state)||void 0===e?void 0:e.select)instanceof Object?null===(t=this.options.state)||void 0===t?void 0:t.select:{})}},{key:"_getCircleActiveLayerOptions",value:function(e){var t,n,r=e.circleColor,o=e.circleStrokeColor,i=null!==(n=null===(t=this.circleLayer)||void 0===t?void 0:t.options)&&void 0!==n?n:{},a=i.color,u=i.size;return{color:null!=r?r:a,shape:i.shape,size:u,style:{stroke:o,strokeWidth:i.style.strokeWidth}}}},{key:"_getLineActiveLayerOptions",value:function(e){var t,n,r=e.lineColor,o=e.lineStroke,i=null!==(n=null===(t=this.lineLayer)||void 0===t?void 0:t.options)&&void 0!==n?n:{},a=i.color,u=i.size,l=i.shape,c=i.style;return{color:null!=r?r:a,size:u,shape:l,style:{stroke:o,strokeWidth:c.lineStrokeWidth,gapWidth:c.lineStrokeWidth,offsets:c.offsets}}}}]),n}(wt);Br.DefaultOptions=Ln;var Ur={onRemove:ot.onRemove,onShow:ot.onShow,onHide:ot.onHide,onDataUpdate:ot.onDataUpdate,onLegend:ot.onLegend,onLegendColor:ot.onLegendColor,onLegendSize:ot.onLegendSize,onCircleLayerClick:"circleLayer:"+ot.onClick,onCircleLayerUnClick:"circleLayer:"+ot.onUnClick,onCircleLayerDblClick:"circleLayer:"+ot.onDblClick,onCircleLayerUndblclick:"circleLayer:"+ot.onUndblclick,onCircleLayerContextMenu:"circleLayer:"+ot.onContextMenu,onCircleLayerUnContextMenu:"circleLayer:"+ot.onUnContextMenu,onCircleLayerMouseEnter:"circleLayer:"+ot.onMouseEnter,onCircleLayerMouseMove:"circleLayer:"+ot.onMouseMove,onCircleLayerMouseOut:"circleLayer:"+ot.onMouseOut,onCircleLayerMouseUp:"circleLayer:"+ot.onMouseUp,onCircleLayerMouseDown:"circleLayer:"+ot.onMouseDown,onCircleLayerUnMousemove:"circleLayer:"+ot.onUnMousemove,onCircleLayerUnMouseup:"circleLayer:"+ot.onUnMouseup,onCircleLayerUnMousedown:"circleLayer:"+ot.onUnMousedown,onCircleLayerUnPick:"circleLayer:"+ot.onUnPick,onLineLayerClick:"lineLayer:"+ot.onClick,onLineLayerUnClick:"lineLayer:"+ot.onUnClick,onLineLayerDblClick:"lineLayer:"+ot.onDblClick,onLineLayerUndblclick:"lineLayer:"+ot.onUndblclick,onLineLayerContextMenu:"lineLayer:"+ot.onContextMenu,onLineLayerUnContextMenu:"lineLayer:"+ot.onUnContextMenu,onLineLayerMouseEnter:"lineLayer:"+ot.onMouseEnter,onLineLayerMouseMove:"lineLayer:"+ot.onMouseMove,onLineLayerMouseOut:"lineLayer:"+ot.onMouseOut,onLineLayerMouseUp:"lineLayer:"+ot.onMouseUp,onLineLayerMouseDown:"lineLayer:"+ot.onMouseDown,onLineLayerUnMousemove:"lineLayer:"+ot.onUnMousemove,onLineLayerUnMouseup:"lineLayer:"+ot.onUnMouseup,onLineLayerUnMousedown:"lineLayer:"+ot.onUnMousedown,onLineLayerUnPick:"lineLayer:"+ot.onUnPick},Zr=(0,s.memo)((0,s.forwardRef)((function(e,t){var n=rt(Br,e);return it(n.current,e,Ur),(0,s.useImperativeHandle)(t,(function(){return n.current})),null}))),Vr={active:{enable:!1,color:kt},select:{enable:!1,radius:10,opacity:1}},Kr={visible:!0,source:Lt,radius:12,icon:{value:"1"},state:{active:!1,select:!1},blend:"normal",enabledMultiSelect:!1,triggerMultiSelectKey:"Shift"},Gr=function(e){return Object.assign(Object.assign({},Vr),e)},qr=function(e){O()(n,e);var t=I()(n);function n(e){var r;return L()(this,n),(r=t.call(this,e)).layerState=Vr,r.type=wt.LayerType.IconImageLayer,r.selectData=[],r.onSelectHandle=function(e){var t=e.feature,n=e.featureId;r.handleSelectData(n,t)},r.initSubLayersEvent(),r}return k()(n,[{key:"layer",get:function(){return this.iconLayer}},{key:"iconLayer",get:function(){return this.subLayers.getLayer("iconLayer")}},{key:"iconLabelLayer",get:function(){return this.subLayers.getLayer("labelLayer")}},{key:"selectIconLayer",get:function(){return this.subLayers.getLayer("selectIconLayer")}},{key:"getDefaultOptions",value:function(){return n.DefaultOptions}},{key:"addTo",value:function(e){this.scene=e,this.initAssets(),this.subLayers.addTo(e),this.emit(Ve.ADD)}},{key:"getIconLayerOptions",value:function(){var e,t=Fe(this.options,["source"]),n=t.visible,r=t.minZoom,o=t.maxZoom,i=t.zIndex,a=void 0===i?0:i,u=t.radius,l=t.opacity,c=t.icon,s=t.fillColor,f=t.iconStyle,d=he(t,["visible","minZoom","maxZoom","zIndex","radius","opacity","icon","fillColor","iconStyle"]),h={active:null===(e=this.options.state)||void 0===e?void 0:e.active,select:!1},v=Object.assign({opacity:l},f);return Object.assign(Object.assign({},d),{visible:n,minZoom:r,maxZoom:o,zIndex:a,shape:c,size:u,state:h,color:s,style:v})}},{key:"getHighLightLayerOptions",value:function(){var e,t=this.options,n=t.visible,r=t.minZoom,o=t.maxZoom,i=t.zIndex,a=void 0===i?0:i,u=t.icon,l=null===(e=this.layerState)||void 0===e?void 0:e.select,s=l.radius,f=void 0===s?5:s,d=l.opacity,h={opacity:void 0===d?1:d};return{visible:n,blend:c.BlendType.normal,zIndex:a+.1,minZoom:r,maxZoom:o,source:Lt,size:f,style:h,shape:(null==l?void 0:l.icon)||u,state:{select:!1,active:!1}}}},{key:"handleSelectData",value:function(e,t,n){var r=this.options,o=r.enabledMultiSelect,i=r.triggerMultiSelectKey,a=It(o,i)||n,u=Pe(this.selectData),l=u.findIndex((function(t){return t.featureId===e}));if(-1===l)a?u.push({feature:t,featureId:e}):u=[{feature:t,featureId:e}],this.emit("select",t,Pe(u));else{var c=u[l];a?u.splice(l,1):u=[],this.emit("unselect",c,Pe(u))}this.setSelectLayerSource(u)}},{key:"createSubLayers",value:function(){var e=this.source;this.layerState=Gr(this.options.state);var t=new ft(Object.assign(Object.assign({},this.getIconLayerOptions()),{id:"iconLayer",source:e,interaction:!0})),n=new ft(Object.assign({id:"selectIconLayer"},this.getHighLightLayerOptions()));return[t,new mt(Object.assign(Object.assign({},Ot(this.options)),{id:"labelLayer",source:e})),n]}},{key:"updateSubLayers",value:function(e){this.iconLayer.update(this.getIconLayerOptions(),!1),this.iconLabelLayer.update(Ot(this.options),!1)}},{key:"setSelectLayerSource",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(this.selectData.length!==e.length||!De(this.selectData.map((function(e){return e.featureId})),e.map((function(e){return e.featureId})))){var t=e.map((function(e){return e.feature})),n=this.source.parser,r="geojson"===n.type?{type:"FeatureCollection",features:t}:t;this.selectIconLayer.changeData({data:r,parser:n}),this.selectData=e}}},{key:"setSubLayersSource",value:function(e){if(this.isSourceInstance(e))this.source=e,this.iconLayer.setSource(e),this.iconLabelLayer.setSource(e);else{var t=e.data,n=he(e,["data"]);this.source.setData(t,n)}this.selectIconLayer.changeData(Lt)}},{key:"initSubLayersEvent",value:function(){this.iconLayer.off("click",this.onSelectHandle),this.selectData=[],this.options.state&&this.options.state.select&&this.iconLayer.on("click",this.onSelectHandle)}},{key:"updateOption",value:function(e){se()(de()(n.prototype),"updateOption",this).call(this,e),this.layerState=Gr(this.options.state)}},{key:"setIndex",value:function(e){this.iconLayer.setIndex(e),this.iconLabelLayer.setIndex(e),this.selectIconLayer.setIndex(e+.1)}},{key:"setActive",value:function(e,t){var n=this.iconLayer.source.getFeatureId(e,t);Ne(n)?console.warn("Feature non-existent by field: ".concat(e,",value: ").concat(t)):this.iconLayer.layer.setActive(n)}},{key:"update",value:function(e){se()(de()(n.prototype),"update",this).call(this,e),this.initSubLayersEvent()}},{key:"setSelect",value:function(e,t){var n,r,o=this.iconLayer.source,i=o.getFeatureId(e,t);if(Ne(i))console.warn("Feature non-existent by field: ".concat(e,",value: ").concat(t));else if(!(null===(n=this.layerState)||void 0===n?void 0:n.select)||!1===(null===(r=this.layerState)||void 0===r?void 0:r.select).enable){var a=o.getFeatureById(i),u=this.options.enabledMultiSelect;this.handleSelectData(i,a,u)}}},{key:"boxSelect",value:function(e,t){this.iconLayer.boxSelect(e,t)}}]),n}(wt);qr.DefaultOptions=Kr;var Yr=function(e){O()(n,e);var t=I()(n);function n(){var e;return L()(this,n),(e=t.apply(this,arguments)).type=wt.LayerType.IconFontLayer,e.fontLoaded=!0,e}return k()(n,[{key:"addTo",value:function(e){var t=this;this.scene=e,this.initAssets();var n=function(){t.subLayers.once(Ke.INITED_LAYERS,(function(){t.emit(Ve.INITED,t),t.emit(Ve.ADD,t)})),t.subLayers.addTo(e)};this.fontLoaded?n():this.on("fontloaded",(function(){n()}))}},{key:"initAssets",value:function(){this.loadIconFontAtlas()}},{key:"loadIconFontAtlas",value:function(){var e=this,t=this.options.iconAtlas,n=t.fontFamily,r=t.fontPath,o=t.iconFonts,i=this.scene;n&&r&&(this.fontLoaded=!1,null==i||i.once("fontloaded",(function(t){e.emit("fontloaded",t),e.fontLoaded=!0})),null==i||i.addFontFace(n,r)),null==i||i.addIconFonts(o)}}]),n}(qr);Yr.DefaultOptions=Kr;var Xr=(0,s.memo)((0,s.forwardRef)((function(e,t){var n=rt(Yr,e);return it(n.current,e),(0,s.useImperativeHandle)(t,(function(){return n.current})),null}))),$r=function(e){O()(n,e);var t=I()(n);function n(){var e;return L()(this,n),(e=t.apply(this,arguments)).type=wt.LayerType.IconImageLayer,e}return k()(n,[{key:"addTo",value:function(e){var t=this;this.scene=e,this.initAssets().then((function(){t.subLayers.once(Ke.INITED_LAYERS,(function(){t.emit(Ve.INITED,t),t.emit(Ve.ADD,t)})),t.subLayers.addTo(e)}))}},{key:"initAssets",value:function(){return ve(this,void 0,void 0,T()().mark((function e(){return T()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadIconAtlas();case 2:case"end":return e.stop()}}),e,this)})))}},{key:"updateAssets",value:function(){return ve(this,void 0,void 0,T()().mark((function e(){return T()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadIconAtlas();case 2:case"end":return e.stop()}}),e,this)})))}},{key:"updateSubLayers",value:function(e){var t=this;e.iconAtlas&&!(0,m.isEqual)(e.iconAtlas,this.lastOptions.iconAtlas)?this.updateAssets().then((function(){se()(de()(n.prototype),"updateSubLayers",t).call(t,e)})):se()(de()(n.prototype),"updateSubLayers",this).call(this,e)}},{key:"loadIconAtlas",value:function(){return ve(this,void 0,void 0,T()().mark((function e(){var t,n,r,i=this;return T()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.options.iconAtlas,n=this.scene){e.next=4;break}return e.abrupt("return");case 4:return r=Object.entries(t).filter((function(e){var t=o()(e,1)[0];return!1===n.hasImage(t)})),e.next=7,Promise.all(r.map((function(e){return ve(i,[e],void 0,(function(e){var t=o()(e,2),r=t[0],i=t[1];return T()().mark((function e(){return T()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.addImage(r,i);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))()}))})));case 7:case"end":return e.stop()}}),e,this)})))}}]),n}(qr);$r.DefaultOptions=Kr;var Jr=(0,s.memo)((0,s.forwardRef)((function(e,t){var n=rt($r,e);return it(n.current,e),(0,s.useImperativeHandle)(t,(function(){return n.current})),null}))),Qr=u(314),eo=u.n(Qr),to=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.entries(null!=e?e:{}).map((function(e){var t=o()(e,2),n=t[0],r=t[1],i=(0,m.kebabCase)(n),a=r;return"number"==typeof a?a="".concat(a,"px"):"string"==typeof a&&(a=a.replace("'","")),"".concat(i," :").concat(a)})).join("; ")},no=function(e){var t=e.className,n=e.style,r=e.children,o=e.position,i=void 0===o?"topleft":o,a=e.name,u=(0,s.useRef)(document.createElement("div")),l=to(n),c=(0,s.useCallback)((function(){return u.current}),[]),f=(0,s.useMemo)((function(){return{position:i,name:a,className:t,style:l}}),[i,a,t,l]);return ie(c,void 0,f),(0,Qr.createPortal)(r,u.current)},ro=function(e){var t=(0,s.useRef)(document.createElement("span"));return{portal:e?(0,Qr.createPortal)(e,t.current):null,dom:e?t.current:void 0}},oo=function(e,t){var n=(0,s.useRef)(!0),r=(0,s.useMemo)((function(){return Object.keys(t)}),[t]);V((function(o){if(n.current)n.current=!1;else{var i={};o.forEach((function(e){var n=r[e];i[n]=t[n]})),null==e||e.setOptions(i)}}),Object.values(t))},io=function(e,t){var n=(0,s.useMemo)((function(){return Object.keys(t)}),[t]);(0,s.useEffect)((function(){return e&&n.forEach((function(n){var r=t[n];r&&e.on(n,r)})),function(){e&&n.forEach((function(n){var r=t[n];r&&e.off(n,r)}))}}),[e].concat(Z()(Object.values(t)))),X((function(){e&&n.forEach((function(n){var r=t[n];r&&e.off(n,r)}))}))},ao=function(e){var t=e.onExport,n=e.onShow,r=e.onHide,i=e.onAdd,a=e.onRemove,u=e.imageType,l=e.btnIcon,d=e.btnText,h=e.title,v=e.vertical,p=e.position,y=e.className,g=e.style,b=oe(),w=(0,s.useState)(),L=o()(w,2),x=L[0],k=L[1],S=(0,s.useMemo)((function(){return to(g)}),[g]),M=ro(l),E=M.portal,O=M.dom,C=(0,s.useMemo)((function(){return{btnText:d,title:h,vertical:v,position:p,className:y,imageType:u,style:S,btnIcon:O,onExport:t}}),[d,h,v,p,y,S,u,t,O]);return(0,s.useEffect)((function(){var e=new c.ExportImage((0,m.omitBy)(C,(function(e){return void 0===e})));return k(e),b.addControl(e),function(){b.removeControl(e),k(void 0)}}),[]),oo(x,C),io(x,{add:i,remove:a,show:n,hide:r}),f().createElement(f().Fragment,null,E)},uo=function(e){var t=e.onShow,n=e.onHide,r=e.onAdd,i=e.onRemove,a=e.onFullscreenChange,u=e.btnIcon,l=e.btnText,d=e.title,h=e.vertical,v=e.exitBtnIcon,p=e.exitBtnText,y=e.exitTitle,g=e.position,b=e.className,w=e.style,L=oe(),x=(0,s.useState)(),k=o()(x,2),S=k[0],M=k[1],E=(0,s.useMemo)((function(){return to(w)}),[w]),O=ro(u),C=O.portal,I=O.dom,_=ro(v),A=_.portal,N=_.dom,P=(0,s.useMemo)((function(){return{btnText:l,title:d,vertical:h,exitBtnText:p,exitTitle:y,position:g,className:b,style:E,btnIcon:I,exitBtnIcon:N}}),[l,d,h,p,y,g,b,E,I,N]);return(0,s.useEffect)((function(){var e=new c.Fullscreen((0,m.omitBy)(P,(function(e){return void 0===e})));return M(e),L.addControl(e),function(){L.removeControl(e),M(void 0)}}),[]),oo(S,P),io(S,{add:r,remove:i,show:t,hide:n,fullscreenChange:a}),f().createElement(f().Fragment,null,C,A)},lo=function(e){var t=e.transform,n=e.onShow,r=e.onHide,i=e.onAdd,a=e.onRemove,u=e.btnIcon,l=e.btnText,d=e.title,h=e.vertical,v=e.position,p=e.className,y=e.style,g=oe(),b=(0,s.useState)(),w=o()(b,2),L=w[0],x=w[1],k=(0,s.useMemo)((function(){return to(y)}),[y]),S=ro(u),M=S.portal,E=S.dom,O=(0,s.useMemo)((function(){return{btnText:l,title:d,vertical:h,position:v,className:p,style:k,transform:t,btnIcon:E}}),[l,d,h,v,p,k,t,E]);return(0,s.useEffect)((function(){var e=new c.GeoLocate((0,m.omitBy)(O,(function(e){return void 0===e})));return x(e),g.addControl(e),function(){g.removeControl(e),x(void 0)}}),[]),oo(L,O),io(L,{add:i,remove:a,show:n,hide:r}),f().createElement(f().Fragment,null,M)},co=function(e){var t=e.layers,r=e.popperPlacement,i=e.popperTrigger,a=e.popperClassName,u=e.btnIcon,l=e.btnText,d=e.title,h=e.vertical,v=e.position,p=e.className,y=e.style,g=e.multiple,b=e.onAdd,w=e.onRemove,L=e.onShow,x=e.onHide,k=e.onPopperShow,S=e.onPopperHide,M=e.onSelectChange,E=oe(),O=le(),C=(0,s.useState)(),I=o()(C,2),_=I[0],A=I[1],N=(0,s.useMemo)((function(){return to(y)}),[y]),P=ro(u),j=P.portal,R=P.dom,D=(0,s.useMemo)((function(){return null!=t&&t.length?t.map((function(e){if("string"==typeof e)return O.find((function(t){return t.id===e}));if(!Object.prototype.hasOwnProperty.call(e,"isComposite")){var t=e.layer;if("string"==typeof t){var r=O.find((function(e){return e.id===t}));return r?n()(n()({},e),{},{layer:r}):void 0}return e}return e})).filter((function(e){return!!e})):O}),[t,O]),T=(0,s.useMemo)((function(){return{layers:D,popperPlacement:r,popperTrigger:i,popperClassName:a,btnText:l,title:d,vertical:h,position:v,className:p,multiple:g,style:N,btnIcon:R}}),[D,r,i,a,l,d,h,v,p,g,N,R]);return(0,s.useEffect)((function(){var e=new c.LayerSwitch((0,m.omitBy)(T,(function(e){return void 0===e})));return A(e),E.addControl(e),function(){E.removeControl(e),A(void 0)}}),[]),oo(_,T),io(_,{add:b,remove:w,show:L,hide:x,popperShow:k,popperHide:S,selectChange:M}),f().createElement(f().Fragment,null,j)},so=function(e){var t=e.popperPlacement,n=e.btnText,r=e.title,i=e.vertical,a=e.position,u=e.className,l=e.options,d=e.popperTrigger,h=e.popperClassName,v=e.btnIcon,p=e.style,y=e.onAdd,g=e.onRemove,b=e.onShow,w=e.onHide,L=e.onPopperShow,x=e.onPopperHide,k=e.onSelectChange,S=oe(),M=(0,s.useState)(),E=o()(M,2),O=E[0],C=E[1],I=(0,s.useMemo)((function(){return to(p)}),[p]),_=ro(v),A=_.portal,N=_.dom,P=(0,s.useMemo)((function(){return{popperPlacement:t,popperTrigger:d,popperClassName:h,btnText:n,title:r,vertical:i,position:a,className:u,options:l,style:I,btnIcon:N}}),[l,t,d,h,n,r,i,a,u,I,N]);return(0,s.useEffect)((function(){var e=new c.MapTheme((0,m.omitBy)(P,(function(e){return void 0===e})));return C(e),S.addControl(e),function(){S.removeControl(e),C(void 0)}}),[]),oo(O,P),io(O,{add:y,remove:g,show:b,hide:w,popperShow:L,popperHide:x,selectChange:k}),f().createElement(f().Fragment,null,A)},fo=function(e){var t=e.position,n=e.className,r=e.style,i=e.onLocationChange,a=e.transform,u=e.onAdd,l=e.onRemove,f=e.onShow,d=e.onHide,h=oe(),v=(0,s.useState)(),p=o()(v,2),y=p[0],g=p[1],b=(0,s.useMemo)((function(){return to(r)}),[r]),w=(0,s.useMemo)((function(){return{transform:a,position:t,className:n,style:b}}),[a,t,n,b]);return(0,s.useEffect)((function(){var e=new c.MouseLocation((0,m.omitBy)(w,(function(e){return void 0===e})));return g(e),h.addControl(e),function(){h.removeControl(e),g(void 0)}}),[]),oo(y,w),io(y,{add:u,remove:l,show:f,hide:d,locationChange:i}),null},ho=function(e){var t=e.onShow,n=e.onHide,r=e.onAdd,i=e.onRemove,a=e.position,u=e.className,l=e.style,f=e.lockWidth,d=e.maxWidth,h=e.metric,v=e.imperial,p=e.updateWhenIdle,y=oe(),g=(0,s.useState)(),b=o()(g,2),w=b[0],L=b[1],x=(0,s.useMemo)((function(){return to(l)}),[l]),k=(0,s.useMemo)((function(){return{position:a,className:u,style:x,lockWidth:f,maxWidth:d,metric:h,imperial:v,updateWhenIdle:p}}),[a,u,x,f,d,h,v,p]);return(0,s.useEffect)((function(){var e=new c.Scale((0,m.omitBy)(k,(function(e){return void 0===e})));return L(e),y.addControl(e),function(){y.removeControl(e),L(void 0)}}),[]),oo(w,k),io(w,{add:r,remove:i,show:t,hide:n}),null},vo=function(e){var t=e.onShow,n=e.onHide,r=e.onAdd,i=e.onRemove,a=e.position,u=e.name,l=e.className,d=e.style,h=e.zoomInText,v=e.zoomOutText,p=e.zoomInTitle,y=e.zoomOutTitle,g=e.showZoom,b=oe(),w=(0,s.useState)(),L=o()(w,2),x=L[0],k=L[1],S=(0,s.useMemo)((function(){return to(d)}),[d]),M=ro(h),E=M.portal,O=M.dom,C=ro(v),I=C.portal,_=C.dom,A=(0,s.useMemo)((function(){return{position:a,name:u,className:l,zoomInTitle:p,zoomOutTitle:y,showZoom:g,style:S,zoomInText:O,zoomOutText:_}}),[a,u,l,S,p,y,O,_,g]);return(0,s.useEffect)((function(){var e=new c.Zoom((0,m.omitBy)(A,(function(e){return void 0===e})));return k(e),b.addControl(e),function(){b.removeControl(e),k(void 0)}}),[]),oo(x,A),io(x,{add:r,remove:i,show:t,hide:n}),f().createElement(f().Fragment,null,E,I)},po=function(e){var t=e.img,n=e.href,r=e.position,i=e.className,a=e.style,u=e.onShow,l=e.onHide,f=e.onAdd,d=e.onRemove,h=oe(),v=(0,s.useState)(),p=o()(v,2),y=p[0],g=p[1],b=(0,s.useMemo)((function(){return to(a)}),[a]),w=(0,s.useMemo)((function(){return{img:t,href:n,position:r,className:i,style:b}}),[t,n,r,i,b]);return(0,s.useEffect)((function(){var e=new c.Logo((0,m.omitBy)(w,(function(e){return void 0===e})));return g(e),h.addControl(e),function(){h.removeControl(e),g(void 0)}}),[]),oo(y,w),io(y,{add:f,remove:d,show:u,hide:l}),null},yo=function(e){var t=e.title,n=e.className,r=e.style;return f().createElement("h1",{className:y()("".concat("larkmap-template","_decoration"),n),style:r},t)},mo=(0,s.memo)((function(e){var t=oe(),r=(0,s.useRef)({props:e});r.current.props=e;var o=(0,s.useMemo)((function(){var t=!1;f().Children.forEach(e.children,(function(e){e&&(t=!0)}));var o=n()(n()({},e),{},{element:t?document.createElement("div"):null}),i=new c.Marker(o);return i.on("click",(function(e){var t,n;null===(t=(n=r.current.props).onClick)||void 0===t||t.call(n,e)})),i}),[]);return v((function(){o.setLnglat(e.lngLat)}),[e.lngLat]),(0,s.useEffect)((function(){return t.addMarker(o),function(){o.remove()}}),[]),(0,Qr.createPortal)(e.children,o.getElement())})),go=function(e){var t=e.style,n=e.closeButton,r=e.closeButtonOffsets,i=e.closeOnClick,a=e.closeOnEsc,u=e.maxWidth,l=e.anchor,d=e.offsets,h=e.stopPropagation,v=e.autoPan,p=e.autoClose,y=e.followCursor,g=e.className,b=e.lngLat,w=e.children,L=e.title,x=e.onOpen,k=e.onClose,S=e.onShow,M=e.onHide,E=oe(),O=(0,s.useState)(),C=o()(O,2),I=C[0],_=C[1],A=(0,s.useMemo)((function(){return to(t)}),[t]),N=ro(w),P=N.portal,j=N.dom,R=ro(L),D=R.portal,T=R.dom,F=(0,s.useMemo)((function(){return{style:A,closeButton:n,closeButtonOffsets:r,closeOnClick:i,closeOnEsc:a,maxWidth:u,anchor:l,offsets:d,stopPropagation:h,autoPan:v,autoClose:p,followCursor:y,className:g,lngLat:b,html:j,title:T}}),[A,n,JSON.stringify(r),i,a,u,l,JSON.stringify(d),h,v,p,y,g,j,T,JSON.stringify(b)]);return(0,s.useEffect)((function(){var e=new c.Popup((0,m.omitBy)(F,(function(e){return void 0===e})));return _(e),E.addPopup(e),function(){E.removePopup(e),_(void 0)}}),[]),oo(I,F),io(I,{open:x,close:k,show:S,hide:M}),f().createElement(f().Fragment,null,P,D)},bo=function(e,t){if(e instanceof Function){var n=document.createElement(t);return function(){var t=e.apply(void 0,arguments),r=eo().createPortal(t,n);return eo().render(r,n),n}}var r=document.createElement(t),o=eo().createPortal(e,r);return eo().render(o,r),r},wo=function(e){var t=e.style,n=e.closeButton,r=e.closeButtonOffsets,i=e.closeOnClick,a=e.closeOnEsc,u=e.maxWidth,l=e.anchor,d=e.offsets,h=e.stopPropagation,v=e.autoPan,p=e.autoClose,y=e.className,g=e.lngLat,b=e.items,w=e.trigger,L=e.onOpen,x=e.onClose,k=e.onShow,S=e.onHide,M=oe(),E=(0,s.useState)(),O=o()(E,2),C=O[0],I=O[1],_=(0,s.useMemo)((function(){return to(t)}),[t]),A=le(),N=(0,s.useMemo)((function(){var e=[];return b.forEach((function(t){var n;if("string"==typeof t.layer){var r=A.find((function(e){return e.id===t.layer}));if(!r)return;n=r}else n=t.layer;var o=[];n.isComposite?o.push.apply(o,Z()(n.getInteractionSubLayers())):o.push(n),o.forEach((function(n){var r,o={layer:n};t.title&&(o.title=bo(t.title,"div")),t.customContent&&(o.customContent=bo(t.customContent,"div")),null!==(r=t.fields)&&void 0!==r&&r.length&&(o.fields=t.fields.map((function(e){if("string"==typeof e)return e;var t={field:e.field,getValue:e.getValue};return e.formatField&&(t.formatField=bo(e.formatField,"span")),e.formatValue&&(t.formatValue=bo(e.formatValue,"span")),t}))),e.push(o)}))})),e}),[A,b]),P=(0,s.useMemo)((function(){return{style:_,closeButton:n,closeButtonOffsets:r,closeOnClick:i,closeOnEsc:a,maxWidth:u,anchor:l,offsets:d,stopPropagation:h,autoPan:v,autoClose:p,followCursor:"hover"===w,className:y,lngLat:g,items:N,trigger:w}}),[_,n,JSON.stringify(r),i,a,u,l,JSON.stringify(d),h,v,p,y,w,JSON.stringify(g),N]);return(0,s.useEffect)((function(){var e=new c.LayerPopup((0,m.omitBy)(P,(function(e){return void 0===e})));return I(e),M.addPopup(e),function(){M.removePopup(e),I(void 0)}}),[]),oo(C,P),io(C,{open:L,close:x,show:k,hide:S}),f().createElement(f().Fragment,null)},Lo="larkmap-context-menu",xo=(0,s.memo)((function(e){var t=e.text,n=void 0===t?"":t,r=e.onClick;return(0,m.isEmpty)(n)?null:f().createElement("li",{className:y()("".concat(Lo,"__menu-item"),null==e?void 0:e.className),style:null==e?void 0:e.style,onClick:r},n)})),ko=function(e){var t=oe(),n=(0,s.useState)({visible:!1,position:void 0}),r=o()(n,2),i=r[0],a=r[1],u=(0,s.useMemo)((function(){return f().createElement("div",{className:y()("".concat(Lo),null==e?void 0:e.className),style:null==e?void 0:e.style},null==e?void 0:e.children)}),[e]),l=function(e){var t=e.lnglat,n=t.lng,r=t.lat;a({visible:!0,position:{lng:n,lat:r}})},c=function(){var e=setTimeout((function(){e&&(clearTimeout(e),a({visible:!1,position:void 0}))}),0)};return(0,s.useEffect)((function(){return t&&(t.on("contextmenu",l),t.on("click",c)),function(){t.off("contextmenu",l),t.off("click",c)}}),[t]),i.visible?f().createElement(mo,{lngLat:i.position,anchor:"top-left"},u):null};ko.Item=xo;var So=u(9164),Mo=u.n(So),Eo=u(901),Oo=u.n(Eo);var Co=function(e,t){var n,r=q(e),o=null!==(n=null==t?void 0:t.wait)&&void 0!==n?n:1e3,i=(0,s.useMemo)((function(){return Oo()((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.current.apply(r,me([],pe(e),!1))}),o,t)}),[]);return X((function(){i.cancel()})),{run:i,cancel:i.cancel,flush:i.flush}},Io=u(3906),_o=u.n(Io);function Ao(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object.entries(e).sort((function(e,t){var n=o()(e,1)[0],r=o()(t,1)[0];return n.localeCompare(r)})).map((function(e){var n=o()(e,2),r=n[0],i=n[1],a=String(i);return t&&(a=window.encodeURI(String(i))),"".concat(r,"=").concat(a)})).join("&")}var No="larkmap-location-search";function Po(){return Po=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Po.apply(null,arguments)}function jo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Ro(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Do(e,t){if(e){if("string"==typeof e)return jo(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jo(e,t):void 0}}function To(e){return function(e){if(Array.isArray(e))return jo(e)}(e)||Ro(e)||Do(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fo(e){return Fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fo(e)}function zo(e){var t=function(e,t){if("object"!=Fo(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Fo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Fo(t)?t:t+""}function Ho(e,t,n){return(t=zo(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wo(Object(n),!0).forEach((function(t){Ho(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Uo(e){if(Array.isArray(e))return e}function Zo(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Vo(e,t){return Uo(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(e,t)||Do(e,t)||Zo()}function Ko(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Go(e){var t=s.useRef();t.current=e;var n=s.useCallback((function(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))}),[]);return n}function qo(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}var Yo=qo()?s.useLayoutEffect:s.useEffect,Xo=function(e,t){var n=s.useRef(!0);Yo((function(){return e(n.current)}),t),Yo((function(){return n.current=!1,function(){n.current=!0}}),[])},$o=function(e,t){Xo((function(t){if(!t)return e()}),t)},Jo=Xo;function Qo(e){var t=s.useRef(!1),n=Vo(s.useState(e),2),r=n[0],o=n[1];return s.useEffect((function(){return t.current=!1,function(){t.current=!0}}),[]),[r,function(e,n){n&&t.current||o(e)}]}function ei(e){return void 0!==e}function ti(e,t){var n=t||{},r=n.defaultValue,o=n.value,i=n.onChange,a=n.postState,u=Vo(Qo((function(){return ei(o)?o:ei(r)?"function"==typeof r?r():r:"function"==typeof e?e():e})),2),l=u[0],c=u[1],s=void 0!==o?o:l,f=a?a(s):s,d=Go(i),h=Vo(Qo([s]),2),v=h[0],p=h[1];return $o((function(){var e=v[0];l!==e&&d(l,e)}),[v]),$o((function(){ei(o)||c(o)}),[o]),[f,Go((function(e,t){c(e,t),p([s],t)}))]}var ni={},ri=[];function oi(e,t){}function ii(e,t){}function ai(e,t,n){t||ni[n]||(e(!1,n),ni[n]=!0)}function ui(e,t){ai(oi,e,t)}ui.preMessage=function(e){ri.push(e)},ui.resetWarned=function(){ni={}},ui.noteOnce=function(e,t){ai(ii,e,t)};var li=ui,ci=function(){if("undefined"==typeof navigator||"undefined"==typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null==e?void 0:e.substr(0,4))},si=u(8851);function fi(e,t,n){var r=s.useRef({});return"value"in r.current&&!n(r.current.condition,t)||(r.current.value=e(),r.current.condition=t),r.current.value}var di=function(e,t){"function"==typeof e?e(t):"object"===Fo(e)&&e&&"current"in e&&(e.current=t)},hi=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(Boolean);return r.length<=1?r[0]:function(e){t.forEach((function(t){di(t,e)}))}},vi=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return fi((function(){return hi.apply(void 0,t)}),t,(function(e,t){return e.length!==t.length||e.every((function(e,n){return e!==t[n]}))}))},pi=function(e){var t,n,r=(0,si.isMemo)(e)?e.type.type:e.type;return!!("function"!=typeof r||null!==(t=r.prototype)&&void 0!==t&&t.render||r.$$typeof===si.ForwardRef)&&!!("function"!=typeof e||null!==(n=e.prototype)&&void 0!==n&&n.render||e.$$typeof===si.ForwardRef)};function yi(e){return(0,s.isValidElement)(e)&&!(0,si.isFragment)(e)}Number(s.version.split(".")[0]);var mi=function(e){var t=e.className,n=e.customizeIcon,r=e.customizeIconProps,o=e.children,i=e.onMouseDown,a=e.onClick,u="function"==typeof n?n(r):n;return s.createElement("span",{className:t,onMouseDown:function(e){e.preventDefault(),null==i||i(e)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:a,"aria-hidden":!0},void 0!==u?u:s.createElement("span",{className:y()(t.split(/\s+/).map((function(e){return"".concat(e,"-icon")})))},o))},gi=s.createContext(null);function bi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250,t=s.useRef(null),n=s.useRef(null);function r(r){(r||null===t.current)&&(t.current=r),window.clearTimeout(n.current),n.current=window.setTimeout((function(){t.current=null}),e)}return s.useEffect((function(){return function(){window.clearTimeout(n.current)}}),[]),[function(){return t.current},r]}var wi={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=wi.F1&&t<=wi.F12)return!1;switch(t){case wi.ALT:case wi.CAPS_LOCK:case wi.CONTEXT_MENU:case wi.CTRL:case wi.DOWN:case wi.END:case wi.ESC:case wi.HOME:case wi.INSERT:case wi.LEFT:case wi.MAC_FF_META:case wi.META:case wi.NUMLOCK:case wi.NUM_CENTER:case wi.PAGE_DOWN:case wi.PAGE_UP:case wi.PAUSE:case wi.PRINT_SCREEN:case wi.RIGHT:case wi.SHIFT:case wi.UP:case wi.WIN_KEY:case wi.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=wi.ZERO&&e<=wi.NINE)return!0;if(e>=wi.NUM_ZERO&&e<=wi.NUM_MULTIPLY)return!0;if(e>=wi.A&&e<=wi.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case wi.SPACE:case wi.QUESTION_MARK:case wi.NUM_PLUS:case wi.NUM_MINUS:case wi.NUM_PERIOD:case wi.NUM_DIVISION:case wi.SEMICOLON:case wi.DASH:case wi.EQUALS:case wi.COMMA:case wi.PERIOD:case wi.SLASH:case wi.APOSTROPHE:case wi.SINGLE_QUOTE:case wi.OPEN_SQUARE_BRACKET:case wi.BACKSLASH:case wi.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},Li=wi;var xi="".concat("accept acceptCharset accessKey action allowFullScreen allowTransparency\n    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge\n    charSet checked classID className colSpan cols content contentEditable contextMenu\n    controls coords crossOrigin data dateTime default defer dir disabled download draggable\n    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder\n    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity\n    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media\n    mediaGroup method min minLength multiple muted name noValidate nonce open\n    optimum pattern placeholder poster preload radioGroup readOnly rel required\n    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected\n    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style\n    summary tabIndex target title type useMap value width wmode wrap"," ").concat("onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown\n    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick\n    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown\n    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel\n    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough\n    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata\n    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError").split(/[\s\n]+/),ki="aria-",Si="data-";function Mi(e,t){return 0===e.indexOf(t)}function Ei(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=!1===n?{aria:!0,data:!0,attr:!0}:!0===n?{aria:!0}:Bo({},n);var r={};return Object.keys(e).forEach((function(n){(t.aria&&("role"===n||Mi(n,ki))||t.data&&Mi(n,Si)||t.attr&&xi.includes(n))&&(r[n]=e[n])})),r}function Oi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];return f().Children.forEach(e,(function(e){(null!=e||t.keepEmpty)&&(Array.isArray(e)?n=n.concat(Oi(e)):(0,si.isFragment)(e)&&e.props?n=n.concat(Oi(e.props.children,t)):n.push(e))})),n}function Ci(e){return e instanceof HTMLElement||e instanceof SVGElement}function Ii(e){var t,n=function(e){return e&&"object"===Fo(e)&&Ci(e.nativeElement)?e.nativeElement:Ci(e)?e:null}(e);return n||(e instanceof f().Component?null===(t=eo().findDOMNode)||void 0===t?void 0:t.call(eo(),e):null)}var _i=s.createContext(null);var Ai=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var o=r[n];e.call(t,o[1],o[0])}},t}()}(),Ni="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,Pi=void 0!==u.g&&u.g.Math===Math?u.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),ji="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(Pi):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var Ri=["top","right","bottom","left","width","height","size","weight"],Di="undefined"!=typeof MutationObserver,Ti=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,o=0;function i(){n&&(n=!1,e()),r&&u()}function a(){ji(i)}function u(){var e=Date.now();if(n){if(e-o<2)return;r=!0}else n=!0,r=!1,setTimeout(a,t);o=e}return u}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){Ni&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Di?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){Ni&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;Ri.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),Fi=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},zi=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||Pi},Hi=Ki(0,0,0,0);function Wi(e){return parseFloat(e)||0}function Bi(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+Wi(e["border-"+n+"-width"])}),0)}function Ui(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return Hi;var r=zi(e).getComputedStyle(e),o=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var o=r[n],i=e["padding-"+o];t[o]=Wi(i)}return t}(r),i=o.left+o.right,a=o.top+o.bottom,u=Wi(r.width),l=Wi(r.height);if("border-box"===r.boxSizing&&(Math.round(u+i)!==t&&(u-=Bi(r,"left","right")+i),Math.round(l+a)!==n&&(l-=Bi(r,"top","bottom")+a)),!function(e){return e===zi(e).document.documentElement}(e)){var c=Math.round(u+i)-t,s=Math.round(l+a)-n;1!==Math.abs(c)&&(u-=c),1!==Math.abs(s)&&(l-=s)}return Ki(o.left,o.top,u,l)}var Zi="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof zi(e).SVGGraphicsElement}:function(e){return e instanceof zi(e).SVGElement&&"function"==typeof e.getBBox};function Vi(e){return Ni?Zi(e)?function(e){var t=e.getBBox();return Ki(0,0,t.width,t.height)}(e):Ui(e):Hi}function Ki(e,t,n,r){return{x:e,y:t,width:n,height:r}}var Gi=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Ki(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=Vi(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),qi=function(e,t){var n,r,o,i,a,u,l,c=(r=(n=t).x,o=n.y,i=n.width,a=n.height,u="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(u.prototype),Fi(l,{x:r,y:o,width:i,height:a,top:o,right:r+i,bottom:a+o,left:r}),l);Fi(this,{target:e,contentRect:c})},Yi=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new Ai,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof zi(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new Gi(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof zi(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new qi(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),Xi="undefined"!=typeof WeakMap?new WeakMap:new Ai,$i=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Ti.getInstance(),r=new Yi(t,n,this);Xi.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){$i.prototype[e]=function(){var t;return(t=Xi.get(this))[e].apply(t,arguments)}}));var Ji=void 0!==Pi.ResizeObserver?Pi.ResizeObserver:$i,Qi=new Map;var ea=new Ji((function(e){e.forEach((function(e){var t,n=e.target;null===(t=Qi.get(n))||void 0===t||t.forEach((function(e){return e(n)}))}))}));function ta(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function na(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zo(r.key),r)}}function ra(e,t,n){return t&&na(e.prototype,t),n&&na(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function oa(e,t){return oa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},oa(e,t)}function ia(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oa(e,t)}function aa(e){return aa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},aa(e)}function ua(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ua=function(){return!!e})()}function la(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ca(e,t){if(t&&("object"==Fo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return la(e)}function sa(e){var t=ua();return function(){var n,r=aa(e);if(t){var o=aa(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ca(this,n)}}var fa=function(e){ia(n,e);var t=sa(n);function n(){return ta(this,n),t.apply(this,arguments)}return ra(n,[{key:"render",value:function(){return this.props.children}}]),n}(s.Component);function da(e,t){var n=e.children,r=e.disabled,o=s.useRef(null),i=s.useRef(null),a=s.useContext(_i),u="function"==typeof n,l=u?n(o):n,c=s.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),f=!u&&s.isValidElement(l)&&pi(l),d=f?l.ref:null,h=vi(d,o),v=function(){var e;return Ii(o.current)||(o.current&&"object"===Fo(o.current)?Ii(null===(e=o.current)||void 0===e?void 0:e.nativeElement):null)||Ii(i.current)};s.useImperativeHandle(t,(function(){return v()}));var p=s.useRef(e);p.current=e;var y=s.useCallback((function(e){var t=p.current,n=t.onResize,r=t.data,o=e.getBoundingClientRect(),i=o.width,u=o.height,l=e.offsetWidth,s=e.offsetHeight,f=Math.floor(i),d=Math.floor(u);if(c.current.width!==f||c.current.height!==d||c.current.offsetWidth!==l||c.current.offsetHeight!==s){var h={width:f,height:d,offsetWidth:l,offsetHeight:s};c.current=h;var v=l===Math.round(i)?i:l,y=s===Math.round(u)?u:s,m=Bo(Bo({},h),{},{offsetWidth:v,offsetHeight:y});null==a||a(m,e,r),n&&Promise.resolve().then((function(){n(m,e)}))}}),[]);return s.useEffect((function(){var e,t,n=v();return n&&!r&&(e=n,t=y,Qi.has(e)||(Qi.set(e,new Set),ea.observe(e)),Qi.get(e).add(t)),function(){return function(e,t){Qi.has(e)&&(Qi.get(e).delete(t),Qi.get(e).size||(ea.unobserve(e),Qi.delete(e)))}(n,y)}}),[o.current,r]),s.createElement(fa,{ref:i},f?s.cloneElement(l,{ref:h}):l)}var ha=s.forwardRef(da);function va(e,t){var n=e.children;return("function"==typeof n?[n]:Oi(n)).map((function(n,r){var o=(null==n?void 0:n.key)||"".concat("rc-observer-key","-").concat(r);return s.createElement(ha,Po({},e,{key:o,ref:0===r?t:void 0}),n)}))}var pa=s.forwardRef(va);pa.Collection=function(e){var t=e.children,n=e.onBatchResize,r=s.useRef(0),o=s.useRef([]),i=s.useContext(_i),a=s.useCallback((function(e,t,a){r.current+=1;var u=r.current;o.current.push({size:e,element:t,data:a}),Promise.resolve().then((function(){u===r.current&&(null==n||n(o.current),o.current=[])})),null==i||i(e,t,a)}),[n,i]);return s.createElement(_i.Provider,{value:a},t)};var ya=pa,ma=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],ga=void 0;function ba(e,t){var n=e.prefixCls,r=e.invalidate,o=e.item,i=e.renderItem,a=e.responsive,u=e.responsiveDisabled,l=e.registerSize,c=e.itemKey,f=e.className,d=e.style,h=e.children,v=e.display,p=e.order,m=e.component,g=void 0===m?"div":m,b=Ko(e,ma),w=a&&!v;function L(e){l(c,e)}s.useEffect((function(){return function(){L(null)}}),[]);var x,k=i&&o!==ga?i(o):h;r||(x={opacity:w?0:1,height:w?0:ga,overflowY:w?"hidden":ga,order:a?p:ga,pointerEvents:w?"none":ga,position:w?"absolute":ga});var S={};w&&(S["aria-hidden"]=!0);var M=s.createElement(g,Po({className:y()(!r&&n,f),style:Bo(Bo({},x),d)},S,b,{ref:t}),k);return a&&(M=s.createElement(ya,{onResize:function(e){L(e.offsetWidth)},disabled:u},M)),M}var wa=s.forwardRef(ba);wa.displayName="Item";var La=wa,xa=function(e){return+setTimeout(e,16)},ka=function(e){return clearTimeout(e)};"undefined"!=typeof window&&"requestAnimationFrame"in window&&(xa=function(e){return window.requestAnimationFrame(e)},ka=function(e){return window.cancelAnimationFrame(e)});var Sa=0,Ma=new Map;function Ea(e){Ma.delete(e)}var Oa=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=Sa+=1;function r(t){if(0===t)Ea(n),e();else{var o=xa((function(){r(t-1)}));Ma.set(n,o)}}return r(t),n};Oa.cancel=function(e){var t=Ma.get(e);return Ea(e),ka(t)};var Ca=Oa;function Ia(){var e=s.useRef(null);return function(t){e.current||(e.current=[],function(e){if("undefined"==typeof MessageChannel)Ca(e);else{var t=new MessageChannel;t.port1.onmessage=function(){return e()},t.port2.postMessage(void 0)}}((function(){(0,Qr.unstable_batchedUpdates)((function(){e.current.forEach((function(e){e()})),e.current=null}))}))),e.current.push(t)}}function _a(e,t){var n=Vo(s.useState(t),2),r=n[0],o=n[1];return[r,Go((function(t){e((function(){o(t)}))}))]}var Aa=f().createContext(null),Na=["component"],Pa=["className"],ja=["className"],Ra=function(e,t){var n=s.useContext(Aa);if(!n){var r=e.component,o=void 0===r?"div":r,i=Ko(e,Na);return s.createElement(o,Po({},i,{ref:t}))}var a=n.className,u=Ko(n,Pa),l=e.className,c=Ko(e,ja);return s.createElement(Aa.Provider,{value:null},s.createElement(La,Po({ref:t,className:y()(a,l)},u,c)))},Da=s.forwardRef(Ra);Da.displayName="RawItem";var Ta=Da,Fa=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],za="responsive",Ha="invalidate";function Wa(e){return"+ ".concat(e.length," ...")}function Ba(e,t){var n=e.prefixCls,r=void 0===n?"rc-overflow":n,o=e.data,i=void 0===o?[]:o,a=e.renderItem,u=e.renderRawItem,l=e.itemKey,c=e.itemWidth,f=void 0===c?10:c,d=e.ssr,h=e.style,v=e.className,p=e.maxCount,m=e.renderRest,g=e.renderRawRest,b=e.suffix,w=e.component,L=void 0===w?"div":w,x=e.itemComponent,k=e.onVisibleChange,S=Ko(e,Fa),M="full"===d,E=Ia(),O=Vo(_a(E,null),2),C=O[0],I=O[1],_=C||0,A=Vo(_a(E,new Map),2),N=A[0],P=A[1],j=Vo(_a(E,0),2),R=j[0],D=j[1],T=Vo(_a(E,0),2),F=T[0],z=T[1],H=Vo(_a(E,0),2),W=H[0],B=H[1],U=Vo((0,s.useState)(null),2),Z=U[0],V=U[1],K=Vo((0,s.useState)(null),2),G=K[0],q=K[1],Y=s.useMemo((function(){return null===G&&M?Number.MAX_SAFE_INTEGER:G||0}),[G,C]),X=Vo((0,s.useState)(!1),2),$=X[0],J=X[1],Q="".concat(r,"-item"),ee=Math.max(R,F),te=p===za,ne=i.length&&te,re=p===Ha,oe=ne||"number"==typeof p&&i.length>p,ie=(0,s.useMemo)((function(){var e=i;return ne?e=null===C&&M?i:i.slice(0,Math.min(i.length,_/f)):"number"==typeof p&&(e=i.slice(0,p)),e}),[i,f,C,p,ne]),ae=(0,s.useMemo)((function(){return ne?i.slice(Y+1):i.slice(ie.length)}),[i,ie,ne,Y]),ue=(0,s.useCallback)((function(e,t){var n;return"function"==typeof l?l(e):null!==(n=l&&(null==e?void 0:e[l]))&&void 0!==n?n:t}),[l]),le=(0,s.useCallback)(a||function(e){return e},[a]);function ce(e,t,n){(G!==e||void 0!==t&&t!==Z)&&(q(e),n||(J(e<i.length-1),null==k||k(e)),void 0!==t&&V(t))}function se(e,t){P((function(n){var r=new Map(n);return null===t?r.delete(e):r.set(e,t),r}))}function fe(e){return N.get(ue(ie[e],e))}Jo((function(){if(_&&"number"==typeof ee&&ie){var e=W,t=ie.length,n=t-1;if(!t)return void ce(0,null);for(var r=0;r<t;r+=1){var o=fe(r);if(M&&(o=o||0),void 0===o){ce(r-1,void 0,!0);break}if(e+=o,0===n&&e<=_||r===n-1&&e+fe(n)<=_){ce(n,null);break}if(e+ee>_){ce(r-1,e-o-W+F);break}}b&&fe(0)+W>_&&V(null)}}),[_,N,F,W,ue,ie]);var de=$&&!!ae.length,he={};null!==Z&&ne&&(he={position:"absolute",left:Z,top:0});var ve,pe={prefixCls:Q,responsive:ne,component:x,invalidate:re},ye=u?function(e,t){var n=ue(e,t);return s.createElement(Aa.Provider,{key:n,value:Bo(Bo({},pe),{},{order:t,item:e,itemKey:n,registerSize:se,display:t<=Y})},u(e,t))}:function(e,t){var n=ue(e,t);return s.createElement(La,Po({},pe,{order:t,key:n,item:e,renderItem:le,itemKey:n,registerSize:se,display:t<=Y}))},me={order:de?Y:Number.MAX_SAFE_INTEGER,className:"".concat(Q,"-rest"),registerSize:function(e,t){z(t),D(F)},display:de};if(g)g&&(ve=s.createElement(Aa.Provider,{value:Bo(Bo({},pe),me)},g(ae)));else{var ge=m||Wa;ve=s.createElement(La,Po({},pe,me),"function"==typeof ge?ge(ae):ge)}var be=s.createElement(L,Po({className:y()(!re&&r,v),style:h,ref:t},S),ie.map(ye),oe?ve:null,b&&s.createElement(La,Po({},pe,{responsive:te,responsiveDisabled:!ne,order:Y,className:"".concat(Q,"-suffix"),registerSize:function(e,t){B(t)},display:!0,style:he}),b));return te&&(be=s.createElement(ya,{onResize:function(e,t){I(t.clientWidth)},disabled:!ne},be)),be}var Ua=s.forwardRef(Ba);Ua.displayName="Overflow",Ua.Item=Ta,Ua.RESPONSIVE=za,Ua.INVALIDATE=Ha;var Za=Ua,Va=function(e,t){var n,r=e.prefixCls,o=e.id,i=e.inputElement,a=e.disabled,u=e.tabIndex,l=e.autoFocus,c=e.autoComplete,f=e.editable,d=e.activeDescendantId,h=e.value,v=e.maxLength,p=e.onKeyDown,m=e.onMouseDown,g=e.onChange,b=e.onPaste,w=e.onCompositionStart,L=e.onCompositionEnd,x=e.open,k=e.attrs,S=i||s.createElement("input",null),M=S,E=M.ref,O=M.props,C=O.onKeyDown,I=O.onChange,_=O.onMouseDown,A=O.onCompositionStart,N=O.onCompositionEnd,P=O.style;return S.props,S=s.cloneElement(S,Bo(Bo(Bo({type:"search"},O),{},{id:o,ref:hi(t,E),disabled:a,tabIndex:u,autoComplete:c||"off",autoFocus:l,className:y()("".concat(r,"-selection-search-input"),null===(n=S)||void 0===n||null===(n=n.props)||void 0===n?void 0:n.className),role:"combobox","aria-expanded":x||!1,"aria-haspopup":"listbox","aria-owns":"".concat(o,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(o,"_list"),"aria-activedescendant":x?d:void 0},k),{},{value:f?h:"",maxLength:v,readOnly:!f,unselectable:f?null:"on",style:Bo(Bo({},P),{},{opacity:f?null:0}),onKeyDown:function(e){p(e),C&&C(e)},onMouseDown:function(e){m(e),_&&_(e)},onChange:function(e){g(e),I&&I(e)},onCompositionStart:function(e){w(e),A&&A(e)},onCompositionEnd:function(e){L(e),N&&N(e)},onPaste:b}))};var Ka=s.forwardRef(Va);function Ga(e){return Array.isArray(e)?e:void 0!==e?[e]:[]}var qa="undefined"!=typeof window&&window.document&&window.document.documentElement;function Ya(e){return["string","number"].includes(Fo(e))}function Xa(e){var t=void 0;return e&&(Ya(e.title)?t=e.title.toString():Ya(e.label)&&(t=e.label.toString())),t}function $a(e){var t;return null!==(t=e.key)&&void 0!==t?t:e.value}var Ja=function(e){e.preventDefault(),e.stopPropagation()},Qa=function(e){var t,n,r=e.id,o=e.prefixCls,i=e.values,a=e.open,u=e.searchValue,l=e.autoClearSearchValue,c=e.inputRef,f=e.placeholder,d=e.disabled,h=e.mode,v=e.showSearch,p=e.autoFocus,m=e.autoComplete,g=e.activeDescendantId,b=e.tabIndex,w=e.removeIcon,L=e.maxTagCount,x=e.maxTagTextLength,k=e.maxTagPlaceholder,S=void 0===k?function(e){return"+ ".concat(e.length," ...")}:k,M=e.tagRender,E=e.onToggleOpen,O=e.onRemove,C=e.onInputChange,I=e.onInputPaste,_=e.onInputKeyDown,A=e.onInputMouseDown,N=e.onInputCompositionStart,P=e.onInputCompositionEnd,j=s.useRef(null),R=Vo((0,s.useState)(0),2),D=R[0],T=R[1],F=Vo((0,s.useState)(!1),2),z=F[0],H=F[1],W="".concat(o,"-selection"),B=a||"multiple"===h&&!1===l||"tags"===h?u:"",U="tags"===h||"multiple"===h&&!1===l||v&&(a||z);t=function(){T(j.current.scrollWidth)},n=[B],qa?s.useLayoutEffect(t,n):s.useEffect(t,n);var Z=function(e,t,n,r,o){return s.createElement("span",{title:Xa(e),className:y()("".concat(W,"-item"),Ho({},"".concat(W,"-item-disabled"),n))},s.createElement("span",{className:"".concat(W,"-item-content")},t),r&&s.createElement(mi,{className:"".concat(W,"-item-remove"),onMouseDown:Ja,onClick:o,customizeIcon:w},""))},V=function(e,t,n,r,o,i){return s.createElement("span",{onMouseDown:function(e){Ja(e),E(!a)}},M({label:t,value:e,disabled:n,closable:r,onClose:o,isMaxTag:!!i}))},K=s.createElement("div",{className:"".concat(W,"-search"),style:{width:D},onFocus:function(){H(!0)},onBlur:function(){H(!1)}},s.createElement(Ka,{ref:c,open:a,prefixCls:o,id:r,inputElement:null,disabled:d,autoFocus:p,autoComplete:m,editable:U,activeDescendantId:g,value:B,onKeyDown:_,onMouseDown:A,onChange:C,onPaste:I,onCompositionStart:N,onCompositionEnd:P,tabIndex:b,attrs:Ei(e,!0)}),s.createElement("span",{ref:j,className:"".concat(W,"-search-mirror"),"aria-hidden":!0},B,"")),G=s.createElement(Za,{prefixCls:"".concat(W,"-overflow"),data:i,renderItem:function(e){var t=e.disabled,n=e.label,r=e.value,o=!d&&!t,i=n;if("number"==typeof x&&("string"==typeof n||"number"==typeof n)){var a=String(i);a.length>x&&(i="".concat(a.slice(0,x),"..."))}var u=function(t){t&&t.stopPropagation(),O(e)};return"function"==typeof M?V(r,i,t,o,u):Z(e,i,t,o,u)},renderRest:function(e){var t="function"==typeof S?S(e):S;return"function"==typeof M?V(void 0,t,!1,!1,void 0,!0):Z({title:t},t,!1)},suffix:K,itemKey:$a,maxCount:L});return s.createElement(s.Fragment,null,G,!i.length&&!B&&s.createElement("span",{className:"".concat(W,"-placeholder")},f))},eu=function(e){var t=e.inputElement,n=e.prefixCls,r=e.id,o=e.inputRef,i=e.disabled,a=e.autoFocus,u=e.autoComplete,l=e.activeDescendantId,c=e.mode,f=e.open,d=e.values,h=e.placeholder,v=e.tabIndex,p=e.showSearch,y=e.searchValue,m=e.activeValue,g=e.maxLength,b=e.onInputKeyDown,w=e.onInputMouseDown,L=e.onInputChange,x=e.onInputPaste,k=e.onInputCompositionStart,S=e.onInputCompositionEnd,M=e.title,E=Vo(s.useState(!1),2),O=E[0],C=E[1],I="combobox"===c,_=I||p,A=d[0],N=y||"";I&&m&&!O&&(N=m),s.useEffect((function(){I&&C(!1)}),[I,m]);var P=!("combobox"!==c&&!f&&!p)&&!!N,j=void 0===M?Xa(A):M,R=s.useMemo((function(){return A?null:s.createElement("span",{className:"".concat(n,"-selection-placeholder"),style:P?{visibility:"hidden"}:void 0},h)}),[A,P,h,n]);return s.createElement(s.Fragment,null,s.createElement("span",{className:"".concat(n,"-selection-search")},s.createElement(Ka,{ref:o,prefixCls:n,id:r,open:f,inputElement:t,disabled:i,autoFocus:a,autoComplete:u,editable:_,activeDescendantId:l,value:N,onKeyDown:b,onMouseDown:w,onChange:function(e){C(!0),L(e)},onPaste:x,onCompositionStart:k,onCompositionEnd:S,tabIndex:v,attrs:Ei(e,!0),maxLength:I?g:void 0})),!I&&A?s.createElement("span",{className:"".concat(n,"-selection-item"),title:j,style:P?{visibility:"hidden"}:void 0},A.label):null,R)},tu=function(e,t){var n=(0,s.useRef)(null),r=(0,s.useRef)(!1),o=e.prefixCls,i=e.open,a=e.mode,u=e.showSearch,l=e.tokenWithEnter,c=e.disabled,f=e.autoClearSearchValue,d=e.onSearch,h=e.onSearchSubmit,v=e.onToggleOpen,p=e.onInputKeyDown,y=e.domRef;s.useImperativeHandle(t,(function(){return{focus:function(e){n.current.focus(e)},blur:function(){n.current.blur()}}}));var m=Vo(bi(0),2),g=m[0],b=m[1],w=(0,s.useRef)(null),L=function(e){!1!==d(e,!0,r.current)&&v(!0)},x={inputRef:n,onInputKeyDown:function(e){var t,n=e.which;n!==Li.UP&&n!==Li.DOWN||e.preventDefault(),p&&p(e),n!==Li.ENTER||"tags"!==a||r.current||i||null==h||h(e.target.value),t=n,[Li.ESC,Li.SHIFT,Li.BACKSPACE,Li.TAB,Li.WIN_KEY,Li.ALT,Li.META,Li.WIN_KEY_RIGHT,Li.CTRL,Li.SEMICOLON,Li.EQUALS,Li.CAPS_LOCK,Li.CONTEXT_MENU,Li.F1,Li.F2,Li.F3,Li.F4,Li.F5,Li.F6,Li.F7,Li.F8,Li.F9,Li.F10,Li.F11,Li.F12].includes(t)||v(!0)},onInputMouseDown:function(){b(!0)},onInputChange:function(e){var t=e.target.value;if(l&&w.current&&/[\r\n]/.test(w.current)){var n=w.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");t=t.replace(n,w.current)}w.current=null,L(t)},onInputPaste:function(e){var t=e.clipboardData,n=null==t?void 0:t.getData("text");w.current=n||""},onInputCompositionStart:function(){r.current=!0},onInputCompositionEnd:function(e){r.current=!1,"combobox"!==a&&L(e.target.value)}},k="multiple"===a||"tags"===a?s.createElement(Qa,Po({},e,x)):s.createElement(eu,Po({},e,x));return s.createElement("div",{ref:y,className:"".concat(o,"-selector"),onClick:function(e){e.target!==n.current&&(void 0!==document.body.style.msTouchAction?setTimeout((function(){n.current.focus()})):n.current.focus())},onMouseDown:function(e){var t=g();e.target===n.current||t||"combobox"===a&&c||e.preventDefault(),("combobox"===a||u&&t)&&i||(i&&!1!==f&&d("",!0,!1),v())}},k)};var nu=s.forwardRef(tu),ru=s.createContext(null),ou=[];var iu="data-rc-order",au="data-rc-priority",uu="rc-util-key",lu=new Map;function cu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mark;return t?t.startsWith("data-")?t:"data-".concat(t):uu}function su(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function fu(e){return"queue"===e?"prependQueue":e?"prepend":"append"}function du(e){return Array.from((lu.get(e)||e).children).filter((function(e){return"STYLE"===e.tagName}))}function hu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!qo())return null;var n=t.csp,r=t.prepend,o=t.priority,i=void 0===o?0:o,a=fu(r),u="prependQueue"===a,l=document.createElement("style");l.setAttribute(iu,a),u&&i&&l.setAttribute(au,"".concat(i)),null!=n&&n.nonce&&(l.nonce=null==n?void 0:n.nonce),l.innerHTML=e;var c=su(t),s=c.firstChild;if(r){if(u){var f=(t.styles||du(c)).filter((function(e){if(!["prepend","prependQueue"].includes(e.getAttribute(iu)))return!1;var t=Number(e.getAttribute(au)||0);return i>=t}));if(f.length)return c.insertBefore(l,f[f.length-1].nextSibling),l}c.insertBefore(l,s)}else c.appendChild(l);return l}function vu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=su(t);return(t.styles||du(n)).find((function(n){return n.getAttribute(cu(t))===e}))}function pu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=vu(e,t);if(n){var r=su(t);r.removeChild(n)}}function yu(e,t){var n=lu.get(e);if(!n||!function(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1}(document,n)){var r=hu("",t),o=r.parentNode;lu.set(e,o),e.removeChild(r)}}function mu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=su(n),o=du(r),i=Bo(Bo({},n),{},{styles:o});yu(r,i);var a=vu(t,i);if(a){var u,l,c;if(null!==(u=i.csp)&&void 0!==u&&u.nonce&&a.nonce!==(null===(l=i.csp)||void 0===l?void 0:l.nonce))a.nonce=null===(c=i.csp)||void 0===c?void 0:c.nonce;return a.innerHTML!==e&&(a.innerHTML=e),a}var s=hu(e,i);return s.setAttribute(cu(i),t),s}function gu(e){var t="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),n=document.createElement("div");n.id=t;var r,o,i=n.style;if(i.position="absolute",i.left="0",i.top="0",i.width="100px",i.height="100px",i.overflow="scroll",e){var a=getComputedStyle(e);i.scrollbarColor=a.scrollbarColor,i.scrollbarWidth=a.scrollbarWidth;var u=getComputedStyle(e,"::-webkit-scrollbar"),l=parseInt(u.width,10),c=parseInt(u.height,10);try{var s=l?"width: ".concat(u.width,";"):"",f=c?"height: ".concat(u.height,";"):"";mu("\n#".concat(t,"::-webkit-scrollbar {\n").concat(s,"\n").concat(f,"\n}"),t)}catch(e){console.error(e),r=l,o=c}}document.body.appendChild(n);var d=e&&r&&!isNaN(r)?r:n.offsetWidth-n.clientWidth,h=e&&o&&!isNaN(o)?o:n.offsetHeight-n.clientHeight;return document.body.removeChild(n),pu(t),{width:d,height:h}}var bu="rc-util-locker-".concat(Date.now()),wu=0;function Lu(e){var t=!!e,n=Vo(s.useState((function(){return wu+=1,"".concat(bu,"_").concat(wu)})),1)[0];Jo((function(){if(t){var e=(o=document.body,"undefined"!=typeof document&&o&&o instanceof Element?gu(o):{width:0,height:0}).width,r=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth;mu("\nhtml body {\n  overflow-y: hidden;\n  ".concat(r?"width: calc(100% - ".concat(e,"px);"):"","\n}"),n)}else pu(n);var o;return function(){pu(n)}}),[t,n])}var xu=!1;var ku=function(e){return!1!==e&&(qo()&&e?"string"==typeof e?document.querySelector(e):"function"==typeof e?e():e:null)},Su=s.forwardRef((function(e,t){var n=e.open,r=e.autoLock,o=e.getContainer,i=(e.debug,e.autoDestroy),a=void 0===i||i,u=e.children,l=Vo(s.useState(n),2),c=l[0],f=l[1],d=c||n;s.useEffect((function(){(a||n)&&f(n)}),[n,a]);var h=Vo(s.useState((function(){return ku(o)})),2),v=h[0],p=h[1];s.useEffect((function(){var e=ku(o);p(null!=e?e:null)}));var y=function(e,t){var n=Vo(s.useState((function(){return qo()?document.createElement("div"):null})),1)[0],r=s.useRef(!1),o=s.useContext(ru),i=Vo(s.useState(ou),2),a=i[0],u=i[1],l=o||(r.current?void 0:function(e){u((function(t){return[e].concat(To(t))}))});function c(){n.parentElement||document.body.appendChild(n),r.current=!0}function f(){var e;null===(e=n.parentElement)||void 0===e||e.removeChild(n),r.current=!1}return Jo((function(){return e?o?o(c):c():f(),f}),[e]),Jo((function(){a.length&&(a.forEach((function(e){return e()})),u(ou))}),[a]),[n,l]}(d&&!v),m=Vo(y,2),g=m[0],b=m[1],w=null!=v?v:g;Lu(r&&n&&qo()&&(w===g||w===document.body));var L=null;u&&pi(u)&&t&&(L=u.ref);var x=vi(L,t);if(!d||!qo()||void 0===v)return null;var k,S=!1===w||("boolean"==typeof k&&(xu=k),xu),M=u;return t&&(M=s.cloneElement(u,{ref:x})),s.createElement(ru.Provider,{value:b},S?M:(0,Qr.createPortal)(M,w))}));var Mu=Su;function Eu(e){var t;return null==e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}function Ou(e){return function(e){return Eu(e)instanceof ShadowRoot}(e)?Eu(e):null}var Cu=0;var Iu=Bo({},s).useId,_u=Iu?function(e){var t=Iu();return e||t}:function(e){var t=Vo(s.useState("ssr-id"),2),n=t[0],r=t[1];return s.useEffect((function(){var e=Cu;Cu+=1,r("rc_unique_".concat(e))}),[]),e||n},Au=s.createContext({});var Nu=function(e){ia(n,e);var t=sa(n);function n(){return ta(this,n),t.apply(this,arguments)}return ra(n,[{key:"render",value:function(){return this.props.children}}]),n}(s.Component),Pu=Nu;"undefined"==typeof Reflect?Object.keys:Reflect.ownKeys;var ju="none",Ru="appear",Du="enter",Tu="leave",Fu="none",zu="prepare",Hu="start",Wu="active",Bu="end",Uu="prepared";function Zu(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}var Vu,Ku,Gu,qu=(Vu=qo(),Ku="undefined"!=typeof window?window:{},Gu={animationend:Zu("Animation","AnimationEnd"),transitionend:Zu("Transition","TransitionEnd")},Vu&&("AnimationEvent"in Ku||delete Gu.animationend.animation,"TransitionEvent"in Ku||delete Gu.transitionend.transition),Gu),Yu={};if(qo()){var Xu=document.createElement("div");Yu=Xu.style}var $u={};function Ju(e){if($u[e])return $u[e];var t=qu[e];if(t)for(var n=Object.keys(t),r=n.length,o=0;o<r;o+=1){var i=n[o];if(Object.prototype.hasOwnProperty.call(t,i)&&i in Yu)return $u[e]=t[i],$u[e]}return""}var Qu=Ju("animationend"),el=Ju("transitionend"),tl=!(!Qu||!el),nl=Qu||"animationend",rl=el||"transitionend";function ol(e,t){if(!e)return null;if("object"===Fo(e)){var n=t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}));return e[n]}return"".concat(e,"-").concat(t)}var il=qo()?s.useLayoutEffect:s.useEffect,al=[zu,Hu,Wu,Bu],ul=[zu,Uu];function ll(e){return e===Wu||e===Bu}var cl=function(e,t,n){var r=Vo(Qo(Fu),2),o=r[0],i=r[1],a=function(){var e=s.useRef(null);function t(){Ca.cancel(e.current)}return s.useEffect((function(){return function(){t()}}),[]),[function n(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;t();var i=Ca((function(){o<=1?r({isCanceled:function(){return i!==e.current}}):n(r,o-1)}));e.current=i},t]}(),u=Vo(a,2),l=u[0],c=u[1];var f=t?ul:al;return il((function(){if(o!==Fu&&o!==Bu){var e=f.indexOf(o),t=f[e+1],r=n(o);false===r?i(t,!0):t&&l((function(e){function n(){e.isCanceled()||i(t,!0)}!0===r?n():Promise.resolve(r).then(n)}))}}),[e,o]),s.useEffect((function(){return function(){c()}}),[]),[function(){i(zu,!0)},o]};function sl(e,t,n,r){var o,i,a,u=r.motionEnter,l=void 0===u||u,c=r.motionAppear,f=void 0===c||c,d=r.motionLeave,h=void 0===d||d,v=r.motionDeadline,p=r.motionLeaveImmediately,y=r.onAppearPrepare,m=r.onEnterPrepare,g=r.onLeavePrepare,b=r.onAppearStart,w=r.onEnterStart,L=r.onLeaveStart,x=r.onAppearActive,k=r.onEnterActive,S=r.onLeaveActive,M=r.onAppearEnd,E=r.onEnterEnd,O=r.onLeaveEnd,C=r.onVisibleChanged,I=Vo(Qo(),2),_=I[0],A=I[1],N=(o=ju,i=Vo(s.useReducer((function(e){return e+1}),0),2)[1],a=s.useRef(o),[Go((function(){return a.current})),Go((function(e){a.current="function"==typeof e?e(a.current):e,i()}))]),P=Vo(N,2),j=P[0],R=P[1],D=Vo(Qo(null),2),T=D[0],F=D[1],z=j(),H=(0,s.useRef)(!1),W=(0,s.useRef)(null);function B(){return n()}var U=(0,s.useRef)(!1);function Z(){R(ju),F(null,!0)}var V=Go((function(e){var t=j();if(t!==ju){var n=B();if(!e||e.deadline||e.target===n){var r,o=U.current;t===Ru&&o?r=null==M?void 0:M(n,e):t===Du&&o?r=null==E?void 0:E(n,e):t===Tu&&o&&(r=null==O?void 0:O(n,e)),o&&!1!==r&&Z()}}})),K=function(e){var t=(0,s.useRef)();function n(t){t&&(t.removeEventListener(rl,e),t.removeEventListener(nl,e))}return s.useEffect((function(){return function(){n(t.current)}}),[]),[function(r){t.current&&t.current!==r&&n(t.current),r&&r!==t.current&&(r.addEventListener(rl,e),r.addEventListener(nl,e),t.current=r)},n]}(V),G=Vo(K,1)[0],q=function(e){switch(e){case Ru:return Ho(Ho(Ho({},zu,y),Hu,b),Wu,x);case Du:return Ho(Ho(Ho({},zu,m),Hu,w),Wu,k);case Tu:return Ho(Ho(Ho({},zu,g),Hu,L),Wu,S);default:return{}}},Y=s.useMemo((function(){return q(z)}),[z]),X=Vo(cl(z,!e,(function(e){if(e===zu){var t=Y[zu];return!!t&&t(B())}var n;J in Y&&F((null===(n=Y[J])||void 0===n?void 0:n.call(Y,B(),null))||null);return J===Wu&&z!==ju&&(G(B()),v>0&&(clearTimeout(W.current),W.current=setTimeout((function(){V({deadline:!0})}),v))),J===Uu&&Z(),true})),2),$=X[0],J=X[1],Q=ll(J);U.current=Q,il((function(){A(t);var n,r=H.current;H.current=!0,!r&&t&&f&&(n=Ru),r&&t&&l&&(n=Du),(r&&!t&&h||!r&&p&&!t&&h)&&(n=Tu);var o=q(n);n&&(e||o[zu])?(R(n),$()):R(ju)}),[t]),(0,s.useEffect)((function(){(z===Ru&&!f||z===Du&&!l||z===Tu&&!h)&&R(ju)}),[f,l,h]),(0,s.useEffect)((function(){return function(){H.current=!1,clearTimeout(W.current)}}),[]);var ee=s.useRef(!1);(0,s.useEffect)((function(){_&&(ee.current=!0),void 0!==_&&z===ju&&((ee.current||_)&&(null==C||C(_)),ee.current=!0)}),[_,z]);var te=T;return Y[zu]&&J===Hu&&(te=Bo({transition:"none"},te)),[z,J,te,null!=_?_:t]}var fl=function(e){var t=e;"object"===Fo(e)&&(t=e.transitionSupport);var n=s.forwardRef((function(e,n){var r=e.visible,o=void 0===r||r,i=e.removeOnLeave,a=void 0===i||i,u=e.forceRender,l=e.children,c=e.motionName,f=e.leavedClassName,d=e.eventProps,h=function(e,n){return!(!e.motionName||!t||!1===n)}(e,s.useContext(Au).motion),v=(0,s.useRef)(),p=(0,s.useRef)();var m=Vo(sl(h,o,(function(){try{return v.current instanceof HTMLElement?v.current:Ii(p.current)}catch(e){return null}}),e),4),g=m[0],b=m[1],w=m[2],L=m[3],x=s.useRef(L);L&&(x.current=!0);var k,S=s.useCallback((function(e){v.current=e,di(n,e)}),[n]),M=Bo(Bo({},d),{},{visible:o});if(l)if(g===ju)k=L?l(Bo({},M),S):!a&&x.current&&f?l(Bo(Bo({},M),{},{className:f}),S):u||!a&&!f?l(Bo(Bo({},M),{},{style:{display:"none"}}),S):null;else{var E;b===zu?E="prepare":ll(b)?E="active":b===Hu&&(E="start");var O=ol(c,"".concat(g,"-").concat(E));k=l(Bo(Bo({},M),{},{className:y()(ol(c,g),Ho(Ho({},O,O&&E),c,"string"==typeof c)),style:w}),S)}else k=null;s.isValidElement(k)&&pi(k)&&(k.ref||(k=s.cloneElement(k,{ref:S})));return s.createElement(Pu,{ref:p},k)}));return n.displayName="CSSMotion",n}(tl),dl="add",hl="keep",vl="remove",pl="removed";function yl(e){var t;return Bo(Bo({},t=e&&"object"===Fo(e)&&"key"in e?e:{key:e}),{},{key:String(t.key)})}function ml(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(yl)}function gl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,o=t.length,i=ml(e),a=ml(t);i.forEach((function(e){for(var t=!1,i=r;i<o;i+=1){var u=a[i];if(u.key===e.key){r<i&&(n=n.concat(a.slice(r,i).map((function(e){return Bo(Bo({},e),{},{status:dl})}))),r=i),n.push(Bo(Bo({},u),{},{status:hl})),r+=1,t=!0;break}}t||n.push(Bo(Bo({},e),{},{status:vl}))})),r<o&&(n=n.concat(a.slice(r).map((function(e){return Bo(Bo({},e),{},{status:dl})}))));var u={};n.forEach((function(e){var t=e.key;u[t]=(u[t]||0)+1}));var l=Object.keys(u).filter((function(e){return u[e]>1}));return l.forEach((function(e){(n=n.filter((function(t){var n=t.key,r=t.status;return n!==e||r!==vl}))).forEach((function(t){t.key===e&&(t.status=hl)}))})),n}var bl=["component","children","onVisibleChanged","onAllRemoved"],wl=["status"],Ll=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fl,n=function(e){ia(r,e);var n=sa(r);function r(){var e;ta(this,r);for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return Ho(la(e=n.call.apply(n,[this].concat(o))),"state",{keyEntities:[]}),Ho(la(e),"removeKey",(function(t){var n=e.state.keyEntities.map((function(e){return e.key!==t?e:Bo(Bo({},e),{},{status:pl})}));return e.setState({keyEntities:n}),n.filter((function(e){return e.status!==pl})).length})),e}return ra(r,[{key:"render",value:function(){var e=this,n=this.state.keyEntities,r=this.props,o=r.component,i=r.children,a=r.onVisibleChanged,u=r.onAllRemoved,l=Ko(r,bl),c=o||s.Fragment,f={};return Ll.forEach((function(e){f[e]=l[e],delete l[e]})),delete l.keys,s.createElement(c,l,n.map((function(n,r){var o=n.status,l=Ko(n,wl),c=o===dl||o===hl;return s.createElement(t,Po({},f,{key:l.key,visible:c,eventProps:l,onVisibleChanged:function(t){(null==a||a(t,{key:l.key}),t)||0===e.removeKey(l.key)&&u&&u()}}),(function(e,t){return i(Bo(Bo({},e),{},{index:r}),t)}))})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,r=t.keyEntities,o=ml(n);return{keyEntities:gl(r,o).filter((function(e){var t=r.find((function(t){var n=t.key;return e.key===n}));return!t||t.status!==pl||e.status!==vl}))}}}]),r}(s.Component);Ho(n,"defaultProps",{component:"div"})}(tl);var xl=fl;function kl(e){var t=e.prefixCls,n=e.align,r=e.arrow,o=e.arrowPos,i=r||{},a=i.className,u=i.content,l=o.x,c=void 0===l?0:l,f=o.y,d=void 0===f?0:f,h=s.useRef();if(!n||!n.points)return null;var v={position:"absolute"};if(!1!==n.autoArrow){var p=n.points[0],m=n.points[1],g=p[0],b=p[1],w=m[0],L=m[1];g!==w&&["t","b"].includes(g)?"t"===g?v.top=0:v.bottom=0:v.top=d,b!==L&&["l","r"].includes(b)?"l"===b?v.left=0:v.right=0:v.left=c}return s.createElement("div",{ref:h,className:y()("".concat(t,"-arrow"),a),style:v},u)}function Sl(e){var t=e.prefixCls,n=e.open,r=e.zIndex,o=e.mask,i=e.motion;return o?s.createElement(xl,Po({},i,{motionAppear:!0,visible:n,removeOnLeave:!0}),(function(e){var n=e.className;return s.createElement("div",{style:{zIndex:r},className:y()("".concat(t,"-mask"),n)})})):null}var Ml=s.memo((function(e){return e.children}),(function(e,t){return t.cache})),El=s.forwardRef((function(e,t){var n=e.popup,r=e.className,o=e.prefixCls,i=e.style,a=e.target,u=e.onVisibleChanged,l=e.open,c=e.keepDom,f=e.fresh,d=e.onClick,h=e.mask,v=e.arrow,p=e.arrowPos,m=e.align,g=e.motion,b=e.maskMotion,w=e.forceRender,L=e.getPopupContainer,x=e.autoDestroy,k=e.portal,S=e.zIndex,M=e.onMouseEnter,E=e.onMouseLeave,O=e.onPointerEnter,C=e.ready,I=e.offsetX,_=e.offsetY,A=e.offsetR,N=e.offsetB,P=e.onAlign,j=e.onPrepare,R=e.stretch,D=e.targetWidth,T=e.targetHeight,F="function"==typeof n?n():n,z=l||c,H=(null==L?void 0:L.length)>0,W=Vo(s.useState(!L||!H),2),B=W[0],U=W[1];if(Jo((function(){!B&&H&&a&&U(!0)}),[B,H,a]),!B)return null;var Z="auto",V={left:"-1000vw",top:"-1000vh",right:Z,bottom:Z};if(C||!l){var K,G=m.points,q=m.dynamicInset||(null===(K=m._experimental)||void 0===K?void 0:K.dynamicInset),Y=q&&"r"===G[0][1],X=q&&"b"===G[0][0];Y?(V.right=A,V.left=Z):(V.left=I,V.right=Z),X?(V.bottom=N,V.top=Z):(V.top=_,V.bottom=Z)}var $={};return R&&(R.includes("height")&&T?$.height=T:R.includes("minHeight")&&T&&($.minHeight=T),R.includes("width")&&D?$.width=D:R.includes("minWidth")&&D&&($.minWidth=D)),l||($.pointerEvents="none"),s.createElement(k,{open:w||z,getContainer:L&&function(){return L(a)},autoDestroy:x},s.createElement(Sl,{prefixCls:o,open:l,zIndex:S,mask:h,motion:b}),s.createElement(ya,{onResize:P,disabled:!l},(function(e){return s.createElement(xl,Po({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:w,leavedClassName:"".concat(o,"-hidden")},g,{onAppearPrepare:j,onEnterPrepare:j,visible:l,onVisibleChanged:function(e){var t;null==g||null===(t=g.onVisibleChanged)||void 0===t||t.call(g,e),u(e)}}),(function(n,a){var u=n.className,c=n.style,h=y()(o,u,r);return s.createElement("div",{ref:hi(e,t,a),className:h,style:Bo(Bo(Bo(Bo({"--arrow-x":"".concat(p.x||0,"px"),"--arrow-y":"".concat(p.y||0,"px")},V),$),c),{},{boxSizing:"border-box",zIndex:S},i),onMouseEnter:M,onMouseLeave:E,onPointerEnter:O,onClick:d},v&&s.createElement(kl,{prefixCls:o,arrow:v,arrowPos:p,align:m}),s.createElement(Ml,{cache:!l&&!f},F))}))})))}));var Ol=El;var Cl=s.forwardRef((function(e,t){var n=e.children,r=e.getTriggerDOMNode,o=pi(n),i=s.useCallback((function(e){di(t,r?r(e):e)}),[r]),a=vi(i,n.ref);return o?s.cloneElement(n,{ref:a}):n})),Il=s.createContext(null);function _l(e){return e?Array.isArray(e)?e:[e]:[]}function Al(e,t,n,r){return s.useMemo((function(){var o=_l(null!=n?n:t),i=_l(null!=r?r:t),a=new Set(o),u=new Set(i);return e&&(a.has("hover")&&(a.delete("hover"),a.add("click")),u.has("hover")&&(u.delete("hover"),u.add("click"))),[a,u]}),[e,t,n,r])}function Nl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;return n?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function Pl(e,t,n,r){for(var o=n.points,i=Object.keys(e),a=0;a<i.length;a+=1){var u,l=i[a];if(Nl(null===(u=e[l])||void 0===u?void 0:u.points,o,r))return"".concat(t,"-placement-").concat(l)}return""}function jl(e,t,n,r){return t||(n?{motionName:"".concat(e,"-").concat(n)}:r?{motionName:r}:null)}function Rl(e){return e.ownerDocument.defaultView}function Dl(e){for(var t=[],n=null==e?void 0:e.parentElement,r=["hidden","scroll","clip","auto"];n;){var o=Rl(n).getComputedStyle(n);[o.overflowX,o.overflowY,o.overflow].some((function(e){return r.includes(e)}))&&t.push(n),n=n.parentElement}return t}function Tl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Number.isNaN(e)?t:e}function Fl(e){return Tl(parseFloat(e),0)}function zl(e,t){var n=Bo({},e);return(t||[]).forEach((function(e){if(!(e instanceof HTMLBodyElement||e instanceof HTMLHtmlElement)){var t=Rl(e).getComputedStyle(e),r=t.overflow,o=t.overflowClipMargin,i=t.borderTopWidth,a=t.borderBottomWidth,u=t.borderLeftWidth,l=t.borderRightWidth,c=e.getBoundingClientRect(),s=e.offsetHeight,f=e.clientHeight,d=e.offsetWidth,h=e.clientWidth,v=Fl(i),p=Fl(a),y=Fl(u),m=Fl(l),g=Tl(Math.round(c.width/d*1e3)/1e3),b=Tl(Math.round(c.height/s*1e3)/1e3),w=(d-h-y-m)*g,L=(s-f-v-p)*b,x=v*b,k=p*b,S=y*g,M=m*g,E=0,O=0;if("clip"===r){var C=Fl(o);E=C*g,O=C*b}var I=c.x+S-E,_=c.y+x-O,A=I+c.width+2*E-S-M-w,N=_+c.height+2*O-x-k-L;n.left=Math.max(n.left,I),n.top=Math.max(n.top,_),n.right=Math.min(n.right,A),n.bottom=Math.min(n.bottom,N)}})),n}function Hl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n="".concat(t),r=n.match(/^(.*)\%$/);return r?e*(parseFloat(r[1])/100):parseFloat(n)}function Wl(e,t){var n=Vo(t||[],2),r=n[0],o=n[1];return[Hl(e.width,r),Hl(e.height,o)]}function Bl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return[e[0],e[1]]}function Ul(e,t){var n,r=t[0],o=t[1];return n="t"===r?e.y:"b"===r?e.y+e.height:e.y+e.height/2,{x:"l"===o?e.x:"r"===o?e.x+e.width:e.x+e.width/2,y:n}}function Zl(e,t){var n={t:"b",b:"t",l:"r",r:"l"};return e.map((function(e,r){return r===t?n[e]||"c":e})).join("")}function Vl(e,t,n,r,o,i,a){var u=Vo(s.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:o[r]||{}}),2),l=u[0],c=u[1],f=s.useRef(0),d=s.useMemo((function(){return t?Dl(t):[]}),[t]),h=s.useRef({});e||(h.current={});var v=Go((function(){if(t&&n&&e){var u,l,s,f,v,p=t,y=p.ownerDocument,m=Rl(p).getComputedStyle(p),g=m.width,b=m.height,w=m.position,L=p.style.left,x=p.style.top,k=p.style.right,S=p.style.bottom,M=p.style.overflow,E=Bo(Bo({},o[r]),i),O=y.createElement("div");if(null===(u=p.parentElement)||void 0===u||u.appendChild(O),O.style.left="".concat(p.offsetLeft,"px"),O.style.top="".concat(p.offsetTop,"px"),O.style.position=w,O.style.height="".concat(p.offsetHeight,"px"),O.style.width="".concat(p.offsetWidth,"px"),p.style.left="0",p.style.top="0",p.style.right="auto",p.style.bottom="auto",p.style.overflow="hidden",Array.isArray(n))v={x:n[0],y:n[1],width:0,height:0};else{var C,I,_=n.getBoundingClientRect();_.x=null!==(C=_.x)&&void 0!==C?C:_.left,_.y=null!==(I=_.y)&&void 0!==I?I:_.top,v={x:_.x,y:_.y,width:_.width,height:_.height}}var A=p.getBoundingClientRect();A.x=null!==(l=A.x)&&void 0!==l?l:A.left,A.y=null!==(s=A.y)&&void 0!==s?s:A.top;var N=y.documentElement,P=N.clientWidth,j=N.clientHeight,R=N.scrollWidth,D=N.scrollHeight,T=N.scrollTop,F=N.scrollLeft,z=A.height,H=A.width,W=v.height,B=v.width,U={left:0,top:0,right:P,bottom:j},Z={left:-F,top:-T,right:R-F,bottom:D-T},V=E.htmlRegion,K="visible",G="visibleFirst";"scroll"!==V&&V!==G&&(V=K);var q=V===G,Y=zl(Z,d),X=zl(U,d),$=V===K?X:Y,J=q?X:$;p.style.left="auto",p.style.top="auto",p.style.right="0",p.style.bottom="0";var Q=p.getBoundingClientRect();p.style.left=L,p.style.top=x,p.style.right=k,p.style.bottom=S,p.style.overflow=M,null===(f=p.parentElement)||void 0===f||f.removeChild(O);var ee=Tl(Math.round(H/parseFloat(g)*1e3)/1e3),te=Tl(Math.round(z/parseFloat(b)*1e3)/1e3);if(0===ee||0===te||Ci(n)&&!function(e){if(!e)return!1;if(e instanceof Element){if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox(),n=t.width,r=t.height;if(n||r)return!0}if(e.getBoundingClientRect){var o=e.getBoundingClientRect(),i=o.width,a=o.height;if(i||a)return!0}}return!1}(n))return;var ne=E.offset,re=E.targetOffset,oe=Vo(Wl(A,ne),2),ie=oe[0],ae=oe[1],ue=Vo(Wl(v,re),2),le=ue[0],ce=ue[1];v.x-=le,v.y-=ce;var se=Vo(E.points||[],2),fe=se[0],de=Bl(se[1]),he=Bl(fe),ve=Ul(v,de),pe=Ul(A,he),ye=Bo({},E),me=ve.x-pe.x+ie,ge=ve.y-pe.y+ae;function ft(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$,r=A.x+e,o=A.y+t,i=r+H,a=o+z,u=Math.max(r,n.left),l=Math.max(o,n.top),c=Math.min(i,n.right),s=Math.min(a,n.bottom);return Math.max(0,(c-u)*(s-l))}var be,we,Le,xe,ke=ft(me,ge),Se=ft(me,ge,X),Me=Ul(v,["t","l"]),Ee=Ul(A,["t","l"]),Oe=Ul(v,["b","r"]),Ce=Ul(A,["b","r"]),Ie=E.overflow||{},_e=Ie.adjustX,Ae=Ie.adjustY,Ne=Ie.shiftX,Pe=Ie.shiftY,je=function(e){return"boolean"==typeof e?e:e>=0};function dt(){be=A.y+ge,we=be+z,Le=A.x+me,xe=Le+H}dt();var Re=je(Ae),De=he[0]===de[0];if(Re&&"t"===he[0]&&(we>J.bottom||h.current.bt)){var Te=ge;De?Te-=z-W:Te=Me.y-Ce.y-ae;var Fe=ft(me,Te),ze=ft(me,Te,X);Fe>ke||Fe===ke&&(!q||ze>=Se)?(h.current.bt=!0,ge=Te,ae=-ae,ye.points=[Zl(he,0),Zl(de,0)]):h.current.bt=!1}if(Re&&"b"===he[0]&&(be<J.top||h.current.tb)){var He=ge;De?He+=z-W:He=Oe.y-Ee.y-ae;var We=ft(me,He),Be=ft(me,He,X);We>ke||We===ke&&(!q||Be>=Se)?(h.current.tb=!0,ge=He,ae=-ae,ye.points=[Zl(he,0),Zl(de,0)]):h.current.tb=!1}var Ue=je(_e),Ze=he[1]===de[1];if(Ue&&"l"===he[1]&&(xe>J.right||h.current.rl)){var Ve=me;Ze?Ve-=H-B:Ve=Me.x-Ce.x-ie;var Ke=ft(Ve,ge),Ge=ft(Ve,ge,X);Ke>ke||Ke===ke&&(!q||Ge>=Se)?(h.current.rl=!0,me=Ve,ie=-ie,ye.points=[Zl(he,1),Zl(de,1)]):h.current.rl=!1}if(Ue&&"r"===he[1]&&(Le<J.left||h.current.lr)){var qe=me;Ze?qe+=H-B:qe=Oe.x-Ee.x-ie;var Ye=ft(qe,ge),Xe=ft(qe,ge,X);Ye>ke||Ye===ke&&(!q||Xe>=Se)?(h.current.lr=!0,me=qe,ie=-ie,ye.points=[Zl(he,1),Zl(de,1)]):h.current.lr=!1}dt();var $e=!0===Ne?0:Ne;"number"==typeof $e&&(Le<X.left&&(me-=Le-X.left-ie,v.x+B<X.left+$e&&(me+=v.x-X.left+B-$e)),xe>X.right&&(me-=xe-X.right-ie,v.x>X.right-$e&&(me+=v.x-X.right+$e)));var Je=!0===Pe?0:Pe;"number"==typeof Je&&(be<X.top&&(ge-=be-X.top-ae,v.y+W<X.top+Je&&(ge+=v.y-X.top+W-Je)),we>X.bottom&&(ge-=we-X.bottom-ae,v.y>X.bottom-Je&&(ge+=v.y-X.bottom+Je)));var Qe=A.x+me,et=Qe+H,tt=A.y+ge,nt=tt+z,rt=v.x,ot=rt+B,it=v.y,at=it+W,ut=(Math.max(Qe,rt)+Math.min(et,ot))/2-Qe,lt=(Math.max(tt,it)+Math.min(nt,at))/2-tt;null==a||a(t,ye);var ct=Q.right-A.x-(me+A.width),st=Q.bottom-A.y-(ge+A.height);1===ee&&(me=Math.round(me),ct=Math.round(ct)),1===te&&(ge=Math.round(ge),st=Math.round(st)),c({ready:!0,offsetX:me/ee,offsetY:ge/te,offsetR:ct/ee,offsetB:st/te,arrowX:ut/ee,arrowY:lt/te,scaleX:ee,scaleY:te,align:ye})}})),p=function(){c((function(e){return Bo(Bo({},e),{},{ready:!1})}))};return Jo(p,[r]),Jo((function(){e||p()}),[e]),[l.ready,l.offsetX,l.offsetY,l.offsetR,l.offsetB,l.arrowX,l.arrowY,l.scaleX,l.scaleY,l.align,function(){f.current+=1;var e=f.current;Promise.resolve().then((function(){f.current===e&&v()}))}]}function Kl(e,t,n,r,o){Jo((function(){if(e&&t&&n){var i=n,a=Dl(t),u=Dl(i),l=Rl(i),c=new Set([l].concat(To(a),To(u)));function s(){r(),o()}return c.forEach((function(e){e.addEventListener("scroll",s,{passive:!0})})),l.addEventListener("resize",s,{passive:!0}),r(),function(){c.forEach((function(e){e.removeEventListener("scroll",s),l.removeEventListener("resize",s)}))}}}),[e,t,n])}function Gl(e,t,n,r,o,i,a,u){var l=s.useRef(e);l.current=e,s.useEffect((function(){if(t&&r&&(!o||i)){var e=function(e){var t;l.current&&!a((null===(t=e.composedPath)||void 0===t||null===(t=t.call(e))||void 0===t?void 0:t[0])||e.target)&&u(!1)},c=Rl(r);c.addEventListener("mousedown",e,!0),c.addEventListener("contextmenu",e,!0);var s=Ou(n);return s&&(s.addEventListener("mousedown",e,!0),s.addEventListener("contextmenu",e,!0)),function(){c.removeEventListener("mousedown",e,!0),c.removeEventListener("contextmenu",e,!0),s&&(s.removeEventListener("mousedown",e,!0),s.removeEventListener("contextmenu",e,!0))}}}),[t,n,r,o,i])}var ql=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];var Yl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mu,t=s.forwardRef((function(t,n){var r=t.prefixCls,o=void 0===r?"rc-trigger-popup":r,i=t.children,a=t.action,u=void 0===a?"hover":a,l=t.showAction,c=t.hideAction,f=t.popupVisible,d=t.defaultPopupVisible,h=t.onPopupVisibleChange,v=t.afterPopupVisibleChange,p=t.mouseEnterDelay,m=t.mouseLeaveDelay,g=void 0===m?.1:m,b=t.focusDelay,w=t.blurDelay,L=t.mask,x=t.maskClosable,k=void 0===x||x,S=t.getPopupContainer,M=t.forceRender,E=t.autoDestroy,O=t.destroyPopupOnHide,C=t.popup,I=t.popupClassName,_=t.popupStyle,A=t.popupPlacement,N=t.builtinPlacements,P=void 0===N?{}:N,j=t.popupAlign,R=t.zIndex,D=t.stretch,T=t.getPopupClassNameFromAlign,F=t.fresh,z=t.alignPoint,H=t.onPopupClick,W=t.onPopupAlign,B=t.arrow,U=t.popupMotion,Z=t.maskMotion,V=t.popupTransitionName,K=t.popupAnimation,G=t.maskTransitionName,q=t.maskAnimation,Y=t.className,X=t.getTriggerDOMNode,$=Ko(t,ql),J=E||O||!1,Q=Vo(s.useState(!1),2),ee=Q[0],te=Q[1];Jo((function(){te(ci())}),[]);var ne=s.useRef({}),re=s.useContext(Il),oe=s.useMemo((function(){return{registerSubPopup:function(e,t){ne.current[e]=t,null==re||re.registerSubPopup(e,t)}}}),[re]),ie=_u(),ae=Vo(s.useState(null),2),ue=ae[0],le=ae[1],ce=s.useRef(null),se=Go((function(e){ce.current=e,Ci(e)&&ue!==e&&le(e),null==re||re.registerSubPopup(ie,e)})),fe=Vo(s.useState(null),2),de=fe[0],he=fe[1],ve=s.useRef(null),pe=Go((function(e){Ci(e)&&de!==e&&(he(e),ve.current=e)})),ye=s.Children.only(i),me=(null==ye?void 0:ye.props)||{},ge={},be=Go((function(e){var t,n,r=de;return(null==r?void 0:r.contains(e))||(null===(t=Ou(r))||void 0===t?void 0:t.host)===e||e===r||(null==ue?void 0:ue.contains(e))||(null===(n=Ou(ue))||void 0===n?void 0:n.host)===e||e===ue||Object.values(ne.current).some((function(t){return(null==t?void 0:t.contains(e))||e===t}))})),we=jl(o,U,K,V),Le=jl(o,Z,q,G),xe=Vo(s.useState(d||!1),2),ke=xe[0],Se=xe[1],Me=null!=f?f:ke,Ee=Go((function(e){void 0===f&&Se(e)}));Jo((function(){Se(f||!1)}),[f]);var Oe=s.useRef(Me);Oe.current=Me;var Ce=s.useRef([]);Ce.current=[];var Ie=Go((function(e){var t;Ee(e),(null!==(t=Ce.current[Ce.current.length-1])&&void 0!==t?t:Me)!==e&&(Ce.current.push(e),null==h||h(e))})),_e=s.useRef(),Ae=function(){clearTimeout(_e.current)},Ne=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Ae(),0===t?Ie(e):_e.current=setTimeout((function(){Ie(e)}),1e3*t)};s.useEffect((function(){return Ae}),[]);var Pe=Vo(s.useState(!1),2),je=Pe[0],Re=Pe[1];Jo((function(e){e&&!Me||Re(!0)}),[Me]);var De=Vo(s.useState(null),2),Te=De[0],Fe=De[1],ze=Vo(s.useState(null),2),He=ze[0],We=ze[1],Be=function(e){We([e.clientX,e.clientY])},Ue=Vo(Vl(Me,ue,z&&null!==He?He:de,A,P,j,W),11),Ze=Ue[0],Ve=Ue[1],Ke=Ue[2],Ge=Ue[3],qe=Ue[4],Ye=Ue[5],Xe=Ue[6],$e=Ue[7],Je=Ue[8],Qe=Ue[9],et=Ue[10],tt=Vo(Al(ee,u,l,c),2),nt=tt[0],rt=tt[1],ot=nt.has("click"),it=rt.has("click")||rt.has("contextMenu"),at=Go((function(){je||et()}));Kl(Me,de,ue,at,(function(){Oe.current&&z&&it&&Ne(!1)})),Jo((function(){at()}),[He,A]),Jo((function(){!Me||null!=P&&P[A]||at()}),[JSON.stringify(j)]);var ut=s.useMemo((function(){var e=Pl(P,o,Qe,z);return y()(e,null==T?void 0:T(Qe))}),[Qe,T,P,o,z]);s.useImperativeHandle(n,(function(){return{nativeElement:ve.current,popupElement:ce.current,forceAlign:at}}));var lt=Vo(s.useState(0),2),ct=lt[0],st=lt[1],ft=Vo(s.useState(0),2),dt=ft[0],ht=ft[1],vt=function(){if(D&&de){var e=de.getBoundingClientRect();st(e.width),ht(e.height)}};function pt(e,t,n,r){ge[e]=function(o){var i;null==r||r(o),Ne(t,n);for(var a=arguments.length,u=new Array(a>1?a-1:0),l=1;l<a;l++)u[l-1]=arguments[l];null===(i=me[e])||void 0===i||i.call.apply(i,[me,o].concat(u))}}Jo((function(){Te&&(et(),Te(),Fe(null))}),[Te]),(ot||it)&&(ge.onClick=function(e){var t;Oe.current&&it?Ne(!1):!Oe.current&&ot&&(Be(e),Ne(!0));for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];null===(t=me.onClick)||void 0===t||t.call.apply(t,[me,e].concat(r))}),Gl(Me,it,de,ue,L,k,be,Ne);var yt,mt,gt=nt.has("hover"),bt=rt.has("hover");gt&&(pt("onMouseEnter",!0,p,(function(e){Be(e)})),pt("onPointerEnter",!0,p,(function(e){Be(e)})),yt=function(e){(Me||je)&&null!=ue&&ue.contains(e.target)&&Ne(!0,p)},z&&(ge.onMouseMove=function(e){var t;null===(t=me.onMouseMove)||void 0===t||t.call(me,e)})),bt&&(pt("onMouseLeave",!1,g),pt("onPointerLeave",!1,g),mt=function(){Ne(!1,g)}),nt.has("focus")&&pt("onFocus",!0,b),rt.has("focus")&&pt("onBlur",!1,w),nt.has("contextMenu")&&(ge.onContextMenu=function(e){var t;Oe.current&&rt.has("contextMenu")?Ne(!1):(Be(e),Ne(!0)),e.preventDefault();for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];null===(t=me.onContextMenu)||void 0===t||t.call.apply(t,[me,e].concat(r))}),Y&&(ge.className=y()(me.className,Y));var wt=Bo(Bo({},me),ge),Lt={};["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"].forEach((function(e){$[e]&&(Lt[e]=function(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];null===(t=wt[e])||void 0===t||t.call.apply(t,[wt].concat(r)),$[e].apply($,r)})}));var xt=s.cloneElement(ye,Bo(Bo({},wt),Lt)),kt={x:Ye,y:Xe},St=B?Bo({},!0!==B?B:{}):null;return s.createElement(s.Fragment,null,s.createElement(ya,{disabled:!Me,ref:pe,onResize:function(){vt(),at()}},s.createElement(Cl,{getTriggerDOMNode:X},xt)),s.createElement(Il.Provider,{value:oe},s.createElement(Ol,{portal:e,ref:se,prefixCls:o,popup:C,className:y()(I,ut),style:_,target:de,onMouseEnter:yt,onMouseLeave:mt,onPointerEnter:yt,zIndex:R,open:Me,keepDom:je,fresh:F,onClick:H,mask:L,motion:we,maskMotion:Le,onVisibleChanged:function(e){Re(!1),et(),null==v||v(e)},onPrepare:function(){return new Promise((function(e){vt(),Fe((function(){return e}))}))},forceRender:M,autoDestroy:J,getPopupContainer:S,align:Qe,arrow:St,arrowPos:kt,ready:Ze,offsetX:Ve,offsetY:Ke,offsetR:Ge,offsetB:qe,onAlign:at,stretch:D,targetWidth:ct/$e,targetHeight:dt/Je})))}));return t}(Mu),Xl=["prefixCls","disabled","visible","children","popupElement","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],$l=function(e,t){var n=e.prefixCls,r=(e.disabled,e.visible),o=e.children,i=e.popupElement,a=e.animation,u=e.transitionName,l=e.dropdownStyle,c=e.dropdownClassName,f=e.direction,d=void 0===f?"ltr":f,h=e.placement,v=e.builtinPlacements,p=e.dropdownMatchSelectWidth,m=e.dropdownRender,g=e.dropdownAlign,b=e.getPopupContainer,w=e.empty,L=e.getTriggerDOMNode,x=e.onPopupVisibleChange,k=e.onPopupMouseEnter,S=Ko(e,Xl),M="".concat(n,"-dropdown"),E=i;m&&(E=m(i));var O=s.useMemo((function(){return v||function(e){var t=!0===e?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"}}}(p)}),[v,p]),C=a?"".concat(M,"-").concat(a):u,I="number"==typeof p,_=s.useMemo((function(){return I?null:!1===p?"minWidth":"width"}),[p,I]),A=l;I&&(A=Bo(Bo({},A),{},{width:p}));var N=s.useRef(null);return s.useImperativeHandle(t,(function(){return{getPopupElement:function(){var e;return null===(e=N.current)||void 0===e?void 0:e.popupElement}}})),s.createElement(Yl,Po({},S,{showAction:x?["click"]:[],hideAction:x?["click"]:[],popupPlacement:h||("rtl"===d?"bottomRight":"bottomLeft"),builtinPlacements:O,prefixCls:M,popupTransitionName:C,popup:s.createElement("div",{onMouseEnter:k},E),ref:N,stretch:_,popupAlign:g,popupVisible:r,getPopupContainer:b,popupClassName:y()(c,Ho({},"".concat(M,"-empty"),w)),popupStyle:A,getTriggerDOMNode:L,onPopupVisibleChange:x}),o)};var Jl=s.forwardRef($l);function Ql(e,t){var n,r=e.key;return"value"in e&&(n=e.value),null!=r?r:void 0!==n?n:"rc-index-key-".concat(t)}function ec(e){return void 0!==e&&!Number.isNaN(e)}function tc(e,t){var n=e||{},r=n.label||(t?"children":"label");return{label:r,value:n.value||"value",options:n.options||"options",groupLabel:n.groupLabel||r}}function nc(e){var t=Bo({},e);return"props"in t||Object.defineProperty(t,"props",{get:function(){return li(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),t}}),t}var rc=function(e,t,n){if(!t||!t.length)return null;var r=!1,o=function e(t,n){var o,i=Uo(o=n)||Ro(o)||Do(o)||Zo(),a=i[0],u=i.slice(1);if(!a)return[t];var l=t.split(a);return r=r||l.length>1,l.reduce((function(t,n){return[].concat(To(t),To(e(n,u)))}),[]).filter(Boolean)}(e,t);return r?void 0!==n?o.slice(0,n):o:null},oc=s.createContext(null);function ic(e){var t=e.visible,n=e.values;if(!t)return null;return s.createElement("span",{"aria-live":"polite",style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},"".concat(n.slice(0,50).map((function(e){var t=e.label,n=e.value;return["number","string"].includes(Fo(t))?t:n})).join(", ")),n.length>50?", ...":null)}var ac=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","suffixIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],uc=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"],lc=function(e){return"tags"===e||"multiple"===e},cc=s.forwardRef((function(e,t){var n,r=e.id,o=e.prefixCls,i=e.className,a=e.showSearch,u=e.tagRender,l=e.direction,c=e.omitDomProps,d=e.displayValues,h=e.onDisplayValuesChange,v=e.emptyOptions,p=e.notFoundContent,m=void 0===p?"Not Found":p,g=e.onClear,b=e.mode,w=e.disabled,L=e.loading,x=e.getInputElement,k=e.getRawInputElement,S=e.open,M=e.defaultOpen,E=e.onDropdownVisibleChange,O=e.activeValue,C=e.onActiveValueChange,I=e.activeDescendantId,_=e.searchValue,A=e.autoClearSearchValue,N=e.onSearch,P=e.onSearchSplit,j=e.tokenSeparators,R=e.allowClear,D=e.suffixIcon,T=e.clearIcon,F=e.OptionList,z=e.animation,H=e.transitionName,W=e.dropdownStyle,B=e.dropdownClassName,U=e.dropdownMatchSelectWidth,Z=e.dropdownRender,V=e.dropdownAlign,K=e.placement,G=e.builtinPlacements,q=e.getPopupContainer,Y=e.showAction,X=void 0===Y?[]:Y,$=e.onFocus,J=e.onBlur,Q=e.onKeyUp,ee=e.onKeyDown,te=e.onMouseDown,ne=Ko(e,ac),re=lc(b),oe=(void 0!==a?a:re)||"combobox"===b,ie=Bo({},ne);uc.forEach((function(e){delete ie[e]})),null==c||c.forEach((function(e){delete ie[e]}));var ae=Vo(s.useState(!1),2),ue=ae[0],le=ae[1];s.useEffect((function(){le(ci())}),[]);var ce=s.useRef(null),se=s.useRef(null),fe=s.useRef(null),de=s.useRef(null),he=s.useRef(null),ve=s.useRef(!1),pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=s.useState(!1),n=Vo(t,2),r=n[0],o=n[1],i=s.useRef(null),a=function(){window.clearTimeout(i.current)};return s.useEffect((function(){return a}),[]),[r,function(t,n){a(),i.current=window.setTimeout((function(){o(t),n&&n()}),e)},a]}(),ye=Vo(pe,3),me=ye[0],ge=ye[1],be=ye[2];s.useImperativeHandle(t,(function(){var e,t;return{focus:null===(e=de.current)||void 0===e?void 0:e.focus,blur:null===(t=de.current)||void 0===t?void 0:t.blur,scrollTo:function(e){var t;return null===(t=he.current)||void 0===t?void 0:t.scrollTo(e)},nativeElement:ce.current||se.current}}));var we=s.useMemo((function(){var e;if("combobox"!==b)return _;var t=null===(e=d[0])||void 0===e?void 0:e.value;return"string"==typeof t||"number"==typeof t?String(t):""}),[_,b,d]),Le="combobox"===b&&"function"==typeof x&&x()||null,xe="function"==typeof k&&k(),ke=vi(se,null==xe||null===(n=xe.props)||void 0===n?void 0:n.ref),Se=Vo(s.useState(!1),2),Me=Se[0],Ee=Se[1];Jo((function(){Ee(!0)}),[]);var Oe=Vo(ti(!1,{defaultValue:M,value:S}),2),Ce=Oe[0],Ie=Oe[1],_e=!!Me&&Ce,Ae=!m&&v;(w||Ae&&_e&&"combobox"===b)&&(_e=!1);var Ne=!Ae&&_e,Pe=s.useCallback((function(e){var t=void 0!==e?e:!_e;w||(Ie(t),_e!==t&&(null==E||E(t)))}),[w,_e,Ie,E]),je=s.useMemo((function(){return(j||[]).some((function(e){return["\n","\r\n"].includes(e)}))}),[j]),Re=s.useContext(oc)||{},De=Re.maxCount,Te=Re.rawValues,Fe=function(e,t,n){if(!(re&&ec(De)&&(null==Te?void 0:Te.size)>=De)){var r=!0,o=e;null==C||C(null);var i=rc(e,j,ec(De)?De-Te.size:void 0),a=n?null:i;return"combobox"!==b&&a&&(o="",null==P||P(a),Pe(!1),r=!1),N&&we!==o&&N(o,{source:t?"typing":"effect"}),r}};s.useEffect((function(){_e||re||"combobox"===b||Fe("",!1,!1)}),[_e]),s.useEffect((function(){Ce&&w&&Ie(!1),w&&!ve.current&&ge(!1)}),[w]);var ze=Vo(bi(),2),He=ze[0],We=ze[1],Be=s.useRef(!1),Ue=s.useRef(!1),Ze=[];s.useEffect((function(){return function(){Ze.forEach((function(e){return clearTimeout(e)})),Ze.splice(0,Ze.length)}}),[]);var Ve,Ke=Vo(s.useState({}),2)[1];xe&&(Ve=function(e){Pe(e)}),function(e,t,n,r){var o=s.useRef(null);o.current={open:t,triggerOpen:n,customizedTrigger:r},s.useEffect((function(){function t(t){var n;if(null===(n=o.current)||void 0===n||!n.customizedTrigger){var r=t.target;r.shadowRoot&&t.composed&&(r=t.composedPath()[0]||r),o.current.open&&e().filter((function(e){return e})).every((function(e){return!e.contains(r)&&e!==r}))&&o.current.triggerOpen(!1)}}return window.addEventListener("mousedown",t),function(){return window.removeEventListener("mousedown",t)}}),[])}((function(){var e;return[ce.current,null===(e=fe.current)||void 0===e?void 0:e.getPopupElement()]}),Ne,Pe,!!xe);var Ge,qe=s.useMemo((function(){return Bo(Bo({},e),{},{notFoundContent:m,open:_e,triggerOpen:Ne,id:r,showSearch:oe,multiple:re,toggleOpen:Pe})}),[e,m,Ne,_e,r,oe,re,Pe]),Ye=!!D||L;Ye&&(Ge=s.createElement(mi,{className:y()("".concat(o,"-arrow"),Ho({},"".concat(o,"-arrow-loading"),L)),customizeIcon:D,customizeIconProps:{loading:L,searchValue:we,open:_e,focused:me,showSearch:oe}}));var Xe,$e=function(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=arguments.length>6?arguments[6]:void 0,u=arguments.length>7?arguments[7]:void 0,l=f().useMemo((function(){return"object"===Fo(r)?r.clearIcon:o||void 0}),[r,o]),c=f().useMemo((function(){return!(i||!r||!n.length&&!a||"combobox"===u&&""===a)}),[r,i,n.length,a,u]);return{allowClear:c,clearIcon:f().createElement(mi,{className:"".concat(e,"-clear"),onMouseDown:t,customizeIcon:l},"")}}(o,(function(){var e;null==g||g(),null===(e=de.current)||void 0===e||e.focus(),h([],{type:"clear",values:d}),Fe("",!1,!1)}),d,R,T,w,we,b),Je=$e.allowClear,Qe=$e.clearIcon,et=s.createElement(F,{ref:he}),tt=y()(o,i,Ho(Ho(Ho(Ho(Ho(Ho(Ho(Ho(Ho(Ho({},"".concat(o,"-focused"),me),"".concat(o,"-multiple"),re),"".concat(o,"-single"),!re),"".concat(o,"-allow-clear"),R),"".concat(o,"-show-arrow"),Ye),"".concat(o,"-disabled"),w),"".concat(o,"-loading"),L),"".concat(o,"-open"),_e),"".concat(o,"-customize-input"),Le),"".concat(o,"-show-search"),oe)),nt=s.createElement(Jl,{ref:fe,disabled:w,prefixCls:o,visible:Ne,popupElement:et,animation:z,transitionName:H,dropdownStyle:W,dropdownClassName:B,direction:l,dropdownMatchSelectWidth:U,dropdownRender:Z,dropdownAlign:V,placement:K,builtinPlacements:G,getPopupContainer:q,empty:v,getTriggerDOMNode:function(e){return se.current||e},onPopupVisibleChange:Ve,onPopupMouseEnter:function(){Ke({})}},xe?s.cloneElement(xe,{ref:ke}):s.createElement(nu,Po({},e,{domRef:se,prefixCls:o,inputElement:Le,ref:de,id:r,showSearch:oe,autoClearSearchValue:A,mode:b,activeDescendantId:I,tagRender:u,values:d,open:_e,onToggleOpen:Pe,activeValue:O,searchValue:we,onSearch:Fe,onSearchSubmit:function(e){e&&e.trim()&&N(e,{source:"submit"})},onRemove:function(e){var t=d.filter((function(t){return t!==e}));h(t,{type:"remove",values:[e]})},tokenWithEnter:je})));return Xe=xe?nt:s.createElement("div",Po({className:tt},ie,{ref:ce,onMouseDown:function(e){var t,n=e.target,r=null===(t=fe.current)||void 0===t?void 0:t.getPopupElement();if(r&&r.contains(n)){var o=setTimeout((function(){var e,t=Ze.indexOf(o);-1!==t&&Ze.splice(t,1),be(),ue||r.contains(document.activeElement)||null===(e=de.current)||void 0===e||e.focus()}));Ze.push(o)}for(var i=arguments.length,a=new Array(i>1?i-1:0),u=1;u<i;u++)a[u-1]=arguments[u];null==te||te.apply(void 0,[e].concat(a))},onKeyDown:function(e){var t,n=He(),r=e.key,o="Enter"===r;if(o&&("combobox"!==b&&e.preventDefault(),_e||Pe(!0)),We(!!we),"Backspace"===r&&!n&&re&&!we&&d.length){for(var i=To(d),a=null,u=i.length-1;u>=0;u-=1){var l=i[u];if(!l.disabled){i.splice(u,1),a=l;break}}a&&h(i,{type:"remove",values:[a]})}for(var c=arguments.length,s=new Array(c>1?c-1:0),f=1;f<c;f++)s[f-1]=arguments[f];!_e||o&&Be.current||null===(t=he.current)||void 0===t||t.onKeyDown.apply(t,[e].concat(s)),o&&(Be.current=!0),null==ee||ee.apply(void 0,[e].concat(s))},onKeyUp:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o;_e&&(null===(o=he.current)||void 0===o||o.onKeyUp.apply(o,[e].concat(n))),"Enter"===e.key&&(Be.current=!1),null==Q||Q.apply(void 0,[e].concat(n))},onFocus:function(){ge(!0),w||($&&!Ue.current&&$.apply(void 0,arguments),X.includes("focus")&&Pe(!0)),Ue.current=!0},onBlur:function(){ve.current=!0,ge(!1,(function(){Ue.current=!1,ve.current=!1,Pe(!1)})),w||(we&&("tags"===b?N(we,{source:"submit"}):"multiple"===b&&N("",{source:"blur"})),J&&J.apply(void 0,arguments))}}),s.createElement(ic,{visible:me&&!_e,values:d}),nt,Ge,Je&&Qe),s.createElement(gi.Provider,{value:qe},Xe)}));var sc=cc,fc=function(){return null};fc.isSelectOptGroup=!0;var dc=fc,hc=function(){return null};hc.isSelectOption=!0;var vc=hc;var pc=s.forwardRef((function(e,t){var n=e.height,r=e.offsetY,o=e.offsetX,i=e.children,a=e.prefixCls,u=e.onInnerResize,l=e.innerProps,c=e.rtl,f=e.extra,d={},h={display:"flex",flexDirection:"column"};return void 0!==r&&(d={height:n,position:"relative",overflow:"hidden"},h=Bo(Bo({},h),{},Ho(Ho(Ho(Ho(Ho({transform:"translateY(".concat(r,"px)")},c?"marginRight":"marginLeft",-o),"position","absolute"),"left",0),"right",0),"top",0))),s.createElement("div",{style:d},s.createElement(ya,{onResize:function(e){e.offsetHeight&&u&&u()}},s.createElement("div",Po({style:h,className:y()(Ho({},"".concat(a,"-holder-inner"),a)),ref:t},l),i,f)))}));pc.displayName="Filler";var yc=pc;function mc(e){var t=e.children,n=e.setRef,r=s.useCallback((function(e){n(e)}),[]);return s.cloneElement(t,{ref:r})}function gc(e,t,n){var r=Vo(s.useState(e),2),o=r[0],i=r[1],a=Vo(s.useState(null),2),u=a[0],l=a[1];return s.useEffect((function(){var r=function(e,t,n){var r,o,i=e.length,a=t.length;if(0===i&&0===a)return null;i<a?(r=e,o=t):(r=t,o=e);var u={__EMPTY_ITEM__:!0};function l(e){return void 0!==e?n(e):u}for(var c=null,s=1!==Math.abs(i-a),f=0;f<o.length;f+=1){var d=l(r[f]);if(d!==l(o[f])){c=f,s=s||d!==l(o[f+1]);break}}return null===c?null:{index:c,multiple:s}}(o||[],e||[],t);void 0!==(null==r?void 0:r.index)&&(null==n||n(r.index),l(e[r.index])),i(e)}),[e]),[u]}var bc="object"===("undefined"==typeof navigator?"undefined":Fo(navigator))&&/Firefox/i.test(navigator.userAgent),wc=function(e,t,n,r){var o=(0,s.useRef)(!1),i=(0,s.useRef)(null);function a(){clearTimeout(i.current),o.current=!0,i.current=setTimeout((function(){o.current=!1}),50)}var u=(0,s.useRef)({top:e,bottom:t,left:n,right:r});return u.current.top=e,u.current.bottom=t,u.current.left=n,u.current.right=r,function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e?t<0&&u.current.left||t>0&&u.current.right:t<0&&u.current.top||t>0&&u.current.bottom;return n&&r?(clearTimeout(i.current),o.current=!1):r&&!o.current||a(),!o.current&&r}};function Lc(e,t,n,r,o,i,a){var u=(0,s.useRef)(0),l=(0,s.useRef)(null),c=(0,s.useRef)(null),f=(0,s.useRef)(!1),d=wc(t,n,r,o);var h=(0,s.useRef)(null),v=(0,s.useRef)(null);return[function(t){if(e){Ca.cancel(v.current),v.current=Ca((function(){h.current=null}),2);var n=t.deltaX,r=t.deltaY,o=t.shiftKey,s=n,p=r;("sx"===h.current||!h.current&&o&&r&&!n)&&(s=r,p=0,h.current="sx");var y=Math.abs(s),m=Math.abs(p);null===h.current&&(h.current=i&&y>m?"x":"y"),"y"===h.current?function(e,t){Ca.cancel(l.current),u.current+=t,c.current=t,d(!1,t)||(bc||e.preventDefault(),l.current=Ca((function(){var e=f.current?10:1;a(u.current*e),u.current=0})))}(t,p):function(e,t){a(t,!0),bc||e.preventDefault()}(t,s)}},function(t){e&&(f.current=t.detail===c.current)}]}var xc=function(){function e(){ta(this,e),Ho(this,"maps",void 0),Ho(this,"id",0),this.maps=Object.create(null)}return ra(e,[{key:"set",value:function(e,t){this.maps[e]=t,this.id+=1}},{key:"get",value:function(e){return this.maps[e]}}]),e}();var kc=14/15;function Sc(e,t){return("touches"in e?e.touches[0]:e)[t?"pageX":"pageY"]}var Mc=s.forwardRef((function(e,t){var n=e.prefixCls,r=e.rtl,o=e.scrollOffset,i=e.scrollRange,a=e.onStartMove,u=e.onStopMove,l=e.onScroll,c=e.horizontal,f=e.spinSize,d=e.containerSize,h=e.style,v=e.thumbStyle,p=Vo(s.useState(!1),2),m=p[0],g=p[1],b=Vo(s.useState(null),2),w=b[0],L=b[1],x=Vo(s.useState(null),2),k=x[0],S=x[1],M=!r,E=s.useRef(),O=s.useRef(),C=Vo(s.useState(!1),2),I=C[0],_=C[1],A=s.useRef(),N=function(){clearTimeout(A.current),_(!0),A.current=setTimeout((function(){_(!1)}),3e3)},P=i-d||0,j=d-f||0,R=s.useMemo((function(){return 0===o||0===P?0:o/P*j}),[o,P,j]),D=s.useRef({top:R,dragging:m,pageY:w,startTop:k});D.current={top:R,dragging:m,pageY:w,startTop:k};var T=function(e){g(!0),L(Sc(e,c)),S(D.current.top),a(),e.stopPropagation(),e.preventDefault()};s.useEffect((function(){var e=function(e){e.preventDefault()},t=E.current,n=O.current;return t.addEventListener("touchstart",e,{passive:!1}),n.addEventListener("touchstart",T,{passive:!1}),function(){t.removeEventListener("touchstart",e),n.removeEventListener("touchstart",T)}}),[]);var F=s.useRef();F.current=P;var z=s.useRef();z.current=j,s.useEffect((function(){if(m){var e,t=function(t){var n=D.current,r=n.dragging,o=n.pageY,i=n.startTop;Ca.cancel(e);var a=E.current.getBoundingClientRect(),u=d/(c?a.width:a.height);if(r){var s=(Sc(t,c)-o)*u,f=i;!M&&c?f-=s:f+=s;var h=F.current,v=z.current,p=v?f/v:0,y=Math.ceil(p*h);y=Math.max(y,0),y=Math.min(y,h),e=Ca((function(){l(y,c)}))}},n=function(){g(!1),u()};return window.addEventListener("mousemove",t,{passive:!0}),window.addEventListener("touchmove",t,{passive:!0}),window.addEventListener("mouseup",n,{passive:!0}),window.addEventListener("touchend",n,{passive:!0}),function(){window.removeEventListener("mousemove",t),window.removeEventListener("touchmove",t),window.removeEventListener("mouseup",n),window.removeEventListener("touchend",n),Ca.cancel(e)}}}),[m]),s.useEffect((function(){return N(),function(){clearTimeout(A.current)}}),[o]),s.useImperativeHandle(t,(function(){return{delayHidden:N}}));var H="".concat(n,"-scrollbar"),W={position:"absolute",visibility:I?null:"hidden"},B={position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"};return c?(W.height=8,W.left=0,W.right=0,W.bottom=0,B.height="100%",B.width=f,M?B.left=R:B.right=R):(W.width=8,W.top=0,W.bottom=0,M?W.right=0:W.left=0,B.width="100%",B.height=f,B.top=R),s.createElement("div",{ref:E,className:y()(H,Ho(Ho(Ho({},"".concat(H,"-horizontal"),c),"".concat(H,"-vertical"),!c),"".concat(H,"-visible"),I)),style:Bo(Bo({},W),h),onMouseDown:function(e){e.stopPropagation(),e.preventDefault()},onMouseMove:N},s.createElement("div",{ref:O,className:y()("".concat(H,"-thumb"),Ho({},"".concat(H,"-thumb-moving"),m)),style:Bo(Bo({},B),v),onMouseDown:T}))}));var Ec=Mc;function Oc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e/t*e;return isNaN(n)&&(n=0),n=Math.max(n,20),Math.floor(n)}var Cc=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles"],Ic=[],_c={overflowY:"auto",overflowAnchor:"none"};function Ac(e,t){var n=e.prefixCls,r=void 0===n?"rc-virtual-list":n,o=e.className,i=e.height,a=e.itemHeight,u=e.fullHeight,l=void 0===u||u,c=e.style,f=e.data,d=e.children,h=e.itemKey,v=e.virtual,p=e.direction,m=e.scrollWidth,g=e.component,b=void 0===g?"div":g,w=e.onScroll,L=e.onVirtualScroll,x=e.onVisibleChange,k=e.innerProps,S=e.extraRender,M=e.styles,E=Ko(e,Cc),O=s.useCallback((function(e){return"function"==typeof h?h(e):null==e?void 0:e[h]}),[h]),C=function(e,t,n){var r=Vo(s.useState(0),2),o=r[0],i=r[1],a=(0,s.useRef)(new Map),u=(0,s.useRef)(new xc),l=(0,s.useRef)();function c(){Ca.cancel(l.current)}function f(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];c();var t=function(){a.current.forEach((function(e,t){if(e&&e.offsetParent){var n=Ii(e),r=n.offsetHeight;u.current.get(t)!==r&&u.current.set(t,n.offsetHeight)}})),i((function(e){return e+1}))};e?t():l.current=Ca(t)}return(0,s.useEffect)((function(){return c}),[]),[function(r,o){var i=e(r),u=a.current.get(i);o?(a.current.set(i,o),f()):a.current.delete(i),!u!=!o&&(o?null==t||t(r):null==n||n(r))},f,u.current,o]}(O,null,null),I=Vo(C,4),_=I[0],A=I[1],N=I[2],P=I[3],j=!(!1===v||!i||!a),R=s.useMemo((function(){return Object.values(N.maps).reduce((function(e,t){return e+t}),0)}),[N.id,N.maps]),D=j&&f&&(Math.max(a*f.length,R)>i||!!m),T="rtl"===p,F=y()(r,Ho({},"".concat(r,"-rtl"),T),o),z=f||Ic,H=(0,s.useRef)(),W=(0,s.useRef)(),B=(0,s.useRef)(),U=Vo((0,s.useState)(0),2),Z=U[0],V=U[1],K=Vo((0,s.useState)(0),2),G=K[0],q=K[1],Y=Vo((0,s.useState)(!1),2),X=Y[0],$=Y[1],J=function(){$(!0)},Q=function(){$(!1)},ee={getKey:O};function te(e){V((function(t){var n=function(e){var t=e;Number.isNaN(ge.current)||(t=Math.min(t,ge.current));return t=Math.max(t,0),t}("function"==typeof e?e(t):e);return H.current.scrollTop=n,n}))}var ne=(0,s.useRef)({start:0,end:z.length}),re=(0,s.useRef)(),oe=Vo(gc(z,O),1)[0];re.current=oe;var ie=s.useMemo((function(){if(!j)return{scrollHeight:void 0,start:0,end:z.length-1,offset:void 0};var e;if(!D)return{scrollHeight:(null===(e=W.current)||void 0===e?void 0:e.offsetHeight)||0,start:0,end:z.length-1,offset:void 0};for(var t,n,r,o=0,u=z.length,l=0;l<u;l+=1){var c=z[l],s=O(c),f=N.get(s),d=o+(void 0===f?a:f);d>=Z&&void 0===t&&(t=l,n=o),d>Z+i&&void 0===r&&(r=l),o=d}return void 0===t&&(t=0,n=0,r=Math.ceil(i/a)),void 0===r&&(r=z.length-1),{scrollHeight:o,start:t,end:r=Math.min(r+1,z.length-1),offset:n}}),[D,j,Z,z,P,i]),ae=ie.scrollHeight,ue=ie.start,le=ie.end,ce=ie.offset;ne.current.start=ue,ne.current.end=le;var se=Vo(s.useState({width:0,height:i}),2),fe=se[0],de=se[1],he=(0,s.useRef)(),ve=(0,s.useRef)(),pe=s.useMemo((function(){return Oc(fe.width,m)}),[fe.width,m]),ye=s.useMemo((function(){return Oc(fe.height,ae)}),[fe.height,ae]),me=ae-i,ge=(0,s.useRef)(me);ge.current=me;var be=Z<=0,we=Z>=me,Le=G<=0,xe=G>=m,ke=wc(be,we,Le,xe),Se=function(){return{x:T?-G:G,y:Z}},Me=(0,s.useRef)(Se()),Ee=Go((function(e){if(L){var t=Bo(Bo({},Se()),e);Me.current.x===t.x&&Me.current.y===t.y||(L(t),Me.current=t)}}));function Oe(e,t){var n=e;t?((0,Qr.flushSync)((function(){q(n)})),Ee()):te(n)}var Ce=function(e){var t=e,n=m?m-fe.width:0;return t=Math.max(t,0),t=Math.min(t,n)},Ie=Go((function(e,t){t?((0,Qr.flushSync)((function(){q((function(t){return Ce(t+(T?-e:e))}))})),Ee()):te((function(t){return t+e}))})),_e=Vo(Lc(j,be,we,Le,xe,!!m,Ie),2),Ae=_e[0],Ne=_e[1];!function(e,t,n){var r,o=(0,s.useRef)(!1),i=(0,s.useRef)(0),a=(0,s.useRef)(0),u=(0,s.useRef)(null),l=(0,s.useRef)(null),c=function(e){if(o.current){var t=Math.ceil(e.touches[0].pageX),r=Math.ceil(e.touches[0].pageY),u=i.current-t,c=a.current-r,s=Math.abs(u)>Math.abs(c);s?i.current=t:a.current=r,n(s,s?u:c)&&e.preventDefault(),clearInterval(l.current),l.current=setInterval((function(){s?u*=kc:c*=kc;var e=Math.floor(s?u:c);(!n(s,e,!0)||Math.abs(e)<=.1)&&clearInterval(l.current)}),16)}},f=function(){o.current=!1,r()},d=function(e){r(),1!==e.touches.length||o.current||(o.current=!0,i.current=Math.ceil(e.touches[0].pageX),a.current=Math.ceil(e.touches[0].pageY),u.current=e.target,u.current.addEventListener("touchmove",c,{passive:!1}),u.current.addEventListener("touchend",f,{passive:!0}))};r=function(){u.current&&(u.current.removeEventListener("touchmove",c),u.current.removeEventListener("touchend",f))},Jo((function(){return e&&t.current.addEventListener("touchstart",d,{passive:!0}),function(){var e;null===(e=t.current)||void 0===e||e.removeEventListener("touchstart",d),r(),clearInterval(l.current)}}),[e])}(j,H,(function(e,t,n){return!ke(e,t,n)&&(Ae({preventDefault:function(){},deltaX:e?t:0,deltaY:e?0:t}),!0)})),Jo((function(){function e(e){j&&e.preventDefault()}var t=H.current;return t.addEventListener("wheel",Ae,{passive:!1}),t.addEventListener("DOMMouseScroll",Ne,{passive:!0}),t.addEventListener("MozMousePixelScroll",e,{passive:!1}),function(){t.removeEventListener("wheel",Ae),t.removeEventListener("DOMMouseScroll",Ne),t.removeEventListener("MozMousePixelScroll",e)}}),[j]),Jo((function(){if(m){var e=Ce(G);q(e),Ee({x:e})}}),[fe.width,m]);var Pe=function(){var e,t;null===(e=he.current)||void 0===e||e.delayHidden(),null===(t=ve.current)||void 0===t||t.delayHidden()},je=function(e,t,n,r,o,i,a,u){var l=s.useRef(),c=Vo(s.useState(null),2),f=c[0],d=c[1];return Jo((function(){if(f&&f.times<10){if(!e.current)return void d((function(e){return Bo({},e)}));i();var u=f.targetAlign,l=f.originAlign,c=f.index,s=f.offset,h=e.current.clientHeight,v=!1,p=u,y=null;if(h){for(var m=u||l,g=0,b=0,w=0,L=Math.min(t.length-1,c),x=0;x<=L;x+=1){var k=o(t[x]);b=g;var S=n.get(k);g=w=b+(void 0===S?r:S)}for(var M="top"===m?s:h-s,E=L;E>=0;E-=1){var O=o(t[E]),C=n.get(O);if(void 0===C){v=!0;break}if((M-=C)<=0)break}switch(m){case"top":y=b-s;break;case"bottom":y=w-h+s;break;default:var I=e.current.scrollTop;b<I?p="top":w>I+h&&(p="bottom")}null!==y&&a(y),y!==f.lastTop&&(v=!0)}v&&d(Bo(Bo({},f),{},{times:f.times+1,targetAlign:p,lastTop:y}))}}),[f,e.current]),function(e){if(null!=e){if(Ca.cancel(l.current),"number"==typeof e)a(e);else if(e&&"object"===Fo(e)){var n,r=e.align;n="index"in e?e.index:t.findIndex((function(t){return o(t)===e.key}));var i=e.offset;d({times:0,index:n,offset:void 0===i?0:i,originAlign:r})}}else u()}}(H,z,N,a,O,(function(){return A(!0)}),te,Pe);s.useImperativeHandle(t,(function(){return{nativeElement:B.current,getScrollInfo:Se,scrollTo:function(e){var t;(t=e)&&"object"===Fo(t)&&("left"in t||"top"in t)?(void 0!==e.left&&q(Ce(e.left)),je(e.top)):je(e)}}})),Jo((function(){if(x){var e=z.slice(ue,le+1);x(e,z)}}),[ue,le,z]);var Re=function(e,t,n,r){var o=Vo(s.useMemo((function(){return[new Map,[]]}),[e,n.id,r]),2),i=o[0],a=o[1];return function(o){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,l=i.get(o),c=i.get(u);if(void 0===l||void 0===c)for(var s=e.length,f=a.length;f<s;f+=1){var d,h=e[f],v=t(h);i.set(v,f);var p=null!==(d=n.get(v))&&void 0!==d?d:r;if(a[f]=(a[f-1]||0)+p,v===o&&(l=f),v===u&&(c=f),void 0!==l&&void 0!==c)break}return{top:a[l-1]||0,bottom:a[c]}}}(z,O,N,a),De=null==S?void 0:S({start:ue,end:le,virtual:D,offsetX:G,offsetY:ce,rtl:T,getSize:Re}),Te=function(e,t,n,r,o,i,a,u){var l=u.getKey;return e.slice(t,n+1).map((function(e,n){var u=a(e,t+n,{style:{width:r},offsetX:o}),c=l(e);return s.createElement(mc,{key:c,setRef:function(t){return i(e,t)}},u)}))}(z,ue,le,m,G,_,d,ee),Fe=null;i&&(Fe=Bo(Ho({},l?"height":"maxHeight",i),_c),j&&(Fe.overflowY="hidden",m&&(Fe.overflowX="hidden"),X&&(Fe.pointerEvents="none")));var ze={};return T&&(ze.dir="rtl"),s.createElement("div",Po({ref:B,style:Bo(Bo({},c),{},{position:"relative"}),className:F},ze,E),s.createElement(ya,{onResize:function(e){de({width:e.offsetWidth,height:e.offsetHeight})}},s.createElement(b,{className:"".concat(r,"-holder"),style:Fe,ref:H,onScroll:function(e){var t=e.currentTarget.scrollTop;t!==Z&&te(t),null==w||w(e),Ee()},onMouseEnter:Pe},s.createElement(yc,{prefixCls:r,height:ae,offsetX:G,offsetY:ce,scrollWidth:m,onInnerResize:A,ref:W,innerProps:k,rtl:T,extra:De},Te))),D&&ae>i&&s.createElement(Ec,{ref:he,prefixCls:r,scrollOffset:Z,scrollRange:ae,rtl:T,onScroll:Oe,onStartMove:J,onStopMove:Q,spinSize:ye,containerSize:fe.height,style:null==M?void 0:M.verticalScrollBar,thumbStyle:null==M?void 0:M.verticalScrollBarThumb}),D&&m>fe.width&&s.createElement(Ec,{ref:ve,prefixCls:r,scrollOffset:G,scrollRange:m,rtl:T,onScroll:Oe,onStartMove:J,onStopMove:Q,spinSize:pe,containerSize:fe.width,horizontal:!0,style:null==M?void 0:M.horizontalScrollBar,thumbStyle:null==M?void 0:M.horizontalScrollBarThumb}))}var Nc=s.forwardRef(Ac);Nc.displayName="List";var Pc=Nc;var jc=["disabled","title","children","style","className"];function Rc(e){return"string"==typeof e||"number"==typeof e}var Dc=function(e,t){var n=s.useContext(gi),r=n.prefixCls,o=n.id,i=n.open,a=n.multiple,u=n.mode,l=n.searchValue,c=n.toggleOpen,f=n.notFoundContent,d=n.onPopupScroll,h=s.useContext(oc),v=h.maxCount,p=h.flattenOptions,m=h.onActiveValue,g=h.defaultActiveFirstOption,b=h.onSelect,w=h.menuItemSelectedIcon,L=h.rawValues,x=h.fieldNames,k=h.virtual,S=h.direction,M=h.listHeight,E=h.listItemHeight,O=h.optionRender,C="".concat(r,"-item"),I=fi((function(){return p}),[i,p],(function(e,t){return t[0]&&e[1]!==t[1]})),_=s.useRef(null),A=s.useMemo((function(){return a&&ec(v)&&(null==L?void 0:L.size)>=v}),[a,v,null==L?void 0:L.size]),N=function(e){e.preventDefault()},P=function(e){var t;null===(t=_.current)||void 0===t||t.scrollTo("number"==typeof e?{index:e}:e)},j=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=I.length,r=0;r<n;r+=1){var o=(e+r*t+n)%n,i=I[o]||{},a=i.group,u=i.data;if(!(a||null!=u&&u.disabled||A))return o}return-1},R=Vo(s.useState((function(){return j(0)})),2),D=R[0],T=R[1],F=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];T(e);var n={source:t?"keyboard":"mouse"},r=I[e];r?m(r.value,e,n):m(null,-1,n)};(0,s.useEffect)((function(){F(!1!==g?j(0):-1)}),[I.length,l]);var z=s.useCallback((function(e){return L.has(e)&&"combobox"!==u}),[u,To(L).toString(),L.size]);(0,s.useEffect)((function(){var e,t=setTimeout((function(){if(!a&&i&&1===L.size){var e=Array.from(L)[0],t=I.findIndex((function(t){return t.data.value===e}));-1!==t&&(F(t),P(t))}}));i&&(null===(e=_.current)||void 0===e||e.scrollTo(void 0));return function(){return clearTimeout(t)}}),[i,l]);var H=function(e){void 0!==e&&b(e,{selected:!L.has(e)}),a||c(!1)};if(s.useImperativeHandle(t,(function(){return{onKeyDown:function(e){var t=e.which,n=e.ctrlKey;switch(t){case Li.N:case Li.P:case Li.UP:case Li.DOWN:var r=0;if(t===Li.UP?r=-1:t===Li.DOWN?r=1:/(mac\sos|macintosh)/i.test(navigator.appVersion)&&n&&(t===Li.N?r=1:t===Li.P&&(r=-1)),0!==r){var o=j(D+r,r);P(o),F(o,!0)}break;case Li.ENTER:var a,u=I[D];!u||null!=u&&null!==(a=u.data)&&void 0!==a&&a.disabled||A?H(void 0):H(u.value),i&&e.preventDefault();break;case Li.ESC:c(!1),i&&e.stopPropagation()}},onKeyUp:function(){},scrollTo:function(e){P(e)}}})),0===I.length)return s.createElement("div",{role:"listbox",id:"".concat(o,"_list"),className:"".concat(C,"-empty"),onMouseDown:N},f);var W=Object.keys(x).map((function(e){return x[e]})),B=function(e){return e.label};function U(e,t){return{role:e.group?"presentation":"option",id:"".concat(o,"_list_").concat(t)}}var Z=function(e){var t=I[e];if(!t)return null;var n=t.data||{},r=n.value,o=t.group,i=Ei(n,!0),a=B(t);return t?s.createElement("div",Po({"aria-label":"string"!=typeof a||o?null:a},i,{key:e},U(t,e),{"aria-selected":z(r)}),r):null},V={role:"listbox",id:"".concat(o,"_list")};return s.createElement(s.Fragment,null,k&&s.createElement("div",Po({},V,{style:{height:0,width:0,overflow:"hidden"}}),Z(D-1),Z(D),Z(D+1)),s.createElement(Pc,{itemKey:"key",ref:_,data:I,height:M,itemHeight:E,fullHeight:!1,onMouseDown:N,onScroll:d,virtual:k,direction:S,innerProps:k?null:V},(function(e,t){var n=e.group,r=e.groupOption,o=e.data,i=e.label,a=e.value,u=o.key;if(n){var l,c=null!==(l=o.title)&&void 0!==l?l:Rc(i)?i.toString():void 0;return s.createElement("div",{className:y()(C,"".concat(C,"-group"),o.className),title:c},void 0!==i?i:u)}var f=o.disabled,d=o.title,h=(o.children,o.style),v=o.className,p=function(e,t){var n=Object.assign({},e);return Array.isArray(t)&&t.forEach((function(e){delete n[e]})),n}(Ko(o,jc),W),m=z(a),g=f||!m&&A,b="".concat(C,"-option"),L=y()(C,b,v,Ho(Ho(Ho(Ho({},"".concat(b,"-grouped"),r),"".concat(b,"-active"),D===t&&!g),"".concat(b,"-disabled"),g),"".concat(b,"-selected"),m)),x=B(e),S=!w||"function"==typeof w||m,M="number"==typeof x?x:x||a,E=Rc(M)?M.toString():void 0;return void 0!==d&&(E=d),s.createElement("div",Po({},Ei(p),k?{}:U(e,t),{"aria-selected":m,className:L,title:E,onMouseMove:function(){D===t||g||F(t)},onClick:function(){g||H(a)},style:h}),s.createElement("div",{className:"".concat(b,"-content")},"function"==typeof O?O(e,{index:t}):M),s.isValidElement(w)||m,S&&s.createElement(mi,{className:"".concat(C,"-option-state"),customizeIcon:w,customizeIconProps:{value:a,disabled:g,isSelected:m}},m?"":null))})))};var Tc=s.forwardRef(Dc);function Fc(e,t){return Ga(e).join("").toUpperCase().includes(t)}var zc=0,Hc=qo();function Wc(e){var t=Vo(s.useState(),2),n=t[0],r=t[1];return s.useEffect((function(){var e;r("rc_select_".concat((Hc?(e=zc,zc+=1):e="TEST_OR_SSR",e)))}),[]),e||n}var Bc=["children","value"],Uc=["children"];function Zc(e){var t=e,n=t.key,r=t.props,o=r.children,i=r.value;return Bo({key:n,value:void 0!==i?i:n,children:o},Ko(r,Bc))}function Vc(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Oi(e).map((function(e,n){if(!s.isValidElement(e)||!e.type)return null;var r=e,o=r.type.isSelectOptGroup,i=r.key,a=r.props,u=a.children,l=Ko(a,Uc);return t||!o?Zc(e):Bo(Bo({key:"__RC_SELECT_GRP__".concat(null===i?n:i,"__"),label:i},l),{},{options:Vc(u)})})).filter((function(e){return e}))}var Kc=function(e,t,n,r,o){return s.useMemo((function(){var i=e;!e&&(i=Vc(t));var a=new Map,u=new Map,l=function(e,t,n){n&&"string"==typeof n&&e.set(t[n],t)};return function e(t){for(var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=0;c<t.length;c+=1){var s=t[c];!s[n.options]||i?(a.set(s[n.value],s),l(u,s,n.label),l(u,s,r),l(u,s,o)):e(s[n.options],!0)}}(i),{options:i,valueOptions:a,labelOptions:u}}),[e,t,n,r,o])};function Gc(e){var t=s.useRef();t.current=e;var n=s.useCallback((function(){return t.current.apply(t,arguments)}),[]);return n}var qc=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","optionRender","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","listHeight","listItemHeight","labelRender","value","defaultValue","labelInValue","onChange","maxCount"],Yc=["inputValue"];var Xc=s.forwardRef((function(e,t){var n=e.id,r=e.mode,o=e.prefixCls,i=void 0===o?"rc-select":o,a=e.backfill,u=e.fieldNames,l=e.inputValue,c=e.searchValue,f=e.onSearch,d=e.autoClearSearchValue,h=void 0===d||d,v=e.onSelect,p=e.onDeselect,y=e.dropdownMatchSelectWidth,m=void 0===y||y,g=e.filterOption,b=e.filterSort,w=e.optionFilterProp,L=e.optionLabelProp,x=e.options,k=e.optionRender,S=e.children,M=e.defaultActiveFirstOption,E=e.menuItemSelectedIcon,O=e.virtual,C=e.direction,I=e.listHeight,_=void 0===I?200:I,A=e.listItemHeight,N=void 0===A?20:A,P=e.labelRender,j=e.value,R=e.defaultValue,D=e.labelInValue,T=e.onChange,F=e.maxCount,z=Ko(e,qc),H=Wc(n),W=lc(r),B=!(x||!S),U=s.useMemo((function(){return(void 0!==g||"combobox"!==r)&&g}),[g,r]),Z=s.useMemo((function(){return tc(u,B)}),[JSON.stringify(u),B]),V=Vo(ti("",{value:void 0!==c?c:l,postState:function(e){return e||""}}),2),K=V[0],G=V[1],q=Kc(x,S,Z,w,L),Y=q.valueOptions,X=q.labelOptions,$=q.options,J=s.useCallback((function(e){return Ga(e).map((function(e){var t,n,r,o,i,a;(function(e){return!e||"object"!==Fo(e)})(e)?t=e:(r=e.key,n=e.label,t=null!==(a=e.value)&&void 0!==a?a:r);var u,l=Y.get(t);l&&(void 0===n&&(n=null==l?void 0:l[L||Z.label]),void 0===r&&(r=null!==(u=null==l?void 0:l.key)&&void 0!==u?u:t),o=null==l?void 0:l.disabled,i=null==l?void 0:l.title);return{label:n,value:t,key:r,disabled:o,title:i}}))}),[Z,L,Y]),Q=Vo(ti(R,{value:j}),2),ee=Q[0],te=Q[1],ne=s.useMemo((function(){var e,t=J(W&&null===ee?[]:ee);return"combobox"===r&&function(e){return!e&&0!==e}(null===(e=t[0])||void 0===e?void 0:e.value)?[]:t}),[ee,J,r,W]),re=function(e,t){var n=s.useRef({values:new Map,options:new Map});return[s.useMemo((function(){var r=n.current,o=r.values,i=r.options,a=e.map((function(e){var t;return void 0===e.label?Bo(Bo({},e),{},{label:null===(t=o.get(e.value))||void 0===t?void 0:t.label}):e})),u=new Map,l=new Map;return a.forEach((function(e){u.set(e.value,e),l.set(e.value,t.get(e.value)||i.get(e.value))})),n.current.values=u,n.current.options=l,a}),[e,t]),s.useCallback((function(e){return t.get(e)||n.current.options.get(e)}),[t])]}(ne,Y),oe=Vo(re,2),ie=oe[0],ae=oe[1],ue=s.useMemo((function(){if(!r&&1===ie.length){var e=ie[0];if(null===e.value&&(null===e.label||void 0===e.label))return[]}return ie.map((function(e){var t;return Bo(Bo({},e),{},{label:null!==(t="function"==typeof P?P(e):e.label)&&void 0!==t?t:e.value})}))}),[r,ie,P]),le=s.useMemo((function(){return new Set(ie.map((function(e){return e.value})))}),[ie]);s.useEffect((function(){if("combobox"===r){var e,t=null===(e=ie[0])||void 0===e?void 0:e.value;G(function(e){return null!=e}(t)?String(t):"")}}),[ie]);var ce=Gc((function(e,t){var n=null!=t?t:e;return Ho(Ho({},Z.value,e),Z.label,n)})),se=function(e,t,n,r,o){return s.useMemo((function(){if(!n||!1===r)return e;var i=t.options,a=t.label,u=t.value,l=[],c="function"==typeof r,s=n.toUpperCase(),f=c?r:function(e,t){return o?Fc(t[o],s):t[i]?Fc(t["children"!==a?a:"label"],s):Fc(t[u],s)},d=c?function(e){return nc(e)}:function(e){return e};return e.forEach((function(e){if(e[i])if(f(n,d(e)))l.push(e);else{var t=e[i].filter((function(e){return f(n,d(e))}));t.length&&l.push(Bo(Bo({},e),{},Ho({},i,t)))}else f(n,d(e))&&l.push(e)})),l}),[e,r,o,n,t])}(s.useMemo((function(){if("tags"!==r)return $;var e=To($);return To(ie).sort((function(e,t){return e.value<t.value?-1:1})).forEach((function(t){var n=t.value;(function(e){return Y.has(e)})(n)||e.push(ce(n,t.label))})),e}),[ce,$,Y,ie,r]),Z,K,U,w),fe=s.useMemo((function(){return"tags"!==r||!K||se.some((function(e){return e[w||"value"]===K}))||se.some((function(e){return e[Z.value]===K}))?se:[ce(K)].concat(To(se))}),[ce,w,r,se,K,Z]),de=function e(t){return To(t).sort((function(e,t){return b(e,t,{searchValue:K})})).map((function(t){return Array.isArray(t.options)?Bo(Bo({},t),{},{options:t.options.length>0?e(t.options):t.options}):t}))},he=s.useMemo((function(){return b?de(fe):fe}),[fe,b,K]),ve=s.useMemo((function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.fieldNames,r=t.childrenAsData,o=[],i=tc(n,!1),a=i.label,u=i.value,l=i.options,c=i.groupLabel;function s(e,t){Array.isArray(e)&&e.forEach((function(e){if(t||!(l in e)){var n=e[u];o.push({key:Ql(e,o.length),groupOption:t,data:e,label:e[a],value:n})}else{var i=e[c];void 0===i&&r&&(i=e.label),o.push({key:Ql(e,o.length),group:!0,data:e,label:i}),s(e[l],!0)}}))}return s(e,!1),o}(he,{fieldNames:Z,childrenAsData:B})}),[he,Z,B]),pe=function(e){var t=J(e);if(te(t),T&&(t.length!==ie.length||t.some((function(e,t){var n;return(null===(n=ie[t])||void 0===n?void 0:n.value)!==(null==e?void 0:e.value)})))){var n=D?t:t.map((function(e){return e.value})),r=t.map((function(e){return nc(ae(e.value))}));T(W?n:n[0],W?r:r[0])}},ye=Vo(s.useState(null),2),me=ye[0],ge=ye[1],be=Vo(s.useState(0),2),we=be[0],Le=be[1],xe=void 0!==M?M:"combobox"!==r,ke=s.useCallback((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.source,i=void 0===o?"keyboard":o;Le(t),a&&"combobox"===r&&null!==e&&"keyboard"===i&&ge(String(e))}),[a,r]),Se=function(e,t,n){var r=function(){var t,n=ae(e);return[D?{label:null==n?void 0:n[Z.label],value:e,key:null!==(t=null==n?void 0:n.key)&&void 0!==t?t:e}:e,nc(n)]};if(t&&v){var o=Vo(r(),2),i=o[0],a=o[1];v(i,a)}else if(!t&&p&&"clear"!==n){var u=Vo(r(),2),l=u[0],c=u[1];p(l,c)}},Me=Gc((function(e,t){var n,o=!W||t.selected;n=o?W?[].concat(To(ie),[e]):[e]:ie.filter((function(t){return t.value!==e})),pe(n),Se(e,o),"combobox"===r?ge(""):lc&&!h||(G(""),ge(""))})),Ee=s.useMemo((function(){var e=!1!==O&&!1!==m;return Bo(Bo({},q),{},{flattenOptions:ve,onActiveValue:ke,defaultActiveFirstOption:xe,onSelect:Me,menuItemSelectedIcon:E,rawValues:le,fieldNames:Z,virtual:e,direction:C,listHeight:_,listItemHeight:N,childrenAsData:B,maxCount:F,optionRender:k})}),[F,q,ve,ke,xe,Me,E,le,Z,O,m,C,_,N,B,k]);return s.createElement(oc.Provider,{value:Ee},s.createElement(sc,Po({},z,{id:H,prefixCls:i,ref:t,omitDomProps:Yc,mode:r,displayValues:ue,onDisplayValuesChange:function(e,t){pe(e);var n=t.type,r=t.values;"remove"!==n&&"clear"!==n||r.forEach((function(e){Se(e.value,!1,n)}))},direction:C,searchValue:K,onSearch:function(e,t){if(G(e),ge(null),"submit"!==t.source)"blur"!==t.source&&("combobox"===r&&pe(e),null==f||f(e));else{var n=(e||"").trim();if(n){var o=Array.from(new Set([].concat(To(le),[n])));pe(o),Se(n,!0),G("")}}},autoClearSearchValue:h,onSearchSplit:function(e){var t=e;"tags"!==r&&(t=e.map((function(e){var t=X.get(e);return null==t?void 0:t.value})).filter((function(e){return void 0!==e})));var n=Array.from(new Set([].concat(To(le),To(t))));pe(n),n.forEach((function(e){Se(e,!0)}))},dropdownMatchSelectWidth:m,OptionList:Tc,emptyOptions:!ve.length,activeValue:me,activeDescendantId:"".concat(H,"_list_").concat(we)})))}));var $c=Xc;$c.Option=vc,$c.OptGroup=dc;var Jc=$c,Qc=["prefixCls","bordered","className","getPopupContainer","dropdownClassName","popupClassName","listHeight","placement","listItemHeight","disabled","notFoundContent"],es="SECRET_COMBOBOX_MODE_DO_NOT_USE",ts="larkmap-select",ns=function(e,t){e.prefixCls;var n=e.bordered,r=void 0===n||n,o=e.className,i=e.getPopupContainer,u=(e.dropdownClassName,e.popupClassName),l=e.listHeight,c=void 0===l?256:l,f=e.placement,d=e.listItemHeight,h=void 0===d?24:d,v=e.disabled,p=e.notFoundContent,g=a()(e,Qc),b=s.useMemo((function(){var e=g.mode;if("combobox"!==e)return e===es?"combobox":e}),[g]),w=(0,m.omit)(g,"suffixIcon","itemIcon"),L=y()(A()({},"".concat(ts,"-borderless"),!r),o);return s.createElement(Jc,Mo()({ref:t},w,{listHeight:c,listItemHeight:h,mode:b,prefixCls:ts,placement:f,notFoundContent:null!=p?p:"",className:L,getPopupContainer:i,dropdownClassName:u,disabled:v}))},rs=s.forwardRef(ns);rs.SECRET_COMBOBOX_MODE_DO_NOT_USE=es,rs.Option=vc,rs.OptGroup=dc;var os=rs,is=["searchParams","showDistrict","showAddress","onSearchFinish","onChange"],as=["keywords","privateKey"],us=os.Option,ls={placeholder:"",showSearch:!0,allowClear:!0,filterOption:!1,defaultActiveFirstOption:!1},cs=function(e){var t=e.searchParams,r=e.showDistrict,i=void 0===r||r,u=e.showAddress,l=void 0===u||u,c=e.onSearchFinish,d=e.onChange,h=a()(e,is),v=(0,s.useState)([]),p=o()(v,2),y=p[0],m=p[1];(0,s.useEffect)((function(){null==c||c(y)}),[c,y]);var g=Co(function(){var e=W()(T()().mark((function e(r){var i,u,l,c,s,f,d;return T()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=3;break}return m([]),e.abrupt("return");case 3:return u=t.keywords,l=t.privateKey,c=a()(t,as),s=n()(n()({},c),{},{keywords:[].concat(Z()((null!=u?u:"").split("|")),[r]).filter((function(e){return!!e})).join("|")}),l&&(s.sig=_o()(Ao(s,!1)+l)),f="".concat("https://restapi.amap.com/v3/assistant/inputtips","?").concat(Ao(s,!0)),e.next=9,fetch(f);case 9:return e.next=11,e.sent.json();case 11:d=e.sent,m((null!==(i=null==d?void 0:d.tips)&&void 0!==i?i:[]).filter((function(e){return e.location&&e.location.length})).map((function(e){var t=e.location.split(","),n=o()(t,2),r=n[0],i=n[1];return e.longitude=+r,e.latitude=+i,e})));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{wait:1e3}),b=g.run,w=(0,s.useCallback)((function(e){var t=e&&y.find((function(t){return t.name===e}));null==d||d(e||void 0,t||void 0)}),[d,y]);return f().createElement(os,Mo()({className:"".concat(No),onSearch:b,onChange:w,clearIcon:function(){return null}},ls,h),y.map((function(e){var t="".concat(i?e.district:"").concat(l?e.address:"");return f().createElement(us,{key:e.id,value:e.name},f().createElement("div",{title:e.name,className:"".concat(No,"__option-name")},e.name),t&&f().createElement("div",{title:t,className:"".concat(No,"__option-tip")},t))})))},ss=function(e){var t=e.className,r=e.style,i=e.searchParams,a=e.transformBounds,u=e.onChange,l=oe(),c=(0,s.useState)("-"),d=o()(c,2),h=d[0],v=d[1];return(0,s.useEffect)((function(){var e=function(){var e=W()(T()().mark((function e(){var t,r,c,s,f,d,h,p,y,g,b,w;return T()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l){e.next=2;break}return e.abrupt("return");case 2:return t=function(e,t){return new Promise((function(r,o){var a,u;fetch((a="https://restapi.amap.com/v3/geocode/regeo",u=n()(n()({},i),{},{location:"".concat(e,",").concat(t)}),"".concat(a,"?").concat(Ao(u,!0)))).then((function(e){return e.json()})).then((function(e){if("1"===e.status){var t=e.regeocode.addressComponent,n=t.country,i=t.province,a=t.city,u=t.district,l=t.township;r([n,i,a,u,l].filter((function(e){return"string"==typeof e&&e})))}else o(e)}))}))},r=l.getBounds(),c=o()(r,2),s=c[0],f=c[1],a&&(d=a([s,f]),h=o()(d,2),s=h[0],f=h[1]),e.next=7,Promise.all([t.apply(void 0,Z()(s)),t.apply(void 0,Z()(f))]);case 7:p=e.sent,y=o()(p,2),g=y[0],b=y[1],w=g.length&&b.length?(0,m.intersection)(g,b).join(" "):"-",v(w),null==u||u(w,[s,f]);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=(0,m.debounce)(e,500,{maxWait:500});return e(),null==l||l.on("mapchange",t),function(){null==l||l.off("mapchange",t)}}),[u,l,i,a]),f().createElement("div",{className:y()([t,"larkmap-administrative-location"]),style:r},h)},fs="larkmap-legend-icon",ds=function(e){var t=e.labels,n=e.icons,r=e.className,o=e.style;return f().createElement("div",{className:y()("".concat(fs),r),style:o},t.map((function(e,t){return f().createElement("div",{key:e,className:"".concat(fs,"__content")},(r=n[t],f().isValidElement(r)?r:"string"==typeof r?f().createElement("img",{src:r}):void 0),f().createElement("div",null,e));var r})))},hs="larkmap-legend-proportion",vs=function(e){var t=e.labels,n=e.fillColor,r=void 0===n?"#f9f9f9":n,i=e.className,a=e.style,u=o()(t,2),l=u[0],c=u[1],s=[86,62,38,24];function d(){var e=l,t=c;(0,m.isNumber)(e)&&(0,m.isNumber)(e)||(e=t=0),(0,m.isNaN)(e)&&(e=0),(0,m.isNaN)(t)&&(t=0);var n=function(e,t){var n=(t-e)/4;return[Math.floor(e+n),Math.floor(t-n)]}(e,t);return[{prefix:"MIN:",val:e}].concat(Z()(n),[{prefix:"MAX:",val:t}])}function h(){return f().createElement("div",{className:"".concat(hs,"__circlebox"),style:{width:s[0]}},s.map((function(e){return f().createElement("div",{key:e,style:{width:e,height:e,background:r},className:"".concat(hs,"__circlebox__item")})})))}function v(){return f().createElement("div",{style:{height:s[0]}},d().reverse().map((function(e){return f().createElement("div",{key:(0,m.uniqueId)(),className:"".concat(hs,"__labelitem")},null==e?void 0:e.prefix,"number"==typeof e?e:e.val)})))}return f().createElement("div",{className:y()("".concat(hs),i),style:a},f().createElement(h,null),f().createElement(v,null))},ps=u(3059),ys=u.n(ps),ms="larkmap-legend-category";function gs(e){var t=e.labels,n=e.colors,r=e.geometryType,o=void 0===r?"circle":r,i=e.isStrokeColor,a=void 0!==i&&i,u=e.style,l=e.className;function c(e){return a?{border:"2px solid ".concat(e)}:{background:e}}function s(e){return f().createElement("div",{className:y()(ms,l),style:u},t.map((function(t,n){return f().createElement("div",{className:"".concat(ms,"__content"),key:"".concat(t,"__").concat(e[n],"__").concat(n)},f().createElement("div",{className:y()("".concat(ms,"__content__shape"),A()({},"".concat(ms,"__content__").concat(o),o)),style:c(e[n])}),f().createElement("div",{className:"".concat(ms,"labels")},t))})))}function d(){if(Array.isArray(n))return s(n);var e=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,r=[e],o=ys()(e).object(),i=ys()(t).object();if(n<2)return n<1?[]:r;var a={r:(o.r-i.r)/(n-1),g:(o.g-i.g)/(n-1),b:(o.b-i.b)/(n-1)};return(0,m.forEach)(new Array(n-2),(function(e,t){return r.push(ys()({r:(0,m.round)(o.r-a.r*(t+1),0),g:(0,m.round)(o.g-a.g*(t+1),0),b:(0,m.round)(o.b-a.b*(t+1),0)}).hex())})),r.push(t),r}(n.startColor,n.endColor,t.length);return s(e)}return f().createElement(d,null)}var bs=function(e){var t=(0,s.useRef)(0),n=pe((0,s.useState)(e),2),r=n[0],o=n[1],i=(0,s.useCallback)((function(e){cancelAnimationFrame(t.current),t.current=requestAnimationFrame((function(){o(e)}))}),[]);return X((function(){cancelAnimationFrame(t.current)})),[r,i]},ws=!("undefined"==typeof window||!window.document||!window.document.createElement);function Ls(e,t){if(ws)return e?Y(e)?e():"current"in e?e.current:e:t}function xs(e,t){if(e===t)return!0;for(var n=0;n<e.length;n++)if(!Object.is(e[n],t[n]))return!1;return!0}var ks=function(e){return function(t,n,r){var o=(0,s.useRef)(!1),i=(0,s.useRef)([]),a=(0,s.useRef)([]),u=(0,s.useRef)();e((function(){var e,l=(Array.isArray(r)?r:[r]).map((function(e){return Ls(e)}));if(!o.current)return o.current=!0,i.current=l,a.current=n,void(u.current=t());l.length===i.current.length&&xs(i.current,l)&&xs(a.current,n)||(null===(e=u.current)||void 0===e||e.call(u),i.current=l,a.current=n,u.current=t())})),X((function(){var e;null===(e=u.current)||void 0===e||e.call(u),o.current=!1}))}},Ss=ks(s.useEffect),Ms=ks(s.useLayoutEffect),Es=ws?Ms:Ss;var Os=function(e){var t=pe(bs((function(){var t=Ls(e);return t?{width:t.clientWidth,height:t.clientHeight}:void 0})),2),n=t[0],r=t[1];return Es((function(){var t=Ls(e);if(t){var n=new Ji((function(e){e.forEach((function(e){var t=e.target,n=t.clientWidth,o=t.clientHeight;r({width:n,height:o})}))}));return n.observe(t),function(){n.disconnect()}}}),[],e),n},Cs="larkmap-legend-ramp";function Is(e){var t=e.labels,n=e.labelUnit,r=void 0===n?"":n,o=e.colors,i=t[0]+r,a=t[t.length-1]+r;return f().createElement(f().Fragment,null,f().createElement("div",{className:"".concat(Cs,"__continuous"),style:{background:"linear-gradient(to right,".concat(o,")")}}),f().createElement("div",{className:"".concat(Cs,"__continuous-labelbar")},f().createElement("span",null,i),f().createElement("span",null,a)))}function _s(e){var t=e.labels,n=e.labelUnit,r=void 0===n?"":n,o=e.colors,i=(0,s.useRef)(null),a=Os(i),u=(null==a?void 0:a.width)/(o.length+1),l=t;if(t.length+1===o.length){var c="< "+t[0],d=" "+t[t.length-1];l.unshift(c),l.push(d)}return f().createElement("div",{className:"".concat(Cs,"__dis-continuous"),ref:i},Number.isNaN(u)?null:f().createElement(f().Fragment,null,f().createElement("div",{className:"".concat(Cs,"__dis-continuous__colors"),style:{paddingLeft:u/2}},null==o?void 0:o.map((function(e,n){return f().createElement("div",{key:e,title:(o=n,"".concat(t[o]).concat(r," - ").concat(t[o+1]).concat(r)),className:"".concat(Cs,"__dis-continuous__color"),style:{background:e,width:u}});var o}))),f().createElement("div",{className:"".concat(Cs,"__dis-continuous__labels")},null==t?void 0:t.map((function(e){var t=e+r;return f().createElement("span",{key:e,className:"".concat(Cs,"__dis-continuous__label")},t)})))))}function As(e){var t=e.isContinuous,n=void 0!==t&&t,r=e.labels,o=e.colors,i=e.labelUnit,a=void 0===i?"":i,u=e.className,l=e.style;return f().createElement("div",{className:y()("".concat(Cs),u),style:l},n?f().createElement(Is,{labels:r,labelUnit:a,colors:o}):f().createElement(_s,{labels:r,labelUnit:a,colors:o}))}var Ns=u(3082),Ps={point:Ns.DrawPoint,line:Ns.DrawLine,polygon:Ns.DrawPolygon,rect:Ns.DrawRect,circle:Ns.DrawCircle},js=function(e){var t=oe(),r=(0,s.useState)((function(){var t,n;return null!==(t=(0,m.cloneDeep)(null==e||null===(n=e.options)||void 0===n?void 0:n.initialData))&&void 0!==t?t:[]})),i=o()(r,2),a=i[0],u=i[1],l=(0,s.useMemo)((function(){return t?new(0,Ps[e.type])(t,n()(n()({},e.options),{},{initialData:(0,m.cloneDeep)(a)})):(console.error("useDraw  LarkMap "),null)}),[t,JSON.stringify((0,m.omit)(e.options,"initialData")),e.type]),c=(0,s.useState)(l.isEnable()),f=o()(c,2),d=f[0],h=f[1];(0,s.useEffect)((function(){var e=function(){return h(!0)},t=function(){return h(!1)},n=function(e){u(e)};return null==l||l.setData(a),null==l||l.on(Ns.DrawEvent.Enable,e),null==l||l.on(Ns.DrawEvent.Disable,t),null==l||l.on(Ns.DrawEvent.Change,n),function(){u(l.getData()),null==l||l.off(Ns.DrawEvent.Enable,e),null==l||l.off(Ns.DrawEvent.Disable,t),null==l||l.off(Ns.DrawEvent.Change,n),null==l||l.destroy()}}),[l]);var v=(0,s.useCallback)((function(e){null==l||l.setData(e),u(e)}),[l]),p=(0,s.useMemo)((function(){return{enable:null==l?void 0:l.enable.bind(l),disable:null==l?void 0:l.disable.bind(l),getDrawData:null==l?void 0:l.getData.bind(l)}}),[l]);return n()({drawType:e.type,draw:l,drawData:a,setDrawData:v,isEnable:d},p)},Rs=function(e,t){var r=e.point,i=e.line,a=e.polygon,u=e.rect,l=e.circle,c=!!r,f=!!i,d=!!a,h=!!u,v=!!l,p=(0,s.useCallback)((function(e){return n()(n()({},t),e instanceof Object?e:{})}),[t]),y=js({type:"point",options:p(r)}),g=js({type:"line",options:p(i)}),b=js({type:"polygon",options:p(a)}),w=js({type:"rect",options:p(u)}),L=js({type:"circle",options:p(l)}),x=(0,s.useMemo)((function(){return(0,m.fromPairs)((0,m.toPairs)({point:c?y:void 0,line:f?g:void 0,polygon:d?b:void 0,rect:h?w:void 0,circle:v?L:void 0}).filter((function(e){return!!o()(e,2)[1]})))}),[y,g,b,w,L,c,f,d,h,v]),k=(0,s.useMemo)((function(){return(0,m.fromPairs)((0,m.toPairs)(x).map((function(e){var t=o()(e,2);return[t[0],t[1].draw]})))}),[x]),S=(0,s.useMemo)((function(){return(0,m.fromPairs)((0,m.toPairs)(x).map((function(e){var t=o()(e,2);return[t[0],t[1].drawData]})))}),[x]),M=(0,s.useCallback)((function(e){Object.entries(e).forEach((function(e){var t,n=o()(e,2),r=n[0],i=n[1];null===(t=x[r])||void 0===t||t.setDrawData(i)}))}),[x]),E=(0,s.useMemo)((function(){return Object.values(x).find((function(e){return e.isEnable}))}),[x]),O=(0,s.useMemo)((function(){var e;return null!==(e=null==E?void 0:E.draw)&&void 0!==e?e:null}),[E]),C=(0,s.useCallback)((function(e){Object.values(x).forEach((function(t){var n,r;if(t){var o="string"==typeof e?null!==(n=null===(r=x[e])||void 0===r?void 0:r.draw)&&void 0!==n?n:null:e;if(o){var i=t.isEnable;o===t.draw?i||t.enable():i&&t.disable()}else t.disable()}}))}),[x]);return{drawMap:k,drawGroupData:S,setDrawGroupData:M,activeDraw:O,activeDrawInfo:E,setActiveDraw:C}},Ds="1.5.1";function Ts(e,t){var n=null!=t?t:{},r=n.zoomGap,o=void 0===r?0:r,i=n.mainIndex,a=void 0===i?0:i,u=[],l=[],c=function(){null==u||u.forEach((function(e){return e()})),u.length=0},s=function(t){var n=e[t],r=n.getCenter(),i=n.getZoom(),u=n.getRotation(),l=n.getPitch(),c=t===a;e.forEach((function(e,n){n!==t&&function(e,t){var n=function(e){var t=e.getMapService().version;return null!=t&&t.includes("MAPBOX")?"Mapbox":"Gaode"}(e),r=t.zoom,o=t.center,i=t.pitch,a=t.rotation;if("Gaode"===n){var u=null==e?void 0:e.map;o&&u.setCenter(o,!0),(0,m.isNumber)(r)&&(null==u||u.setZoom(r+1,!0)),(0,m.isNumber)(a)&&(null==u||u.setRotation(360-a,!0)),(0,m.isNumber)(i)&&(null==u||u.setPitch(i,!0))}else(0,m.isNumber)(r)&&(null==e||e.setZoom(r)),o&&(null==e||e.setCenter(o)),(0,m.isNumber)(a)&&e.setRotation(a),(0,m.isNumber)(i)&&(null==e||e.setPitch(i))}(e,{zoom:c?i+o:n===a?i-o:i,center:[r.lng,r.lat],rotation:u,pitch:l})}))},f=function(e){c(),s(e),d()};function d(){l=e.map((function(e,t){return f.bind(null,t)})),e.forEach((function(t,n){u.push(function(t){var n=e[t];return n.on("mapmove",l[t]),n.on("dragging",l[t]),n.on("rotate",l[t]),n.on("zoomchange",l[t]),function(){n.off("mapmove",l[t]),n.off("dragging",l[t]),n.off("zoomchange",l[t]),n.off("rotate",l[t])}}(n))}))}return e.forEach((function(e,t){s(t)})),d(),c}var Fs=function(e){var t=e.scenes,n=e.options;return f().useEffect((function(){return Ts(t,n)}),[t,n]),f().createElement(f().Fragment,null)}}(),l}()}));