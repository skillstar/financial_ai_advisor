"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.useLayerList = void 0;
var _react = require("react");
var _useLayerManager = require("../use-layer-manager");
const useLayerList = () => {
  const layerManager = (0, _useLayerManager.useLayerManager)();
  const [layerList, setLayerList] = (0, _react.useState)(layerManager?.getLayers() || []);
  (0, _react.useEffect)(() => {
    if (layerManager) {
      const onUpdateLayerList = () => {
        setLayerList(layerManager.getLayers());
      };
      layerManager.on('add', onUpdateLayerList);
      layerManager.on('remove', onUpdateLayerList);
      return () => {
        layerManager.off('add', onUpdateLayerList);
        layerManager.off('remove', onUpdateLayerList);
      };
    }
  }, [layerManager]);
  return layerList;
};
exports.useLayerList = useLayerList;